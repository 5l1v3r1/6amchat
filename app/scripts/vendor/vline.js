/* Copyright 2013 vLine, inc. All rights reserved. */

(function(){
"undefined"!==typeof dojo?dojo.provide("org.cometd"):(this.org=this.org||{},org.cometd={});org.cometd.JSON={};org.cometd.JSON.toJSON=org.cometd.JSON.fromJSON=function(){throw"Abstract";};org.cometd.Utils={};org.cometd.Utils.isString=function(b){return void 0===b||null===b?!1:"string"===typeof b||b instanceof String};org.cometd.Utils.isArray=function(b){return void 0===b||null===b?!1:b instanceof Array};org.cometd.Utils.inArray=function(b,d){for(var c=0;c<d.length;++c)if(b===d[c])return c;return-1};
org.cometd.Utils.setTimeout=function(b,d,c){return window.setTimeout(function(){try{d()}catch(c){b._debug("Exception invoking timed function",d,c)}},c)};org.cometd.Utils.clearTimeout=function(b){window.clearTimeout(b)};
org.cometd.TransportRegistry=function(){var b=[],d={};this.getTransportTypes=function(){return b.slice(0)};this.findTransportTypes=function(c,a,j){for(var h=[],i=0;i<b.length;++i){var f=b[i];!0===d[f].accept(c,a,j)&&h.push(f)}return h};this.negotiateTransport=function(c,a,j,h){for(var i=0;i<b.length;++i)for(var f=b[i],m=0;m<c.length;++m)if(f===c[m]){var g=d[f];if(!0===g.accept(a,j,h))return g}return null};this.add=function(c,a,j){for(var h=!1,i=0;i<b.length;++i)if(b[i]===c){h=!0;break}h||("number"!==
typeof j?b.push(c):b.splice(j,0,c),d[c]=a);return!h};this.find=function(c){for(var a=0;a<b.length;++a)if(b[a]===c)return d[c];return null};this.remove=function(c){for(var a=0;a<b.length;++a)if(b[a]===c)return b.splice(a,1),a=d[c],delete d[c],a;return null};this.clear=function(){b=[];d={}};this.reset=function(){for(var c=0;c<b.length;++c)d[b[c]].reset()}};
org.cometd.Transport=function(){var b,d;this.registered=function(c,a){b=c;d=a};this.unregistered=function(){d=b=null};this._debug=function(){d._debug.apply(d,arguments)};this._mixin=function(){return d._mixin.apply(d,arguments)};this.getConfiguration=function(){return d.getConfiguration()};this.getAdvice=function(){return d.getAdvice()};this.setTimeout=function(c,a){return org.cometd.Utils.setTimeout(d,c,a)};this.clearTimeout=function(c){org.cometd.Utils.clearTimeout(c)};this.convertToMessages=function(c){if(org.cometd.Utils.isString(c))try{return org.cometd.JSON.fromJSON(c)}catch(a){throw this._debug("Could not convert to JSON the following string",
'"'+c+'"'),a;}if(org.cometd.Utils.isArray(c))return c;if(void 0===c||null===c)return[];if(c instanceof Object)return[c];throw"Conversion Error "+c+", typeof "+typeof c;};this.accept=function(){throw"Abstract";};this.getType=function(){return b};this.send=function(){throw"Abstract";};this.reset=function(){this._debug("Transport",b,"reset")};this.abort=function(){this._debug("Transport",b,"aborted")};this.toString=function(){return this.getType()}};
org.cometd.Transport.derive=function(b){function d(){}d.prototype=b;return new d};
org.cometd.RequestTransport=function(){function b(c){for(;0<g.length;){var a=g[0],d=a[0],a=a[1];if(d.url===c.url&&d.sync===c.sync)g.shift(),c.messages=c.messages.concat(d.messages),this._debug("Coalesced",d.messages.length,"messages from request",a.id);else break}}function d(c,a){this.transportSend(c,a);a.expired=!1;if(!c.sync){var d=this.getConfiguration().maxNetworkDelay,g=d;!0===a.metaConnect&&(g+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",g,"ms for the response, maxNetworkDelay",
d);var b=this;a.timeout=this.setTimeout(function(){a.expired=!0;a.xhr&&a.xhr.abort();var d="Request "+a.id+" of transport "+b.getType()+" exceeded "+g+" ms max network delay";b._debug(d);b.complete(a,!1,a.metaConnect);c.onFailure(a.xhr,c.messages,"timeout",d)},g)}}function c(c){var a=++i,b={id:a,metaConnect:!1};m.length<this.getConfiguration().maxConnections-1?(m.push(b),d.call(this,c,b)):(this._debug("Transport",this.getType(),"queueing request",a,"envelope",c),g.push([c,b]))}function a(a,d){var f=
org.cometd.Utils.inArray(a,m);0<=f&&m.splice(f,1);if(0<g.length){var f=g.shift(),j=f[0],h=f[1];this._debug("Transport dequeued request",h.id);if(d)this.getConfiguration().autoBatch&&b.call(this,j),c.call(this,j),this._debug("Transport completed request",a.id,j);else{var i=this;this.setTimeout(function(){i.complete(h,!1,h.metaConnect);j.onFailure(h.xhr,j.messages,"error","Previous request failed")},0)}}}var j=new org.cometd.Transport,h=org.cometd.Transport.derive(j),i=0,f=null,m=[],g=[];h.complete=
function(c,d,g){if(g){c=c.id;this._debug("Transport",this.getType(),"metaConnect complete, request",c);if(null!==f&&f.id!==c)throw"Longpoll request mismatch, completing request "+c;f=null}else a.call(this,c,d)};h.transportSend=function(){throw"Abstract";};h.transportSuccess=function(c,a,d){if(!a.expired)if(this.clearTimeout(a.timeout),this.complete(a,!0,a.metaConnect),d&&0<d.length)c.onSuccess(d);else c.onFailure(a.xhr,c.messages,"Empty HTTP response")};h.transportFailure=function(c,a,d,g){a.expired||
(this.clearTimeout(a.timeout),this.complete(a,!1,a.metaConnect),c.onFailure(a.xhr,c.messages,d,g))};h.send=function(a,g){if(g){if(null!==f)throw"Concurrent metaConnect requests not allowed, request id="+f.id+" not yet completed";var b=++i;this._debug("Transport",this.getType(),"metaConnect send, request",b,"envelope",a);b={id:b,metaConnect:!0};d.call(this,a,b);f=b}else c.call(this,a)};h.abort=function(){j.abort();for(var c=0;c<m.length;++c){var a=m[c];this._debug("Aborting request",a);a.xhr&&a.xhr.abort()}f&&
(this._debug("Aborting metaConnect request",f),f.xhr&&f.xhr.abort());this.reset()};h.reset=function(){j.reset();f=null;m=[];g=[]};return h};
org.cometd.LongPollingTransport=function(){var b=new org.cometd.RequestTransport,d=org.cometd.Transport.derive(b),c=!0;d.accept=function(a,d){return c||!d};d.xhrSend=function(){throw"Abstract";};d.transportSend=function(a,d){this._debug("Transport",this.getType(),"sending request",d.id,"envelope",a);var b=this;try{var i=!0;d.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(a.messages),onSuccess:function(f){b._debug("Transport",
b.getType(),"received response",f);var g=!1;try{var i=b.convertToMessages(f);0===i.length?(c=!1,b.transportFailure(a,d,"no response",null)):(g=!0,b.transportSuccess(a,d,i))}catch(o){b._debug(o),g||(c=!1,b.transportFailure(a,d,"bad response",o))}},onError:function(f,g){c=!1;i?b.setTimeout(function(){b.transportFailure(a,d,f,g)},0):b.transportFailure(a,d,f,g)}});i=!1}catch(f){c=!1,this.setTimeout(function(){b.transportFailure(a,d,"error",f)},0)}};d.reset=function(){b.reset();c=!0};return d};
org.cometd.CallbackPollingTransport=function(){var b=new org.cometd.RequestTransport,b=org.cometd.Transport.derive(b);b.accept=function(){return!0};b.jsonpSend=function(){throw"Abstract";};b.transportSend=function(d,c){for(var a=this,b=0,h=d.messages.length,i=[];0<h;){var f=org.cometd.JSON.toJSON(d.messages.slice(b,b+h)),f=d.url.length+encodeURI(f).length;if(2E3<f){if(1===h){var m="Bayeux message too big ("+f+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){a.transportFailure(d,
c,"error",m)},0);return}--h}else i.push(h),b+=h,h=d.messages.length-b}var g=d;if(1<i.length){b=0;h=i[0];this._debug("Transport",this.getType(),"split",d.messages.length,"messages into",i.join(" + "));g=this._mixin(!1,{},d);g.messages=d.messages.slice(b,h);g.onSuccess=d.onSuccess;g.onFailure=d.onFailure;for(f=1;f<i.length;++f){var l=this._mixin(!1,{},d),b=h,h=h+i[f];l.messages=d.messages.slice(b,h);l.onSuccess=d.onSuccess;l.onFailure=d.onFailure;this.send(l,c.metaConnect)}}this._debug("Transport",
this.getType(),"sending request",c.id,"envelope",g);try{var o=!0;this.jsonpSend({transport:this,url:g.url,sync:g.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(g.messages),onSuccess:function(d){var b=!1;try{var f=a.convertToMessages(d);0===f.length?a.transportFailure(g,c,"no response"):(b=!0,a.transportSuccess(g,c,f))}catch(h){a._debug(h),b||a.transportFailure(g,c,"bad response",h)}},onError:function(d,b){o?a.setTimeout(function(){a.transportFailure(g,c,d,b)},0):a.transportFailure(g,
c,d,b)}});o=!1}catch(u){this.setTimeout(function(){a.transportFailure(g,c,"error",u)},0)}};return b};
org.cometd.WebSocketTransport=function(){function b(){var c=h.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",c);var a=this,d=null,b=h.getConfiguration().connectTimeout;0<b&&(d=this.setTimeout(function(){d=null;l||(a._debug("Transport",a.getType(),"timed out while connecting to URL",c,":",b,"ms"),a.onClose(1002,"Connect Timeout"))},b));var f=new org.cometd.WebSocket(c);f.onopen=function(){a._debug("WebSocket opened",f);d&&(a.clearTimeout(d),d=null);if(f!==
g)a._debug("Ignoring open event, WebSocket",g);else a.onOpen()};f.onclose=function(c){var b=c?c.code:1E3,c=c?c.reason:void 0;a._debug("WebSocket closed",b,"/",c,f);d&&(a.clearTimeout(d),d=null);if(f!==g)a._debug("Ignoring close event, WebSocket",g);else a.onClose(b,c)};f.onerror=function(){f.onclose({code:1002})};f.onmessage=function(c){a._debug("WebSocket message",c,f);if(f!==g)a._debug("Ignoring message event, WebSocket",g);else a.onMessage(c)};g=f;this._debug("Transport",this.getType(),"configured callbacks on",
f)}function d(c,a){var d=org.cometd.JSON.toJSON(c.messages);g.send(d);this._debug("Transport",this.getType(),"sent",c,"metaConnect =",a);var b=d=this.getConfiguration().maxNetworkDelay;a&&(b+=this.getAdvice().timeout,o=!0);for(var f=[],h=0;h<c.messages.length;++h){var i=c.messages[h];if(i.id){f.push(i.id);var j=g;m[i.id]=this.setTimeout(function(){j&&j.close(1E3,"Timeout")},b)}}this._debug("Transport",this.getType(),"waiting at most",b,"ms for messages",f,"maxNetworkDelay",d,", timeouts:",m)}function c(c,
a){try{null===g?b.call(this):l&&d.call(this,c,a)}catch(f){this.setTimeout(function(){c.onFailure(g,c.messages,"error",f)},0)}}var a=new org.cometd.Transport,j=org.cometd.Transport.derive(a),h,i=!0,f={},m={},g=null,l=!1,o=!1,u;j.onOpen=function(){this._debug("Transport",this.getType(),"opened",g);l=!0;this._debug("Sending pending messages",f);for(var c in f){var a=f[c],b=a[0],a=a[1];u=b.onSuccess;d.call(this,b,a)}};j.onMessage=function(c){this._debug("Transport",this.getType(),"received websocket message",
c,g);for(var a=!1,c=this.convertToMessages(c.data),d=[],b=0;b<c.length;++b){var h=c[b];if((/^\/meta\//.test(h.channel)||void 0===h.data||/^\/service\//.test(h.channel))&&h.id){d.push(h.id);var i=m[h.id];i&&(this.clearTimeout(i),delete m[h.id],this._debug("Transport",this.getType(),"removed timeout for message",h.id,", timeouts",m))}"/meta/connect"===h.channel&&(o=!1);"/meta/disconnect"===h.channel&&!o&&(a=!0)}b=!1;for(h=0;h<d.length;++h){var j=d[h],v;for(v in f){var i=v.split(","),x=org.cometd.Utils.inArray(j,
i);if(0<=x){b=!0;i.splice(x,1);j=f[v][0];x=f[v][1];delete f[v];0<i.length&&(f[i.join(",")]=[j,x]);break}}}b&&this._debug("Transport",this.getType(),"removed envelope, envelopes",f);u.call(this,c);a&&null!==g&&l&&(g.close(1E3,"Disconnect"),g=null,l=!1)};j.onClose=function(c,a){this._debug("Transport",this.getType(),"closed",c,a,g);for(var b in m)this.clearTimeout(m[b]);m={};for(var d in f)b=f[d][0],f[d][1]&&(o=!1),b.onFailure(g,b.messages,"closed "+c+"/"+a);f={};null!==g&&l&&g.close(1E3,"Close");l=
!1;g=null};j.registered=function(c,b){a.registered(c,b);h=b};j.accept=function(){return i&&!!org.cometd.WebSocket&&!1!==h.websocketEnabled};j.send=function(a,b){this._debug("Transport",this.getType(),"sending",a,"metaConnect =",b);for(var d=[],g=0;g<a.messages.length;++g){var h=a.messages[g];h.id&&d.push(h.id)}f[d.join(",")]=[a,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",f);c.call(this,a,b)};j.abort=function(){a.abort();if(null!==g)try{g.close(1001)}catch(c){this._debug(c)}this.reset()};
j.reset=function(){a.reset();null!==g&&l&&g.close(1E3,"Reset");i=!0;m={};f={};g=null;l=!1;u=null};return j};
org.cometd.Cometd=function(b){function d(e){return org.cometd.Utils.isString(e)}function c(e){return void 0===e||null===e?!1:"function"===typeof e}function a(e,a){if(window.console){var b=window.console[e];if(c(b)){for(var d=Array.prototype.slice.call(a),f=0;f<d.length;f++)if("object"==typeof d[f]){var g=[];d[f]=JSON.stringify(d[f],function(e,c){if("object"===typeof c&&null!==c){if(-1!==g.indexOf(c))return;g.push(c)}return c});g=null}b.call(window.console,d.join())}}}function j(){for(var e in w)for(var c=
w[e],a=0;a<c.length;++a){var b=c[a];b&&!b.listener&&(delete c[a],k._debug("Removed subscription",b,"for channel",e))}}function h(e){A!==e&&(k._debug("Status",A,"->",e),A=e)}function i(){return"disconnecting"===A||"disconnected"===A}function f(e,a,b,d,f){try{return a.call(e,d)}catch(g){k._debug("Exception during execution of extension",b,g);e=k.onExtensionException;if(c(e)){k._debug("Invoking extension exception callback",b,g);try{e.call(k,g,b,f,d)}catch(h){k._info("Exception during execution of exception callback in extension",
b,h)}}return d}}function m(e){for(var a=0;a<q.length&&!(void 0===e||null===e);++a){var b=q[a],d=b.extension.outgoing;c(d)&&(b=f(b.extension,d,b.name,e,!0),e=void 0===b?e:b)}return e}function g(e,a){var b=w[e];if(b&&0<b.length)for(var d=0;d<b.length;++d){var f=b[d];if(f)try{f.callback.call(f.scope,a)}catch(g){k._debug("Exception during notification",f,a,g);var h=k.onListenerException;if(c(h)){k._debug("Invoking listener exception callback",f,g);try{h.call(k,g,f.handle,f.listener,a)}catch(i){k._info("Exception during execution of listener callback",
f,i)}}}}}function l(e,a){g(e,a);for(var c=e.split("/"),b=c.length-1,d=b;0<d;--d){var f=c.slice(0,d).join("/")+"/*";d===b&&g(f,a);f+="*";g(f,a)}}function o(){null!==H&&org.cometd.Utils.clearTimeout(H);H=null}function u(e){o();var a=r.interval+p;k._debug("Function scheduled in",a,"ms, interval =",r.interval,"backoff =",p,e);H=org.cometd.Utils.setTimeout(k,e,a)}function D(e,a,c,b){for(var d=0;d<a.length;++d){var f=a[d];f.id=""+ ++$;if(B)f.clientId=B;f=m(f);void 0!==f&&null!==f?a[d]=f:a.splice(d--,1)}if(0!==
a.length)d=n.url,n.appendMessageTypeToURL&&(d.match(/\/$/)||(d+="/"),b&&(d+=b)),e={url:d,sync:e,messages:a,onSuccess:function(e){try{Q.call(k,e)}catch(a){k._debug("Exception during handling of messages",a)}},onFailure:function(e,a,c,b){try{K.call(k,e,a,c,b)}catch(d){k._debug("Exception during handling of failure",d)}}},k._debug("Send",e),t.send(e,c)}function G(e){0<y||!0===E?C.push(e):D(!1,[e],!1)}function O(){var e=C;C=[];0<e.length&&D(!1,e,!1)}function I(){h("connecting");u(function(){if(!i()){var e=
{channel:"/meta/connect",connectionType:t.getType()};if(!L)e.advice={timeout:0};h("connecting");k._debug("Connect sent",e);D(!1,[e],!0,"connect");h("connected")}})}function J(e){e&&(r=k._mixin(!1,{},n.advice,e),k._debug("New advice",r))}function z(e){o();e&&t.abort();B=null;h("disconnected");p=y=0;0<C.length&&(K.call(k,void 0,C,"error","Disconnected"),C=[])}function P(e){B=null;j();i()?(s.reset(),J(n.advice)):J(k._mixin(!1,r,{reconnect:"retry"}));y=0;E=!0;M=e;var e=s.findTransportTypes("1.0",F,n.url),
a=k._mixin(!1,{},M,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:e,advice:{timeout:r.timeout,interval:r.interval}});t=s.negotiateTransport(e,"1.0",F,n.url);k._debug("Initial transport is",t.getType());h("handshaking");k._debug("Handshake sent",a);D(!1,[a],!1,"handshake")}function v(){h("handshaking");E=!0;u(function(){P(M)})}function x(e){l("/meta/handshake",e);l("/meta/unsuccessful",e);!i()&&"none"!==r.reconnect?(p<n.maxBackoff&&(p+=n.backoffIncrement),v()):
z(!1)}function R(e){l("/meta/connect",e);l("/meta/unsuccessful",e);e=i()?"none":r.reconnect;switch(e){case "retry":I();p<n.maxBackoff&&(p+=n.backoffIncrement);break;case "handshake":s.reset();p=0;v();break;case "none":z(!1);break;default:throw"Unrecognized advice action"+e;}}function S(e){z(!0);l("/meta/disconnect",e);l("/meta/unsuccessful",e)}function T(e){l("/meta/subscribe",e);l("/meta/unsuccessful",e)}function U(e){l("/meta/unsubscribe",e);l("/meta/unsuccessful",e)}function V(e){l("/meta/publish",
e);l("/meta/unsuccessful",e)}function W(e){for(var a=0;a<q.length&&!(void 0===e||null===e);++a){var b=q[n.reverseIncomingExtensions?q.length-1-a:a],d=b.extension.incoming;c(d)&&(b=f(b.extension,d,b.name,e,!1),e=void 0===b?e:b)}if(!(void 0===e||null===e))switch(J(e.advice),e.channel){case "/meta/handshake":if(e.successful){B=e.clientId;a=s.negotiateTransport(e.supportedConnectionTypes,e.version,F,n.url);if(null===a)throw"Could not negotiate transport with server; client "+s.findTransportTypes(e.version,
F,n.url)+", server "+e.supportedConnectionTypes;t!==a&&(k._debug("Transport",t,"->",a),t=a);E=!1;O();e.reestablish=N;N=!0;l("/meta/handshake",e);e=i()?"none":r.reconnect;switch(e){case "retry":p=0;I();break;case "none":z(!1);break;default:throw"Unrecognized advice action "+e;}}else x(e);break;case "/meta/connect":if(L=e.successful)switch(l("/meta/connect",e),e=i()?"none":r.reconnect,e){case "retry":p=0;I();break;case "none":z(!1);break;default:throw"Unrecognized advice action "+e;}else R(e);break;
case "/meta/disconnect":e.successful?(z(!1),l("/meta/disconnect",e)):S(e);break;case "/meta/subscribe":e.successful?l("/meta/subscribe",e):T(e);break;case "/meta/unsubscribe":e.successful?l("/meta/unsubscribe",e):U(e);break;default:void 0===e.successful?e.data?l(e.channel,e):k._debug("Unknown message",e):e.successful?l("/meta/publish",e):V(e)}}function X(e){if(e=w[e])for(var a=0;a<e.length;++a)if(e[a])return!0;return!1}function Y(e,a){var b={scope:e,method:a};if(c(e))b.scope=void 0,b.method=e;else if(d(a)){if(!e)throw"Invalid scope "+
e;b.method=e[a];if(!c(b.method))throw"Invalid callback "+a+" for scope "+e;}else if(!c(a))throw"Invalid callback "+a;return b}function Z(e,a,b,c){a=Y(a,b);k._debug("Adding listener on",e,"with scope",a.scope,"and callback",a.method);c={channel:e,scope:a.scope,callback:a.method,listener:c};a=w[e];a||(a=[],w[e]=a);a=a.push(c)-1;c.id=a;c.handle=[e,a];k._debug("Added listener",c,"for channel",e,"having id =",a);return c.handle}var k=this,aa=b||"default",F=!1,s=new org.cometd.TransportRegistry,t,A="disconnected",
$=0,B=null,y=0,C=[],E=!1,w={},p=0,H=null,q=[],r={},M,N=!1,L=!1,n={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(e,a,b){for(var c=a||{},d=2;d<arguments.length;++d){var f=arguments[d];if(!(void 0===f||null===f))for(var g in f){var h=f[g],i=c[g];h!==a&&void 0!==h&&(c[g]=e&&"object"===typeof h&&
null!==h?h instanceof Array?this._mixin(e,i instanceof Array?i:[],h):this._mixin(e,"object"===typeof i&&!(i instanceof Array)?i:{},h):h)}}return c};this._warn=function(){a("warn",arguments)};this._info=function(){"warn"!==n.logLevel&&a("info",arguments)};this._debug=function(){"debug"===n.logLevel&&a("debug",arguments)};this._isCrossDomain=function(e){return e&&e!==window.location.host};var Q,K;this.send=G;this.receive=W;Q=function(e){k._debug("Received",e);for(var a=0;a<e.length;++a)W(e[a])};K=function(e,
a,b,c){k._debug("handleFailure",e,a,b,c);for(b=0;b<a.length;++b){var d=a[b];switch(d.channel){case "/meta/handshake":x({successful:!1,failure:!0,channel:"/meta/handshake",request:d,xhr:e,advice:{reconnect:"retry",interval:p}});break;case "/meta/connect":c=e;L=!1;R({successful:!1,failure:!0,channel:"/meta/connect",request:d,xhr:c,advice:{reconnect:"retry",interval:p}});break;case "/meta/disconnect":S({successful:!1,failure:!0,channel:"/meta/disconnect",request:d,xhr:e,advice:{reconnect:"none",interval:0}});
break;case "/meta/subscribe":T({successful:!1,failure:!0,channel:"/meta/subscribe",request:d,xhr:e,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":U({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:d,xhr:e,advice:{reconnect:"none",interval:0}});break;default:V({successful:!1,failure:!0,channel:d.channel,request:d,xhr:e,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(a,b,d){if(d=s.add(a,b,d))this._debug("Registered transport",a),c(b.registered)&&
b.registered(a,this);return d};this.getTransportTypes=function(){return s.getTransportTypes()};this.unregisterTransport=function(a){var b=s.remove(a);null!==b&&(this._debug("Unregistered transport",a),c(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=function(){s.clear()};this.findTransport=function(a){return s.find(a)};this.configure=function(a){k._debug("Configuring cometd object with",a);d(a)&&(a={url:a});a||(a={});n=k._mixin(!1,n,a);if(!n.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";
var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(n.url),a=b[8],c=b[9];F=k._isCrossDomain(b[2]);if(n.appendMessageTypeToURL)if(void 0!==c&&0<c.length)k._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),n.appendMessageTypeToURL=!1;else if(b=a.split("/"),c=b.length-1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf("."))k._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),
n.appendMessageTypeToURL=!1};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){h("disconnected");N=!1;P(a)};this.disconnect=function(a,b){if(!i()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});h("disconnecting");D(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++y};this.endBatch=function(){--y;if(0>y)throw"Calls to startBatch() and endBatch() are not paired";0===y&&!i()&&!E&&O()};this.batch=function(a,
b){var c=Y(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),d;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";return Z(a,b,c,!0)};this.removeListener=function(a){if(!org.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=w[a[0]];
b&&(delete b[a[1]],k._debug("Removed listener",a))};this.clearListeners=function(){w={}};this.subscribe=function(a,b,f,g){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";if(i())throw"Illegal state: already disconnected";c(b)&&(g=f,f=b,b=void 0);var h=!X(a),j=Z(a,b,f,!1);h&&(h=this._mixin(!1,{},g,{channel:"/meta/subscribe",subscription:a}),G(h));return j};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+
arguments.length;if(i())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];X(c)||(c=this._mixin(!1,{},b,{channel:"/meta/unsubscribe",subscription:c}),G(c))};this.clearSubscriptions=function(){j()};this.publish=function(a,b,c){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!d(a))throw"Illegal argument type: channel must be a string";if(i())throw"Illegal state: already disconnected";var f=this._mixin(!1,{},c,{channel:a,data:b});
G(f)};this.getStatus=function(){return A};this.isDisconnected=i;this.setBackoffIncrement=function(a){n.backoffIncrement=a};this.getBackoffIncrement=function(){return n.backoffIncrement};this.getBackoffPeriod=function(){return p};this.resetBackOff=function(){p=0};this.setLogLevel=function(a){n.logLevel=a};this.registerExtension=function(a,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!d(a))throw"Illegal argument type: extension name must be a string";
for(var f=!1,g=0;g<q.length;++g)if(q[g].name===a){f=!0;break}if(f)return this._info("Could not register extension with name",a,"since another extension with the same name already exists"),!1;q.push({name:a,extension:b});this._debug("Registered extension",a);c(b.registered)&&b.registered(a,this);return!0};this.unregisterExtension=function(a){if(!d(a))throw"Illegal argument type: extension name must be a string";for(var b=!1,f=0;f<q.length;++f){var g=q[f];if(g.name===a){q.splice(f,1);b=!0;this._debug("Unregistered extension",
a);a=g.extension;c(a.unregistered)&&a.unregistered();break}}return b};this.getExtension=function(a){for(var b=0;b<q.length;++b){var c=q[b];if(c.name===a)return c.extension}return null};this.getName=function(){return aa};this.getClientId=function(){return B};this.getURL=function(){return n.url};this.getTransport=function(){return t};this.getConfiguration=function(){return this._mixin(!0,{},n)};this.getAdvice=function(){return this._mixin(!0,{},r)};org.cometd.WebSocket=window.WebSocket;if(!org.cometd.WebSocket)org.cometd.WebSocket=
window.MozWebSocket};"undefined"!=typeof dojo&&dojo.provide("org.cometd.AckExtension");
org.cometd.AckExtension=function(){var b,d=!1,c=-1;this.registered=function(a,c){b=c;b._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){b._debug("AckExtension: executing unregistration callback",void 0);b=null};this.incoming=function(a){var j=a.channel;if("/meta/handshake"==j)d=a.ext&&a.ext.ack,b._debug("AckExtension: server supports acks",d);else if(d&&"/meta/connect"==j&&a.successful&&(j=a.ext)&&"number"===typeof j.ack)c=j.ack,b._debug("AckExtension: server sent ack id",
c);return a};this.outgoing=function(a){var j=a.channel;if("/meta/handshake"==j){if(!a.ext)a.ext={};a.ext.ack=b&&!1!==b.ackEnabled;c=-1}else if(d&&"/meta/connect"==j){if(!a.ext)a.ext={};a.ext.ack=c;b._debug("AckExtension: client sending ack id",c)}return a}};"undefined"!=typeof dojo&&dojo.provide("org.cometd.TimeSyncExtension");
org.cometd.TimeSyncExtension=function(b){var d,c=b&&b.maxSamples||10,a=[],j=[],h=0,i=0;this.registered=function(a,b){d=b;d._debug("TimeSyncExtension: executing registration callback",void 0)};this.unregistered=function(){d._debug("TimeSyncExtension: executing unregistration callback",void 0);d=null;a=[];j=[]};this.incoming=function(b){var m=b.channel;if(m&&0===m.indexOf("/meta/")&&b.ext&&b.ext.timesync){var g=b.ext.timesync;d._debug("TimeSyncExtension: server sent timesync",g);m=((new Date).getTime()-
g.tc-g.p)/2;g=g.ts-g.tc-m;a.push(m);j.push(g);j.length>c&&(j.shift(),a.shift());for(var m=j.length,l=g=0,o=0;o<m;++o)g+=a[o],l+=j[o];h=parseInt((g/m).toFixed());i=parseInt((l/m).toFixed());d._debug("TimeSyncExtension: network lag",h)}return b};this.outgoing=function(a){var b=a.channel;if(b&&0===b.indexOf("/meta/")){if(!a.ext)a.ext={};a.ext.timesync={tc:(new Date).getTime(),l:h,o:i};b=org.cometd.JSON.toJSON(a.ext.timesync);d._debug("TimeSyncExtension: client sending timesync",b)}return a};this.getTimeOffset=
function(){return i};this.getTimeOffsetSamples=function(){return j};this.getNetworkLag=function(){return h};this.getServerTime=function(){return(new Date).getTime()+i};this.getServerDate=function(){return new Date(this.getServerTime())};this.setTimeout=function(a,b){var c=(b instanceof Date?b.getTime():0+b)-i-(new Date).getTime();0>=c&&(c=1);return org.cometd.Utils.setTimeout(d,a,c)}};


function aa(){return function(a){return a}}function ba(){return function(){}}function da(a){return function(b){this[a]=b}}function e(a){return function(){return this[a]}}function l(a){return function(){return a}}var n,ea=ea||{},q=this;function fa(a){a=a.split(".");for(var b=q,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ga(){}function ha(a){a.Ja=function(){return a.qq?a.qq:a.qq=new a}}
function ia(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function ja(a){return"array"==ia(a)}function ka(a){var b=ia(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function la(a){return"number"==typeof a}function ma(a){return"function"==ia(a)}function na(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+(1E9*Math.random()>>>0),qa=0;function ra(a,b,c){return a.call.apply(a.bind,arguments)}function sa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return w.apply(null,arguments)}function ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ua=Date.now||function(){return+new Date};function va(a){var b={},c;for(c in b){var d=(""+b[c]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+c+"\\}","gi"),d)}return a}
function x(a,b){var c=a.split("."),d=q;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b}function y(a,b){function c(){}c.prototype=b.prototype;a.c=b.prototype;a.prototype=new c;a.prototype.constructor=a};function wa(a){Error.captureStackTrace?Error.captureStackTrace(this,wa):this.stack=Error().stack||"";a&&(this.message=String(a))}y(wa,Error);wa.prototype.name="CustomError";function xa(a,b){return 0==a.lastIndexOf(b,0)}function ya(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function za(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")}function Aa(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function Ba(a){return/^[\s\xa0]*$/.test(a)}function Ca(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}
function Da(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ea(a){return a.replace(/[\s\xa0]+$/,"")}function Fa(a){return decodeURIComponent(a.replace(/\+/g," "))}function Ga(a){if(!Ha.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(Ia,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(Ja,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(Ka,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(La,"\x26quot;"));return a}var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/\"/g,Ha=/[&<>\"]/;
function Ma(a){return-1!=a.indexOf("\x26")?"document"in q?Oa(a):Pa(a):a}function Oa(a){var b={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"'},c=document.createElement("div");return a.replace(Qa,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function Pa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"\x26";case "lt":return"\x3c";case "gt":return"\x3e";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var Qa=/&([^;\s<&]+);?/g;function Ra(a,b){for(var c=b.length,d=0;d<c;d++){var f=1==c?b:b.charAt(d);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a}
function Sa(a,b){var c=RegExp(Ta(b),"");return a.replace(c,"")}function Ta(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ua(a,b){return Array(b+1).join(a)}function Va(a,b){var c=t(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return Ua("0",Math.max(0,b-d))+c}function Wa(a){return null==a?"":String(a)}
function Xa(a,b){for(var c=0,d=Da(String(a)).split("."),f=Da(String(b)).split("."),g=Math.max(d.length,f.length),h=0;0==c&&h<g;h++){var k=d[h]||"",m=f[h]||"",p=RegExp("(\\d*)(\\D*)","g"),r=RegExp("(\\d*)(\\D*)","g");do{var s=p.exec(k)||["","",""],v=r.exec(m)||["","",""];if(0==s[0].length&&0==v[0].length)break;c=((0==s[1].length?0:parseInt(s[1],10))<(0==v[1].length?0:parseInt(v[1],10))?-1:(0==s[1].length?0:parseInt(s[1],10))>(0==v[1].length?0:parseInt(v[1],10))?1:0)||((0==s[2].length)<(0==v[2].length)?
-1:(0==s[2].length)>(0==v[2].length)?1:0)||(s[2]<v[2]?-1:s[2]>v[2]?1:0)}while(0==c)}return c}function Ya(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Za(a){var b=u(void 0)?Ta(void 0):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};function $a(a,b){null!=a&&this.append.apply(this,arguments)}n=$a.prototype;n.$e="";n.set=function(a){this.$e=""+a};n.append=function(a,b,c){this.$e+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.$e+=arguments[d];return this};n.clear=function(){this.$e=""};n.toString=e("$e");var ab=Array.prototype,bb=ab.indexOf?function(a,b,c){return ab.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(u(a))return u(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},z=ab.forEach?function(a,b,c){ab.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},cb=ab.filter?function(a,b,c){return ab.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=
0,h=u(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(f[g++]=m)}return f},db=ab.map?function(a,b,c){return ab.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=u(a)?a.split(""):a,h=0;h<d;h++)h in g&&(f[h]=b.call(c,g[h],h,a));return f},eb=ab.some?function(a,b,c){return ab.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return!0;return!1},fb=ab.every?function(a,b,c){return ab.every.call(a,b,c)}:function(a,
b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return!1;return!0};function gb(a,b,c){b=hb(a,b,c);return 0>b?null:u(a)?a.charAt(b):a[b]}function hb(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function ib(a,b){return 0<=bb(a,b)}function jb(a){if(!ja(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function lb(a,b){ib(a,b)||a.push(b)}
function mb(a,b){var c=bb(a,b),d;(d=0<=c)&&nb(a,c);return d}function nb(a,b){ab.splice.call(a,b,1)}function ob(a){return ab.concat.apply(ab,arguments)}function pb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function qb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ja(d)||(f=ka(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(f)for(var g=a.length,h=d.length,k=0;k<h;k++)a[g+k]=d[k];else a.push(d)}}
function rb(a,b,c,d){ab.splice.apply(a,sb(arguments,1))}function sb(a,b,c){return 2>=arguments.length?ab.slice.call(a,b):ab.slice.call(a,b,c)}function tb(a,b){return a>b?1:a<b?-1:0};function ub(a){return db(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var vb,wb,xb,yb,zb,Ab;function Bb(){return q.navigator?q.navigator.userAgent:null}function Cb(){return q.navigator}zb=yb=xb=wb=vb=!1;var Db;if(Db=Bb()){var Eb=Cb();vb=xa(Db,"Opera");wb=!vb&&(-1!=Db.indexOf("MSIE")||-1!=Db.indexOf("Trident"));yb=(xb=!vb&&-1!=Db.indexOf("WebKit"))&&-1!=Db.indexOf("Mobile");zb=!vb&&!xb&&!wb&&"Gecko"==Eb.product}var Fb=vb,A=wb,B=zb,C=xb,Gb=yb,Hb=Cb();Ab=-1!=(Hb&&Hb.platform||"").indexOf("Mac");var Ib=!!Cb()&&-1!=(Cb().appVersion||"").indexOf("X11");
function Jb(){var a=q.document;return a?a.documentMode:void 0}var Kb;a:{var Lb="",Mb;if(Fb&&q.opera)var Nb=q.opera.version,Lb="function"==typeof Nb?Nb():Nb;else if(B?Mb=/rv\:([^\);]+)(\)|;)/:A?Mb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:C&&(Mb=/WebKit\/(\S+)/),Mb)var Ob=Mb.exec(Bb()),Lb=Ob?Ob[1]:"";if(A){var Pb=Jb();if(Pb>parseFloat(Lb)){Kb=String(Pb);break a}}Kb=Lb}var Qb={};function D(a){return Qb[a]||(Qb[a]=0<=Xa(Kb,a))}function Rb(a){return A&&Sb>=a}
var Tb=q.document,Sb=Tb&&A?Jb()||("CSS1Compat"==Tb.compatMode?parseInt(Kb,10):5):void 0;var Ub=null,Vb=null,Wb=null;function Xb(){if(!Ub){Ub={};Vb={};Wb={};for(var a=0;65>a;a++)Ub[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),Vb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),Wb[Vb[a]]=a}};function Yb(){};function Zb(){this.wb=Array(4);this.$s=Array(64);this.cl=this.ih=0;this.reset()}y(Zb,Yb);Zb.prototype.reset=function(){this.wb[0]=1732584193;this.wb[1]=4023233417;this.wb[2]=2562383102;this.wb[3]=271733878;this.cl=this.ih=0};
function $b(a,b,c){c||(c=0);var d=Array(16);if(u(b))for(var f=0;16>f;++f)d[f]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(f=0;16>f;++f)d[f]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.wb[0];c=a.wb[1];var f=a.wb[2],g=a.wb[3],h=0,h=b+(g^c&(f^g))+d[0]+3614090360&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[1]+3905402710&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[2]+606105819&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&
(g^b))+d[3]+3250441966&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[4]+4118548399&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[5]+1200080426&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[6]+2821735955&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[7]+4249261313&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[8]+1770035416&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[9]+2336552879&4294967295;g=b+(h<<12&4294967295|h>>>20);h=
f+(c^g&(b^c))+d[10]+4294925233&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[11]+2304563134&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(g^c&(f^g))+d[12]+1804603682&4294967295;b=c+(h<<7&4294967295|h>>>25);h=g+(f^b&(c^f))+d[13]+4254626195&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(c^g&(b^c))+d[14]+2792965006&4294967295;f=g+(h<<17&4294967295|h>>>15);h=c+(b^f&(g^b))+d[15]+1236535329&4294967295;c=f+(h<<22&4294967295|h>>>10);h=b+(f^g&(c^f))+d[1]+4129170786&4294967295;b=c+(h<<5&4294967295|
h>>>27);h=g+(c^f&(b^c))+d[6]+3225465664&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[11]+643717713&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[0]+3921069994&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(c^f))+d[5]+3593408605&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[10]+38016083&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[15]+3634488961&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[4]+3889429448&4294967295;c=f+(h<<20&4294967295|
h>>>12);h=b+(f^g&(c^f))+d[9]+568446438&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[14]+3275163606&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[3]+4107603335&4294967295;f=g+(h<<14&4294967295|h>>>18);h=c+(g^b&(f^g))+d[8]+1163531501&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(c^f))+d[13]+2850285829&4294967295;b=c+(h<<5&4294967295|h>>>27);h=g+(c^f&(b^c))+d[2]+4243563512&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^c&(g^b))+d[7]+1735328473&4294967295;f=g+(h<<14&4294967295|
h>>>18);h=c+(g^b&(f^g))+d[12]+2368359562&4294967295;c=f+(h<<20&4294967295|h>>>12);h=b+(c^f^g)+d[5]+4294588738&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[8]+2272392833&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[11]+1839030562&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[14]+4259657740&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[1]+2763975236&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[4]+1272893353&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^
b^c)+d[7]+4139469664&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[10]+3200236656&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[13]+681279174&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[0]+3936430074&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[3]+3572445317&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[6]+76029189&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(c^f^g)+d[9]+3654602809&4294967295;b=c+(h<<4&4294967295|h>>>28);h=g+(b^c^f)+d[12]+3873151461&4294967295;
g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^c)+d[15]+530742520&4294967295;f=g+(h<<16&4294967295|h>>>16);h=c+(f^g^b)+d[2]+3299628645&4294967295;c=f+(h<<23&4294967295|h>>>9);h=b+(f^(c|~g))+d[0]+4096336452&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[7]+1126891415&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[14]+2878612391&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[5]+4237533241&4294967295;c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[12]+1700485571&4294967295;b=c+
(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[3]+2399980690&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[10]+4293915773&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[1]+2240044497&4294967295;c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[8]+1873313359&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[15]+4264355552&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[6]+2734768916&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[13]+1309151649&4294967295;
c=f+(h<<21&4294967295|h>>>11);h=b+(f^(c|~g))+d[4]+4149444226&4294967295;b=c+(h<<6&4294967295|h>>>26);h=g+(c^(b|~f))+d[11]+3174756917&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~c))+d[2]+718787259&4294967295;f=g+(h<<15&4294967295|h>>>17);h=c+(g^(f|~b))+d[9]+3951481745&4294967295;a.wb[0]=a.wb[0]+b&4294967295;a.wb[1]=a.wb[1]+(f+(h<<21&4294967295|h>>>11))&4294967295;a.wb[2]=a.wb[2]+f&4294967295;a.wb[3]=a.wb[3]+g&4294967295}
Zb.prototype.update=function(a,b){t(b)||(b=a.length);for(var c=b-64,d=this.$s,f=this.ih,g=0;g<b;){if(0==f)for(;g<=c;)$b(this,a,g),g+=64;if(u(a))for(;g<b;){if(d[f++]=a.charCodeAt(g++),64==f){$b(this,d);f=0;break}}else for(;g<b;)if(d[f++]=a[g++],64==f){$b(this,d);f=0;break}}this.ih=f;this.cl+=b};function ac(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function bc(a,b){return(new cc(b)).Fa(a)}function cc(a){this.Kk=a}cc.prototype.Fa=function(a){var b=[];dc(this,a,b);return b.join("")};
function dc(a,b,c){switch(typeof b){case "string":ec(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ja(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],dc(a,a.Kk?a.Kk.call(b,String(g),f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),ec(g,c),
c.push(":"),dc(a,a.Kk?a.Kk.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var fc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},gc=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function ec(a,b){b.push('"',a.replace(gc,function(a){if(a in fc)return fc[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return fc[a]=f+b.toString(16)}),'"')};function hc(a){return function(){return a}}var ic=hc(!1);function jc(a){return function(){throw a;}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function kc(a,b){this.Qk=[];this.Tq=a;this.up=b||null}n=kc.prototype;n.Lc=!1;n.Lh=!1;n.Fl=!1;n.at=!1;n.no=!1;n.Hl=0;n.cancel=function(a){if(this.Lc)this.yi instanceof kc&&this.yi.cancel();else{if(this.wa){var b=this.wa;delete this.wa;a?b.cancel(a):(b.Hl--,0>=b.Hl&&b.cancel())}this.Tq?this.Tq.call(this.up,this):this.no=!0;this.Lc||this.ma(new lc(this))}};n.jp=function(a,b){this.Fl=!1;mc(this,a,b)};function mc(a,b,c){a.Lc=!0;a.yi=c;a.Lh=!b;nc(a)}
n.Gc=function(){if(this.Lc){if(!this.no)throw new oc(this);this.no=!1}};n.$=function(a){this.Gc();mc(this,!0,a)};n.ma=function(a){this.Gc();mc(this,!1,a)};n.Yf=function(a,b){return pc(this,a,null,b)};n.vl=function(a,b){return pc(this,null,a,b)};n.Qs=function(a,b){return pc(this,a,a,b)};function pc(a,b,c,d){a.Qk.push([b,c,d]);a.Lc&&nc(a);return a}function qc(a){return eb(a.Qk,function(a){return ma(a[1])})}
function nc(a){a.Co&&(a.Lc&&qc(a))&&(q.clearTimeout(a.Co),delete a.Co);a.wa&&(a.wa.Hl--,delete a.wa);for(var b=a.yi,c=!1,d=!1;a.Qk.length&&!a.Fl;){var f=a.Qk.shift(),g=f[0],h=f[1],f=f[2];if(g=a.Lh?h:g)try{var k=g.call(f||a.up,b);t(k)&&(a.Lh=a.Lh&&(k==b||k instanceof Error),a.yi=b=k);b instanceof kc&&(d=!0,a.Fl=!0)}catch(m){b=m,a.Lh=!0,qc(a)||(c=!0)}}a.yi=b;d&&(pc(b,w(a.jp,a,!0),w(a.jp,a,!1)),b.at=!0);c&&(a.Co=q.setTimeout(jc(b),0))}function rc(a){var b=new kc;b.$(a);return b}
function oc(a){wa.call(this);this.nt=a}y(oc,wa);oc.prototype.message="Deferred has already fired";oc.prototype.name="AlreadyCalledError";function lc(a){wa.call(this);this.nt=a}y(lc,wa);lc.prototype.message="Deferred was canceled";lc.prototype.name="CanceledError";var sc,tc=!A||Rb(9),uc=!B&&!A||A&&Rb(9)||B&&D("1.9.1"),vc=A&&!D("9"),wc=A||Fb||C;function xc(a,b){a.className=b}function yc(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function zc(a,b){for(var c=yc(a),d=sb(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)ib(g,d[h])||g.push(d[h]);g=c.join(" ");a.className=g;return c.length==f}function Ac(a,b){var c=yc(a),d=sb(arguments,1),f=Bc(c,d),g=f.join(" ");a.className=g;return f.length==c.length-d.length}function Bc(a,b){return cb(a,function(a){return!ib(b,a)})}
function Dc(a,b,c){for(var d=yc(a),f=!1,g=0;g<d.length;g++)d[g]==b&&(rb(d,g--,1),f=!0);f&&(d.push(c),b=d.join(" "),a.className=b)}function Ec(a,b,c){c?zc(a,b):Ac(a,b)};function E(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}E.prototype.hb=function(){return new E(this.x,this.y)};function Fc(a,b){return new E(a.x-b.x,a.y-b.y)}E.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};E.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};E.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function Gc(a,b){this.width=a;this.height=b}function Hc(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}Gc.prototype.hb=function(){return new Gc(this.width,this.height)};Gc.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Gc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Gc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ic(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Jc(a){var b=0,c;for(c in a)b++;return b}function Kc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Lc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Mc(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Nc(a){for(var b in a)return!1;return!0}function Oc(a,b){b in a&&delete a[b]}function Pc(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}
function Qc(a){var b={},c;for(c in a)b[c]=a[c];return b}var Rc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sc(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Rc.length;g++)c=Rc[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function Tc(a){var b=arguments.length;if(1==b&&ja(arguments[0]))return Tc.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};function Uc(a){return a?new Vc(Wc(a)):sc||(sc=new Vc)}
function Xc(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,"function"==typeof b.split&&ib(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}return a}
function Yc(a,b){Ic(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Zc?a.setAttribute(Zc[d],b):xa(d,"aria-")||xa(d,"data-")?a.setAttribute(d,b):a[d]=b})}var Zc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function $c(a){a=(a||window).document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Gc(a.clientWidth,a.clientHeight)}function ad(a){return C||"CSS1Compat"!=a.compatMode?a.body:a.documentElement}function bd(a){return a?a.parentWindow||a.defaultView:window}function cd(a,b,c){return dd(document,arguments)}
function dd(a,b){var c=b[0],d=b[1];if(!tc&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',Ga(d.name),'"');if(d.type){c.push(' type\x3d"',Ga(d.type),'"');var f={};Sc(f,d);delete f.type;d=f}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(u(d)?c.className=d:ja(d)?zc.apply(null,[c].concat(d)):Yc(c,d));2<b.length&&ed(a,c,b,2);return c}
function ed(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ka(g)||na(g)&&0<g.nodeType?f(g):z(fd(g)?pb(g):g,f)}}function gd(a,b){ed(Wc(a),a,arguments,1)}function hd(a){for(var b;b=a.firstChild;)a.removeChild(b)}function id(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function jd(a){if(void 0!=a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}
function kd(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Wc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function ld(a){return a.contentDocument||a.contentWindow.document}
function md(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else hd(a),a.appendChild(Wc(a).createTextNode(String(b)))}function nd(a,b){var c=[];return od(a,b,c,!0)?c[0]:void 0}function od(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||od(a,b,c,d))return!0;a=a.nextSibling}return!1}var pd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},qd={IMG:" ",BR:"\n"};
function rd(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,la(a)&&0<=a&&32768>a):!1}function sd(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function td(a){if(vc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];ud(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");vc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function vd(a){var b=[];ud(a,b,!1);return b.join("")}function ud(a,b,c){if(!(a.nodeName in pd))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in qd)b.push(qd[a.nodeName]);else for(a=a.firstChild;a;)ud(a,b,c),a=a.nextSibling}function fd(a){if(a&&"number"==typeof a.length){if(na(a))return"function"==typeof a.item||"string"==typeof a.item;if(ma(a))return"function"==typeof a.item}return!1}
function Vc(a){this.fa=a||q.document||document}n=Vc.prototype;n.o=Uc;function wd(a){return a.fa}n.e=function(a){return u(a)?this.fa.getElementById(a):a};n.w=function(a,b,c){return dd(this.fa,arguments)};n.createElement=function(a){return this.fa.createElement(a)};n.createTextNode=function(a){return this.fa.createTextNode(String(a))};function xd(a){return"CSS1Compat"==a.fa.compatMode}function yd(a){return a.fa.parentWindow||a.fa.defaultView}
function zd(a){var b=a.fa;a=ad(b);b=b.parentWindow||b.defaultView;return A&&D("10")&&b.pageYOffset!=a.scrollTop?new E(a.scrollLeft,a.scrollTop):new E(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.append=gd;n.Qn=hd;n.removeNode=id;n.Np=function(a){return uc&&void 0!=a.children?a.children:cb(a.childNodes,function(a){return 1==a.nodeType})};n.Pp=jd;n.contains=kd;function Ad(a,b){var c=b||{},d=c.document||document,f=document.createElement("SCRIPT"),g={Qr:f,Qf:void 0},h=new kc(Bd,g),k=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(k=window.setTimeout(function(){Cd(f,!0);h.ma(new Dd(Ed,"Timeout reached for loading script "+a))},m),g.Qf=k);f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||(Cd(f,c.ft||!1,k),h.$(null))};f.onerror=function(){Cd(f,!0,k);h.ma(new Dd(Fd,"Error while loading script "+a))};Yc(f,{type:"text/javascript",
charset:"UTF-8",src:a});Gd(d).appendChild(f);return h}function Gd(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function Bd(){if(this&&this.Qr){var a=this.Qr;a&&"SCRIPT"==a.tagName&&Cd(a,!0,this.Qf)}}function Cd(a,b,c){null!=c&&q.clearTimeout(c);a.onload=ga;a.onerror=ga;a.onreadystatechange=ga;b&&window.setTimeout(function(){id(a)},0)}var Fd=0,Ed=1;function Dd(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);wa.call(this,c);this.code=a}y(Dd,wa);function Hd(a){if("function"==typeof a.bb)return a.bb();if(u(a))return a.split("");if(ka(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Kc(a)}function Id(a){if("function"==typeof a.me)return a.me();if("function"!=typeof a.bb){if(ka(a)||u(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Lc(a)}}
function Jd(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ka(a)||u(a))z(a,b,c);else for(var d=Id(a),f=Hd(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)};var Kd="StopIteration"in q?q.StopIteration:Error("StopIteration");function Ld(){}Ld.prototype.next=function(){throw Kd;};Ld.prototype.Dd=function(){return this};function Md(a){if(a instanceof Ld)return a;if("function"==typeof a.Dd)return a.Dd(!1);if(ka(a)){var b=0,c=new Ld;c.next=function(){for(;;){if(b>=a.length)throw Kd;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Nd(a,b){if(ka(a))try{z(a,b,void 0)}catch(c){if(c!==Kd)throw c;}else{a=Md(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==Kd)throw d;}}}function Od(a){if(ka(a))return pb(a);a=Md(a);var b=[];Nd(a,function(a){b.push(a)});return b};function Pd(a,b){this.rb={};this.ya=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Pd?(c=a.me(),d=a.bb()):(c=Lc(a),d=Kc(a));for(var f=0;f<c.length;f++)this.set(c[f],d[f])}}n=Pd.prototype;n.O=0;n.Vi=0;n.ed=e("O");n.bb=function(){Qd(this);for(var a=[],b=0;b<this.ya.length;b++)a.push(this.rb[this.ya[b]]);return a};n.me=function(){Qd(this);return this.ya.concat()};
n.Jd=function(a){return Rd(this.rb,a)};n.Xl=function(a,b){if(this===a)return!0;if(this.O!=a.ed())return!1;var c=b||Sd;Qd(this);for(var d,f=0;d=this.ya[f];f++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Sd(a,b){return a===b}n.clear=function(){this.rb={};this.Vi=this.O=this.ya.length=0};n.remove=function(a){return Rd(this.rb,a)?(delete this.rb[a],this.O--,this.Vi++,this.ya.length>2*this.O&&Qd(this),!0):!1};
function Qd(a){if(a.O!=a.ya.length){for(var b=0,c=0;b<a.ya.length;){var d=a.ya[b];Rd(a.rb,d)&&(a.ya[c++]=d);b++}a.ya.length=c}if(a.O!=a.ya.length){for(var f={},c=b=0;b<a.ya.length;)d=a.ya[b],Rd(f,d)||(a.ya[c++]=d,f[d]=1),b++;a.ya.length=c}}n.get=function(a,b){return Rd(this.rb,a)?this.rb[a]:b};n.set=function(a,b){Rd(this.rb,a)||(this.O++,this.ya.push(a),this.Vi++);this.rb[a]=b};n.hb=function(){return new Pd(this)};
n.Dd=function(a){Qd(this);var b=0,c=this.ya,d=this.rb,f=this.Vi,g=this,h=new Ld;h.next=function(){for(;;){if(f!=g.Vi)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Kd;var h=c[b++];return a?h:d[h]}};return h};function Rd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Td(a){return Ud(a||arguments.callee.caller,[])}
function Ud(a,b){var c=[];if(ib(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Vd(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Vd(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ud(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Vd(a){if(Wd[a])return Wd[a];a=String(a);if(!Wd[a]){var b=/function ([^\(]+)/.exec(a);Wd[a]=b?b[1]:"[Anonymous]"}return Wd[a]}var Wd={};function Xd(a,b,c,d,f){this.reset(a,b,c,d,f)}Xd.prototype.Tr=0;Xd.prototype.$l=null;Xd.prototype.Zl=null;var Yd=0;Xd.prototype.reset=function(a,b,c,d,f){this.Tr="number"==typeof f?f:Yd++;this.os=d||ua();this.xf=a;this.av=b;this.Dq=c;delete this.$l;delete this.Zl};Xd.prototype.co=da("xf");Xd.prototype.Gj=e("av");Xd.prototype.Tp=e("Tr");function Zd(a){this.ki=a}Zd.prototype.wa=null;Zd.prototype.xf=null;Zd.prototype.Ha=null;Zd.prototype.Nh=null;function $d(a,b){this.name=a;this.value=b}$d.prototype.toString=e("name");var ae=new $d("OFF",Infinity),be=new $d("SHOUT",1200),ce=new $d("SEVERE",1E3),de=new $d("WARNING",900),ee=new $d("INFO",800),fe=new $d("CONFIG",700),ge=new $d("FINE",500),he=new $d("FINER",400),ie=new $d("FINEST",300);n=Zd.prototype;n.getName=e("ki");n.getParent=e("wa");n.Np=function(){this.Ha||(this.Ha={});return this.Ha};
n.co=da("xf");function je(a){return a.xf?a.xf:a.wa?je(a.wa):null}n.log=function(a,b,c){if(a.value>=je(this).value)for(a=this.Mt(a,b,c),b="log:"+a.Gj(),q.console&&(q.console.timeStamp?q.console.timeStamp(b):q.console.markTimeline&&q.console.markTimeline(b)),q.msWriteProfilerMark&&q.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.Nh)for(var f=0,g=void 0;g=c.Nh[f];f++)g(d);b=b.getParent()}};
n.Mt=function(a,b,c){var d=new Xd(a,String(b),this.ki);if(c){d.$l=c;var f;var g=arguments.callee.caller;try{var h;var k=fa("window.location.href");if(u(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var m,p,r=!1;try{m=c.lineNumber||c.Xy||"Not available"}catch(s){m="Not available",r=!0}try{p=c.fileName||c.filename||c.sourceURL||q.$googDebugFname||k}catch(v){p="Not available",r=!0}h=!r&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:m,fileName:p,stack:c.stack||"Not available"}}f="Message: "+Ga(h.message)+'\nUrl: \x3ca href\x3d"view-source:'+h.fileName+'" target\x3d"_new"\x3e'+h.fileName+"\x3c/a\x3e\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ga(h.stack+"-\x3e ")+"[end]\n\nJS stack traversal:\n"+Ga(Td(g)+"-\x3e ")}catch(N){f="Exception trying to expose exception! You win, we lose. "+N}d.Zl=f}return d};n.info=function(a,b){this.log(ee,a,b)};
function F(a,b,c){a.log(ge,b,c)}n.fo=da("wa");var ke={},le=null;function me(){le||(le=new Zd(""),ke[""]=le,le.co(fe))}function ne(){me();return le}function oe(a){me();var b;if(!(b=ke[a])){b=new Zd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=oe(a.substr(0,c));c.Np()[d]=b;b.fo(c);ke[a]=b}return b};function pe(){return new G({})}function qe(a,b){function c(){var b=a.currentTime,m=a.videoWidth,p=ua();if(b!=d)f=p;else if(p-f>h){g.ma(re);return}0<b&&0<m?g.$(a):(d=b,H(c,100))}var d=0,f=ua(),g=new G,h=1E3*b;c();return g};var re="TIMED_OUT",se="recv",te="cancel";function ue(){this.Fr=ua()}var ve=new ue;ue.prototype.set=da("Fr");ue.prototype.reset=function(){this.set(ua())};ue.prototype.get=e("Fr");function we(a){this.yc=a||"";this.Yx=ve}n=we.prototype;n.lo=!0;n.es=!0;n.Tx=!0;n.ds=!1;n.Ux=!1;function xe(a){return 10>a?"0"+a:String(a)}function ye(a,b){var c=(a.os-b)/1E3,d=c.toFixed(3),f=0;if(1>c)f=2;else for(;100>c;)f++,c*=10;for(;0<f--;)d=" "+d;return d}function ze(a){we.call(this,a)}y(ze,we);function Ae(){this.zx=w(this.Rs,this);this.wj=new ze;this.wj.lo=!1;this.sq=this.wj.ds=!1;this.Cq="";this.xt={}}
Ae.prototype.Rs=function(a){if(!this.xt[a.Dq]){var b;b=this.wj;var c=[];c.push(b.yc," ");if(b.lo){var d=new Date(a.os);c.push("[",xe(d.getFullYear()-2E3)+xe(d.getMonth()+1)+xe(d.getDate())+" "+xe(d.getHours())+":"+xe(d.getMinutes())+":"+xe(d.getSeconds())+"."+xe(Math.floor(d.getMilliseconds()/10)),"] ")}b.es&&c.push("[",ye(a,b.Yx.get()),"s] ");b.Tx&&c.push("[",a.Dq,"] ");b.Ux&&c.push("[",a.xf.name,"] ");c.push(a.Gj(),"\n");b.ds&&a.$l&&c.push(a.Zl,"\n");b=c.join("");if(c=Be)switch(a.xf){case be:Ce(c,
"info",b);break;case ce:Ce(c,"error",b);break;case de:Ce(c,"warn",b);break;default:Ce(c,"debug",b)}else window.opera?window.opera.postError(b):this.Cq+=b}};var Be=window.console;function Ce(a,b,c){if(a[b])a[b](c);else a.log(c)};var De,Ee=!1,Fe=null;function Ge(){if(!Ee){Fe=new Ae;var a;a=Fe.wj;a.lo=!0;a.es=!1;a=Fe;if(!0!=a.sq){var b=ne(),c=a.zx;b.Nh||(b.Nh=[]);b.Nh.push(c);a.sq=!0}Ee=!0;He(de)}}function He(a){Ge();ne().co(a);return a}function Ie(a){Ge();return oe(a)};function Je(a){"object"===typeof a&&(a=bc(a));var b;b=a.replace(/\r\n/g,"\n");a=[];for(var c=0,d=0;d<b.length;d++){var f=b.charCodeAt(d);128>f?a[c++]=f:(2048>f?a[c++]=f>>6|192:(a[c++]=f>>12|224,a[c++]=f>>6&63|128),a[c++]=f&63|128)}if(!ka(a))throw Error("encodeByteArray takes an array as a parameter");Xb();b=Vb;c=[];for(d=0;d<a.length;d+=3){var g=a[d],h=(f=d+1<a.length)?a[d+1]:0,k=d+2<a.length,m=k?a[d+2]:0,p=g>>2,g=(g&3)<<4|h>>4,h=(h&15)<<2|m>>6,m=m&63;k||(m=64,f||(h=64));c.push(b[p],b[g],b[h],b[m])}a=
c.join("");return a=a.split(".")[0]}
function Ke(a,b){void 0===b&&(b=!0);switch(a.length%4){case 0:break;case 2:a+="..";break;case 3:a+=".";break;default:return null}var c=a;Xb();for(var d=Wb,f=[],g=0;g<c.length;){var h=d[c.charAt(g++)],k=g<c.length?d[c.charAt(g)]:0;++g;var m=g<c.length?d[c.charAt(g)]:0;++g;var p=g<c.length?d[c.charAt(g)]:0;++g;if(null==h||null==k||null==m||null==p)throw Error();f.push(h<<2|k>>4);64!=m&&(f.push(k<<4&240|m>>2),64!=p&&f.push(m<<6&192|p))}c=[];for(g=d=0;d<f.length;)h=f[d++],128>h?c[g++]=String.fromCharCode(h):
191<h&&224>h?(k=f[d++],c[g++]=String.fromCharCode((h&31)<<6|k&63)):(k=f[d++],m=f[d++],c[g++]=String.fromCharCode((h&15)<<12|(k&63)<<6|m&63));f=c.join("");return b?ac(f):f}function Le(a){var b=a.indexOf(":");return 0<b?a.substr(b+1):a}function Me(a,b){return null!=a||null!=b?0<b.indexOf(":")?b:a+":"+b:void 0}function Ne(a){if(null==a)return!1;a=a.split(":");return 2!==a.length?!1:null!=a[0]&&/^[a-zA-Z\d]([a-zA-Z\d-]*[a-zA-Z\d])?$/.test(a[0])&&null!=a[1]&&/^[^:\/]+$/.test(a[1])}
function Oe(a){var b=a.indexOf(":");return 0<b?a.substr(0,b):""}function Pe(a){var b=new Zb;b.update(Da(a).toLowerCase());var c=Array((56>b.ih?64:128)-b.ih);c[0]=128;for(a=1;a<c.length-8;++a)c[a]=0;var d=8*b.cl;for(a=c.length-8;a<c.length;++a)c[a]=d&255,d/=256;b.update(c);c=Array(16);for(a=d=0;4>a;++a)for(var f=0;32>f;f+=8)c[d++]=b.wb[a]>>>f&255;return"https://www.gravatar.com/avatar/"+ub(c)+"?d\x3dmm"}
var Qe=ma(Object.prototype.getPrototypeOf)?Object.prototype.getPrototypeOf:function(a){return a.__proto__||a.constructor.prototype};function Re(a,b){function c(){}c.prototype=a;var d=new c;b&&Sc(d,b);return d}
function Se(a,b){if(a===b)return!0;var c,d;d=ia(a);if(ia(b)!==d)return!1;if("array"===d){d=a.length;if(b.length!==d)return!1;for(c=0;c<d;++c)if(!Se(a[c],b[c]))return!1;return!0}if("object"===d){for(c in a)if(!(c in b&&Se(a[c],b[c])))return!1;for(c in b)if(!(c in a))return!1;return!0}return!1}var Te=-1;function Ue(){var a=new Date,b=a.getTime();De&&(b+=De,a.setTime(b));return a}function Ve(a,b,c){b.prototype.sl=a;c&&(b.prototype.So=c);b.prototype.G=Ie("vline."+a+(c||""))}
function We(a){return u(a)?a:u(a.type)?a.type:u(a.sl)?u(a.So)?a.sl+a.So:a.sl:Qe(a)===Object.prototype?"":(a=/function (.{1,})\(/.exec(a.constructor.toString()))&&1<a.length?a[1]:""}
var Xe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,
2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,
2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,
2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,
3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,
936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function Ye(a){return u(a)?a:a instanceof K?a.l():a.path||null}function Ze(a){if(a){if(a instanceof K)return a;if(na(a))return $e(af,a,void 0,K).vb();if(u(a))return $e(af,null,a,K).vb()}return(new K).vb()}function bf(a,b,c,d){cf(df,a,"",b,c,sb(arguments,3))}function ef(a,b,c,d){cf(ff,a,"",b,c,sb(arguments,3))}function gf(a,b,c,d){cf(af,a,"entity"===a?"":"Entity",b,c,sb(arguments,3))}
function hf(a,b){b=t(b)?b:!0;na(a)&&ma(a.Fa)&&(a=a.Fa());if(na(a)){if(ka(a)){var c=a,d=b,f,g=[];for(f=0;f<c.length;++f)g.push(d?hf(c[f],d):c[f]);return g}if(Qe(a)===Object.prototype)return jf(a,b,!0)}return a}function jf(a,b,c){var d,f={};for(d in a)a.hasOwnProperty(d)&&(t(a[d])&&(c||!/(^_)|(_$)/.test(d)))&&(f[d]=b?hf(a[d],b):a[d]);return f}function kf(a,b){a.Zg&&Ic(b,function(b,d){lf(a,d,b,!0)})}
function lf(a,b,c,d){var f;if(a.Zg){if(f=a.Zg[b])return f.call(a,c),!0;if(d&&(f=a.Zg["$*"]))return f.call(a,b,c),!0}return!1}function mf(a,b){var c=t(b)?b:!0,d=new $a;nf(d,a,0,c);return d.toString()}var df={},ff={},af={};function cf(a,b,c,d,f,g){function h(){}f&&(d.rl=f);if(g&&0<g.length){if(f=Qe(d.prototype).Zg)h.prototype=f;f=d.prototype.Zg=new h;for(var k=0;k<g.length;k+=2)f[g[k]]=g[k+1]}d.Ro=ba();d.Ro.prototype=d.prototype;u(b)?(a[b]=d,Ve(b,d,c)):z(b,function(b){a[b]=d})}
function $e(a,b,c,d,f){c=c||b&&b.type;b=b||{type:c};c&&xa(c,"x-msg-")&&(c="x-msg");var g=a[c]||d;if(!g)return null===g?null:Qc(b);var h=[],k=null;g.rl?(k={},a=function(a,b){var c=bb(g.rl,b);if(0<=c)return h[c]=a,!0;k[b]=a;return!1},Ic(b,a),f&&a(f,"$entity"),f=bb(g.rl,"$props"),0<f&&(h[f]=k,k=null)):k=b;f=new g.Ro;g.apply(f,h);kf(f,k);return f}
function nf(a,b,c,d){switch(typeof b){case "string":if(/\s/.test(b)){a.append("'",b,"'");return}break;case "object":if(null==b)break;var f=0;if(ka(b)){a.append("[");z(b,function(b){0<f++&&a.append(", ");nf(a,b,c+1,!0)});a.append("]");return}if(0<c&&b.toString!==Object.prototype.toString){a.append(b.toString());return}var g=hf(b,!1);if(na(g)){var h=We(b);d&&a.append("{");h&&a.append(h);Qe(g)===Object.prototype&&(b=Lc(g),ab.sort.call(b,tb),z(b,function(b){var d=g[b];"type"===b&&d===h||null==d||(0===
f++?h&&a.append(": "):a.append(", "),a.append(b,"\x3d"),nf(a,d,c+1,!0))}));d&&a.append("}")}else a.append(g);return}a.append(String(b))};function of(){}of.prototype.toString=function(){return mf(this)};of.prototype.X=function(){return We(this)};of.prototype.Fa=function(){return jf(this,!0)};A&&D(8);function pf(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];return d};function qf(){return"Email Address"}function rf(){return"AppId not found. This app may have been deleted"}function sf(){return"AppId already exists"};var L={BAD_PARAM:l("One or more inputs is invalid."),BUG:l("That's a bug!")};L[re]=l("Timed out");L.NOT_FOUND=l("Not found");L.CONNECTION_FAILED=l("Connection failed");L.AUTH_FAILED=l("Login to server failed. Check login parameters.");L.FORBIDDEN=l("Access forbidden");L.SERVER_ERROR=l("Server error");L.FIELD_REQUIRED=function(a){return a.name+" can't be blank"};L.FIELD_MAX_LENGTH_EXCEEDED=function(a){return"Please limit to "+a.Hq+" characters"};L.INVALID_EMAIL=l("Email is invalid");
L.INVALID_PASSWORD=l("Password must be at least six characters long");L.PASSWORDS_DONT_MATCH=l("Passwords don't match");L.INVALID_URL=l("Invalid URL");L.APPID_NOT_FOUND=rf;L.SERVICEID_NOT_FOUND=rf;L.INVALID_TOKEN=l("This link is invalid or has expired");L.USERID_NOT_FOUND=l("Account not found");L.NO_RELAY_FOUND=l("No relay servers were available");L.APPID_EXISTS=sf;L.SERVICEID_EXISTS=sf;L.EMAIL_EXISTS=l("An account with this email address already exists");L.INVALID_PAYLOAD=l("An invalid payload was passed in the request");
L.BAD_CREDENTIALS=l("Incorrect email or password");L.ACCESS_DENIED=l("You do not have permission to perform this operation");L.RSC_EXISTS=function(a){return a.name+" already exists"};L.INVALID_CHAR=function(a){return a.name+" cannot have spaces or special characters"};L.INVALID_FIELD=function(a){return a.name+" has invalid characters"};L.SUBSCRIPTION_LIMIT_EXCEEDED=l("Too many subscriptions");L.GET_LOCAL_STREAM_FAILED=l("Do you have a camera and have you given permission to access it? [https://vline.com/developer/docs/debugging#get_local_stream_failed]");
L.INVALID_STATE=l("State Invalid");L.ROOM_NOT_FOUND=l("Room not found");function tf(a,b){return new M("BAD_PARAM",a+"\x3d"+b)}function M(a,b){var c=a,d=b?mf(b):null;!d&&a in L&&(d=L[a]());d&&(c+=" ("+d+")");wa.call(this,c);this.type=a;na(b)&&Sc(this,b)}y(M,wa);bf("Error",M);M.prototype.name="vLineError";M.prototype.X=e("type");M.prototype.Gj=e("message");M.prototype.Fa=function(){return jf(this,!0)};function uf(a){M.call(this,"CORRUPT",a)}y(uf,M);function vf(a){M.call(this,"BAD_PARAM",a)}y(vf,M);function wf(a){M.call(this,"BUG",a)}y(wf,M);function xf(a){M.call(this,"NOT_READY",a)}y(xf,M);function yf(a){this.Xf[0][0][0]||this.tl();var b,c,d,f,g=this.Xf[0][4],h=this.Xf[1];b=a.length;var k=1;if(4!==b&&6!==b&&8!==b)throw new vf("invalid aes key size");this.ah=[d=a.slice(0),f=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=g[c>>>24]<<24^g[c>>16&255]<<16^g[c>>8&255]<<8^g[c&255],0===a%b&&(c=c<<8^c>>>24^k<<24,k=k<<1^283*(k>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],f[b]=4>=a||4>b?c:h[0][g[c>>>24]]^h[1][g[c>>16&255]]^h[2][g[c>>8&255]]^h[3][g[c&255]]}
yf.prototype={Xf:[[[],[],[],[],[]],[[],[],[],[],[]]],tl:function(){var a=this.Xf[0],b=this.Xf[1],c=a[4],d=b[4],f,g,h,k=[],m=[],p,r,s,v;for(f=0;256>f;f++)m[(k[f]=f<<1^283*(f>>7))^f]=f;for(g=h=0;!c[g];g^=p||1,h=m[h]||1)for(s=h^h<<1^h<<2^h<<3^h<<4,s=s>>8^s&255^99,c[g]=s,d[s]=g,r=k[f=k[p=k[g]]],v=16843009*r^65537*f^257*p^16843008*g,r=257*k[s]^16843008*s,f=0;4>f;f++)a[f][g]=r=r<<24^r>>>8,b[f][s]=v=v<<24^v>>>8;for(f=0;5>f;f++)a[f]=a[f].slice(0),b[f]=b[f].slice(0)}};function zf(a,b,c){a=Af(a.slice(b/32),32-(b&31)).slice(1);void 0!==c&&(b=c-b,32*a.length<b||(a=a.slice(0,Math.ceil(b/32)),c=a.length,b&=31,0<c&&b&&(a[c-1]=Bf(b,a[c-1]&2147483648>>b-1,1))));return a}function Cf(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1}function Df(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=Math.round(c/1099511627776)||32;return 32===d?a.concat(b):Af(b,d,c|0,a.slice(0,a.length-1))}
function Ef(a){var b=a.length;return 0===b?0:32*(b-1)+(Math.round(a[b-1]/1099511627776)||32)}function Bf(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+1099511627776*a}function Af(a,b,c,d){var f;f=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(f=0;f<a.length;f++)d.push(c|a[f]>>>b),c=a[f]<<32-b;f=a.length?a[a.length-1]:0;a=Math.round(f/1099511627776)||32;d.push(Bf(b+a&31,32<b+a?c:d.pop(),1));return d};function Ff(a){this.ah[0]||this.tl();a?(this.Wi=a.Wi.slice(0),this.$g=a.$g.slice(0),this.Wf=a.Wf):this.reset()}function Gf(a){return Hf((new Ff).update(a))}
Ff.prototype={reset:function(){this.Wi=this.To.slice(0);this.$g=[];this.Wf=0;return this},update:function(a){if("string"===typeof a){var b;b=unescape(encodeURIComponent(a));var c=[],d=0;for(a=0;a<b.length;a++)d=d<<8|b.charCodeAt(a),3===(a&3)&&(c.push(d),d=0);a&3&&c.push(Bf(8*(a&3),d));a=c}b=this.$g=Df(this.$g,a);c=this.Wf;a=this.Wf=c+Ef(a);for(c=512+c&-512;c<=a;c+=512)If(this,b.splice(0,16));return this},To:[],ah:[],tl:function(){var a=0,b=2,c;a:for(;64>a;b++){for(c=2;c*c<=b;c++)if(0===b%c)continue a;
8>a&&(this.To[a]=4294967296*(Math.pow(b,0.5)-Math.floor(Math.pow(b,0.5)))|0);this.ah[a]=4294967296*(Math.pow(b,1/3)-Math.floor(Math.pow(b,1/3)))|0;a++}}};
function If(a,b){var c,d,f,g=b.slice(0),h=a.Wi,k=a.ah,m=h[0],p=h[1],r=h[2],s=h[3],v=h[4],N=h[5],I=h[6],ca=h[7];for(c=0;64>c;c++)16>c?d=g[c]:(d=g[c+1&15],f=g[c+14&15],d=g[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+g[c&15]+g[c+9&15]|0),d=d+ca+(v>>>6^v>>>11^v>>>25^v<<26^v<<21^v<<7)+(I^v&(N^I))+k[c],ca=I,I=N,N=v,v=s+d|0,s=r,r=p,p=m,m=d+(p&r^s&(p^r))+(p>>>2^p>>>13^p>>>22^p<<30^p<<19^p<<10)|0;h[0]=h[0]+m|0;h[1]=h[1]+p|0;h[2]=h[2]+r|0;h[3]=h[3]+s|0;h[4]=h[4]+v|0;h[5]=h[5]+
N|0;h[6]=h[6]+I|0;h[7]=h[7]+ca|0}function Hf(a){var b,c=a.$g,d=a.Wi,c=Df(c,[Bf(1,1)]);for(b=c.length+2;b&15;b++)c.push(0);c.push(Math.floor(a.Wf/4294967296));for(c.push(a.Wf|0);c.length;)If(a,c.splice(0,16));a.reset();return d}x("sjcl.hash.sha256.hash",Gf);function Jf(a,b,c){c=c||"user";var d,f,g=(new Date).valueOf(),h=Kf[c],k=Lf();d=Mf[c];void 0===d&&(d=Mf[c]=Nf++);void 0===h&&(h=Kf[c]=0);Kf[c]=(Kf[c]+1)%Of.length;switch(typeof a){case "number":break;case "object":if(void 0===b)for(c=b=0;c<a.length;c++)for(f=a[c];0<f;)b++,f>>>=1;Of[h].update([d,Pf++,2,b,g,a.length].concat(a));break;case "string":void 0===b&&(b=a.length);Of[h].update([d,Pf++,3,b,g,a.length]);Of[h].update(a);break;default:throw new wf("random: addEntropy only supports number, array or string");
}Qf[h]+=b;Rf+=b;k===Sf&&(Lf()!==Sf&&Tf("seeded",Math.max(Uf,Rf)),a=Vf[Wf],Tf("progress",Uf>=a?1:Rf>a?1:Rf/a))}function Lf(a){a=Vf[void 0!==a?a:Wf];return Uf&&Uf>=a?Qf[0]>Xf&&(new Date).valueOf()>Yf?Zf|$f:$f:Rf>=a?Zf|Sf:Sf}var Of=[new Ff],Qf=[0],ag=0,Kf={},Pf=0,Mf={},Nf=0,Uf=0,Rf=0,Yf=0,bg=[0,0,0,0,0,0,0,0],cg=[0,0,0,0],dg=void 0,Wf=6,eg=!1,fg={fz:{},jz:{}},Sf=0,$f=1,Zf=2,Vf=[0,48,64,96,128,192,256,384,512,768,1024],Xf=80;
function gg(){for(var a=0;4>a&&(cg[a]=cg[a]+1|0,!cg[a]);a++);var b=dg;if(4!==cg.length)throw new vf("invalid aes block size");var a=b.ah[0],c=cg[0]^a[0],d=cg[1]^a[1],f=cg[2]^a[2],g=cg[3]^a[3],h,k,m,p=a.length/4-2,r,s=4,v=[0,0,0,0];h=b.Xf[0];var b=h[0],N=h[1],I=h[2],ca=h[3],Na=h[4];for(r=0;r<p;r++)h=b[c>>>24]^N[d>>16&255]^I[f>>8&255]^ca[g&255]^a[s],k=b[d>>>24]^N[f>>16&255]^I[g>>8&255]^ca[c&255]^a[s+1],m=b[f>>>24]^N[g>>16&255]^I[c>>8&255]^ca[d&255]^a[s+2],g=b[g>>>24]^N[c>>16&255]^I[d>>8&255]^ca[f&255]^
a[s+3],s+=4,c=h,d=k,f=m;for(r=0;4>r;r++)v[r]=Na[c>>>24]<<24^Na[d>>16&255]<<16^Na[f>>8&255]<<8^Na[g&255]^a[s++],h=c,c=d,d=f,f=g,g=h;return v}function hg(){bg=gg().concat(gg());dg=new yf(bg)}function ig(a){Jf([a.x||a.clientX||a.offsetX,a.y||a.clientY||a.offsetY],2,"mouse")}function jg(){Jf(new Date,2,"loadtime")}function Tf(a,b){var c,d=fg[a],f=[];for(c in d)d.hasOwnProperty(c)&&f.push(d[c]);for(c=0;c<f.length;c++)f[c](b)}try{var kg=new Uint32Array(32);crypto.getRandomValues(kg);Jf(kg,1024,"crypto.getRandomValues")}catch(lg){};function mg(a){ng(this,a)}
mg.prototype={Pb:24,Iq:8,Ed:mg,copy:function(){return new this.Ed(this)},Xl:function(a){"number"===typeof a&&(a=new this.Ed(a));var b=0,c;this.xh();a.xh();for(c=0;c<this.S.length||c<a.S.length;c++)b|=og(this,c)^og(a,c);return 0===b},toString:function(){this.xh();var a="",b,c,d=this.S;for(b=0;b<this.S.length;b++){for(c=d[b].toString(16);b<this.S.length-1&&6>c.length;)c="0"+c;a=c+a}return"0x"+a},add:function(a){return pg(this.copy(),a)},sub:function(a){var b=this.copy(),c=a;"object"!==typeof c&&(c=
new b.Ed(c));a=b.S;for(var d=c.S,c=a.length;c<d.length;c++)a[c]=0;for(c=0;c<d.length;c++)a[c]-=d[c];return b},reduce:function(){return this},xh:function(){return this.normalize()},normalize:function(){var a=0,b,c=this.rq,d,f=this.S,g=f.length,h=this.Cr;for(b=0;b<g||0!==a&&-1!==a;b++)a=(f[b]||0)+a,d=f[b]=a&h,a=(a-d)*c;-1===a&&(f[b-1]-=this.ux);return this},Zs:function(){this.xh();for(var a=this.Pb*(this.S.length-1),b=this.S[this.S.length-1];b;b>>=1)a++;return a+7&-8}};
function qg(a){var b=0,c,d=a.rq,f,g=a.S,h=g.length,k=a.Cr;for(c=0;c<h-1;c++)b=g[c]+b,f=g[c]=b&k,b=(b-f)*d;g[c]+=b;return a}function rg(a,b){"number"===typeof b&&(b=new a.Ed(b));var c,d,f=a.S,g=b.S,h=f.length,k=g.length,m=new a.Ed,p=m.S,r,s=a.Iq;for(c=0;c<a.S.length+b.S.length+1;c++)p[c]=0;for(c=0;c<h;c++){r=f[c];for(d=0;d<k;d++)p[c+d]+=r*g[d];--s||(s=a.Iq,qg(m))}return qg(m).reduce()}
function pg(a,b){"object"!==typeof b&&(b=new a.Ed(b));var c,d=a.S,f=b.S;for(c=d.length;c<f.length;c++)d[c]=0;for(c=0;c<f.length;c++)d[c]+=f[c];return a}function og(a,b){return b>=a.S.length?0:a.S[b]}function ng(a,b){var c=0,d;switch(typeof b){case "object":a.S=b.S.slice(0);break;case "number":a.S=[b];a.normalize();break;case "string":b=b.replace(/^0x/,"");a.S=[];d=a.Pb/4;for(c=0;c<b.length;c+=d)a.S.push(parseInt(b.substring(Math.max(b.length-c-d,0),b.length-c),16));break;default:a.S=[0]}}
mg.prototype.rq=1/(mg.prototype.ux=Math.pow(2,mg.prototype.Pb));mg.prototype.Cr=(1<<mg.prototype.Pb)-1;
function sg(a,b){function c(a){ng(this,a)}var d=c.prototype=new mg,f,g;f=d.jn=Math.ceil(g=a/d.Pb);d.vt=a;d.offset=[];d.Cp=[];d.rk=f;d.fm=0;d.wh=[];d.Jp=[];d.Ud=c.Ud=new mg(Math.pow(2,a));d.fm=0|-Math.pow(2,a%d.Pb);for(f=0;f<b.length;f++)d.offset[f]=Math.floor(b[f][0]/d.Pb-g),d.wh[f]=Math.ceil(b[f][0]/d.Pb-g),d.Cp[f]=b[f][1]*Math.pow(0.5,a-b[f][0]+d.offset[f]*d.Pb),d.Jp[f]=b[f][1]*Math.pow(0.5,a-b[f][0]+d.wh[f]*d.Pb),pg(d.Ud,new mg(Math.pow(2,b[f][0])*b[f][1])),d.rk=Math.min(d.rk,-d.offset[f]);d.Ed=
c;qg(d.Ud);d.reduce=function(){var a,b,c,d=this.jn,f=this.S,g=this.offset,v=this.offset.length,N=this.Cp,I;for(a=this.rk;f.length>d;){c=f.pop();I=f.length;for(b=0;b<v;b++)f[I+g[b]]-=N[b]*c;a--;a||(f.push(0),qg(this),a=this.rk)}qg(this);return this};d.Uo=-1===d.fm?d.reduce:function(){var a=this.S,b=a.length-1,c,d;this.reduce();if(b===this.jn-1){d=a[b]&this.fm;a[b]-=d;for(c=0;c<this.wh.length;c++)a[b+this.wh[c]]-=this.Jp[c]*d;this.normalize()}};d.xh=function(){var a,b;this.Uo();pg(this,this.Ud);pg(this,
this.Ud);this.normalize();this.Uo();for(b=this.S.length;b<this.jn;b++)this.S[b]=0;a=this.Ud;"number"===typeof a&&(a=new this.Ed(a));var c=b=0,d,f,g;for(d=Math.max(this.S.length,a.S.length)-1;0<=d;d--)f=og(this,d),g=og(a,d),c|=g-f&~b,b|=f-g&~c;a=(c|~b)>>>31;for(b=0;b<this.S.length;b++)this.S[b]-=this.Ud.S[b]*a;qg(this);return this};d.inverse=function(){var a=this.Ud.sub(2);"number"===typeof a?a=[a]:void 0!==a.S&&(a=a.normalize().S);var b,c,d=new this.Ed(1),f=this;for(b=0;b<a.length;b++)for(c=0;c<this.Pb;c++)a[b]&
1<<c&&(d=rg(d,f)),f=rg(f,f);return d};c.dm=function(a){var b=c,b=b||mg,d=new b,f=[],g=b.prototype,b=Math.min(b.Zs||4294967296,Ef(a)),s=b%g.Pb||g.Pb;for(f[0]=Cf(a,0,s);s<b;s+=g.Pb)f.unshift(Cf(a,s,g.Pb));d.S=f;return d};return c}sg(127,[[0,-1]]);sg(255,[[0,-19]]);var tg=sg(192,[[0,-1],[64,-1]]),ug=sg(224,[[0,1],[96,-1]]),vg=sg(256,[[0,-1],[96,1],[192,1],[224,-1]]),wg=sg(384,[[0,-1],[32,1],[96,-1],[128,-1]]);sg(521,[[0,-1]]);function xg(a,b,c){void 0===b?this.Au=!0:(this.x=b,this.y=c,this.Au=!1);this.tp=a}xg.prototype={yg:function(){return rg(this.y,this.y).Xl(this.tp.Ys.add(rg(this.x,this.tp.Os.add(rg(this.x,this.x)))))}};function yg(a,b,c,d,f,g){this.field=a;this.hz=a.prototype.Ud.sub(b);this.Os=new a(c);this.Ys=new a(d);this.ny=new xg(this,new a(f),new a(g))}
yg.prototype.dm=function(a){var b=this.field.prototype.vt+7&-8;a=new xg(this,this.field.dm(zf(a,0,b)),this.field.dm(zf(a,b,2*b)));if(!a.yg())throw new uf("not on the curve!");return a};new yg(tg,"0x662107c8eb94364e4b2dd7ce",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811");
new yg(ug,"0xe95c1f470fc1ec22d6baa3a3d5c4",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34");new yg(vg,"0x4319055358e8617b0c46353d039cdaae",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5");
new yg(wg,"0x389cb27e0bc8d21fa7e5f24cb74f58851313e696333ad68c",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f");function zg(){0!=Ag&&(this.Fy=Error().stack,Bg[oa(this)]=this)}var Ag=0,Bg={};zg.prototype.Ic=!1;zg.prototype.F=function(){if(!this.Ic&&(this.Ic=!0,this.k(),0!=Ag)){var a=oa(this);delete Bg[a]}};function Dg(a,b){a.ni||(a.ni=[]);a.ni.push(w(b,void 0))}zg.prototype.k=function(){if(this.ni)for(;this.ni.length;)this.ni.shift()()};function Eg(a){a&&"function"==typeof a.F&&a.F()};var Fg=!A||Rb(9),Gg=!A||Rb(9),Hg=A&&!D("9"),Ig=!C||D("528"),Jg=B&&D("1.9b")||A&&D("8")||Fb&&D("9.5")||C&&D("528"),Kg=B&&!D("8")||A&&!D("9");function Lg(a,b){this.type=a;this.currentTarget=this.target=b}n=Lg.prototype;n.k=ba();n.F=ba();n.Ee=!1;n.defaultPrevented=!1;n.Mr=!0;n.stopPropagation=function(){this.Ee=!0};n.preventDefault=function(){this.defaultPrevented=!0;this.Mr=!1};function Mg(a){a.preventDefault()};function Ng(a){Ng[" "](a);return a}Ng[" "]=ga;function Og(a,b){a&&this.re(a,b)}y(Og,Lg);var Pg=[1,4,2];n=Og.prototype;n.target=null;n.relatedTarget=null;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.Kn=!1;n.qc=null;
n.re=function(a,b){var c=this.type=a.type;Lg.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var f;a:{try{Ng(d.nodeName);f=!0;break a}catch(g){}f=!1}f||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=C||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Kn=Ab?a.metaKey:a.ctrlKey;this.state=a.state;this.qc=a;a.defaultPrevented&&this.preventDefault();delete this.Ee};function Qg(a){return(Fg?0==a.qc.button:"click"==a.type?!0:!!(a.qc.button&Pg[0]))&&!(C&&Ab&&a.ctrlKey)}
n.stopPropagation=function(){Og.c.stopPropagation.call(this);this.qc.stopPropagation?this.qc.stopPropagation():this.qc.cancelBubble=!0};n.preventDefault=function(){Og.c.preventDefault.call(this);var a=this.qc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Hg)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.k=ba();var Rg="closure_listenable_"+(1E6*Math.random()|0);function Sg(a){return!(!a||!a[Rg])}var Tg=0;function Ug(a,b,c,d,f,g){this.ld=a;this.zr=b;this.src=c;this.type=d;this.capture=!!f;this.rf=g;this.key=++Tg;this.Zd=this.cg=!1}function Vg(a){a.Zd=!0;a.ld=null;a.zr=null;a.src=null;a.rf=null};var Wg={},Xg={},Yg={},Zg={};function $g(a,b,c,d,f){if(ja(b)){for(var g=0;g<b.length;g++)$g(a,b[g],c,d,f);return null}c=ah(c);return Sg(a)?a.g(b,c,d,f):bh(a,b,c,!1,d,f)}
function bh(a,b,c,d,f,g){if(!b)throw Error("Invalid event type");f=!!f;var h=Xg;b in h||(h[b]={O:0});h=h[b];f in h||(h[f]={O:0},h.O++);var h=h[f],k=oa(a),m;if(h[k]){m=h[k];for(var p=0;p<m.length;p++)if(h=m[p],h.ld==c&&h.rf==g){if(h.Zd)break;d||(m[p].cg=!1);return m[p]}}else m=h[k]=[],h.O++;p=ch();h=new Ug(c,p,a,b,f,g);h.cg=d;p.src=a;p.ld=h;m.push(h);Yg[k]||(Yg[k]=[]);Yg[k].push(h);a.addEventListener?a.addEventListener(b,p,f):a.attachEvent(b in Zg?Zg[b]:Zg[b]="on"+b,p);return Wg[h.key]=h}
function ch(){var a=dh,b=Gg?function(c){return a.call(b.src,b.ld,c)}:function(c){c=a.call(b.src,b.ld,c);if(!c)return c};return b}function eh(a,b,c,d,f){if(ja(b)){for(var g=0;g<b.length;g++)eh(a,b[g],c,d,f);return null}c=ah(c);return Sg(a)?a.jk(b,c,d,f):bh(a,b,c,!0,d,f)}function fh(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)fh(a,b[g],c,d,f);else if(c=ah(c),Sg(a))a.tb(b,c,d,f);else if(d=!!d,a=gh(a,b,d))for(g=0;g<a.length;g++)if(a[g].ld==c&&a[g].capture==d&&a[g].rf==f){hh(a[g]);break}}
function hh(a){if(la(a)||!a||a.Zd)return!1;var b=a.src;if(Sg(b))return ih(b.Jc,a);var c=a.type,d=a.zr,f=a.capture;b.removeEventListener?b.removeEventListener(c,d,f):b.detachEvent&&b.detachEvent(c in Zg?Zg[c]:Zg[c]="on"+c,d);b=oa(b);Yg[b]&&(d=Yg[b],mb(d,a),0==d.length&&delete Yg[b]);Vg(a);if(d=Xg[c][f][b])mb(d,a),0==d.length&&(delete Xg[c][f][b],Xg[c][f].O--),0==Xg[c][f].O&&(delete Xg[c][f],Xg[c].O--),0==Xg[c].O&&delete Xg[c];delete Wg[a.key];return!0}
function jh(a){var b=0;if(null!=a)if(a&&Sg(a))a.Jc&&a.Jc.ud(void 0);else{if(a=oa(a),Yg[a]){a=Yg[a];for(var c=a.length-1;0<=c;c--)hh(a[c]),b++}}else Ic(Wg,function(a){hh(a);b++})}function gh(a,b,c){var d=Xg;return b in d&&(d=d[b],c in d&&(d=d[c],a=oa(a),d[a]))?d[a]:null}function kh(a,b,c){var d=1;b=oa(b);if(a[b])for(a=pb(a[b]),b=0;b<a.length;b++){var f=a[b];f&&!f.Zd&&(d&=!1!==lh(f,c))}return Boolean(d)}function lh(a,b){var c=a.ld,d=a.rf||a.src;a.cg&&hh(a);return c.call(d,b)}
function dh(a,b){if(a.Zd)return!0;var c=a.type,d=Xg;if(!(c in d))return!0;var d=d[c],f,g;if(!Gg){f=b||fa("window.event");var c=!0 in d,h=!1 in d;if(c){if(0>f.keyCode||void 0!=f.returnValue)return!0;a:{var k=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(m){k=!0}if(k||void 0==f.returnValue)f.returnValue=!0}}k=new Og;k.re(f,this);f=!0;try{if(c){for(var p=[],r=k.currentTarget;r;r=r.parentNode)p.push(r);g=d[!0];for(var s=p.length-1;!k.Ee&&0<=s;s--)k.currentTarget=p[s],f&=kh(g,p[s],k);if(h)for(g=d[!1],
s=0;!k.Ee&&s<p.length;s++)k.currentTarget=p[s],f&=kh(g,p[s],k)}else f=lh(a,k)}finally{p&&(p.length=0)}return f}d=new Og(b,this);return f=lh(a,d)}var mh="__closure_events_fn_"+(1E9*Math.random()>>>0);function ah(a){return ma(a)?a:a[mh]||(a[mh]=function(b){return a.handleEvent(b)})};function nh(a){this.src=a;this.Yb={};this.hl=0}nh.prototype.add=function(a,b,c,d,f){var g=this.Yb[a];g||(g=this.Yb[a]=[],this.hl++);var h=oh(g,b,d,f);-1<h?(a=g[h],c||(a.cg=!1)):(a=new Ug(b,null,this.src,a,!!d,f),a.cg=c,g.push(a));return a};nh.prototype.remove=function(a,b,c,d){if(!(a in this.Yb))return!1;var f=this.Yb[a];b=oh(f,b,c,d);return-1<b?(Vg(f[b]),nb(f,b),0==f.length&&(delete this.Yb[a],this.hl--),!0):!1};
function ih(a,b){var c=b.type;if(!(c in a.Yb))return!1;var d=mb(a.Yb[c],b);d&&(Vg(b),0==a.Yb[c].length&&(delete a.Yb[c],a.hl--));return d}nh.prototype.ud=function(a){var b=0,c;for(c in this.Yb)if(!a||c==a){for(var d=this.Yb[c],f=0;f<d.length;f++)++b,d[f].Zd=!0;delete this.Yb[c];this.hl--}return b};nh.prototype.nm=function(a,b,c,d){a=this.Yb[a];var f=-1;a&&(f=oh(a,b,c,d));return-1<f?a[f]:null};
function oh(a,b,c,d){for(var f=0;f<a.length;++f){var g=a[f];if(!g.Zd&&g.ld==b&&g.capture==!!c&&g.rf==d)return f}return-1};function O(){zg.call(this);this.Jc=new nh(this);this.Ps=this}y(O,zg);O.prototype[Rg]=!0;n=O.prototype;n.Be=null;n.Cb=da("Be");n.addEventListener=function(a,b,c,d){$g(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){fh(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.Be;if(c)for(b=[];c;c=c.Be)b.push(c);var c=this.Ps,d=a.type||a;if(u(a))a=new Lg(a,c);else if(a instanceof Lg)a.target=a.target||c;else{var f=a;a=new Lg(d,c);Sc(a,f)}var f=!0,g;if(b)for(var h=b.length-1;!a.Ee&&0<=h;h--)g=a.currentTarget=b[h],f=ph(g,d,!0,a)&&f;a.Ee||(g=a.currentTarget=c,f=ph(g,d,!0,a)&&f,a.Ee||(f=ph(g,d,!1,a)&&f));if(b)for(h=0;!a.Ee&&h<b.length;h++)g=a.currentTarget=b[h],f=ph(g,d,!1,a)&&f;return f};
n.k=function(){O.c.k.call(this);this.Jc&&this.Jc.ud(void 0);this.Be=null};n.g=function(a,b,c,d){return this.Jc.add(a,b,!1,c,d)};n.jk=function(a,b,c,d){return this.Jc.add(a,b,!0,c,d)};n.tb=function(a,b,c,d){return this.Jc.remove(a,b,c,d)};function ph(a,b,c,d){b=a.Jc.Yb[b];if(!b)return!0;b=pb(b);for(var f=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Zd&&h.capture==c){var k=h.ld,m=h.rf||h.src;h.cg&&ih(a.Jc,h);f=!1!==k.call(m,d)&&f}}return f&&!1!=d.Mr}n.nm=function(a,b,c,d){return this.Jc.nm(a,b,c,d)};function qh(a,b){O.call(this);this.Sh=a||1;this.Sg=b||q;this.Gl=w(this.by,this);this.cn=ua()}y(qh,O);n=qh.prototype;n.enabled=!1;n.da=null;n.setInterval=function(a){this.Sh=a;this.da&&this.enabled?(this.stop(),this.start()):this.da&&this.stop()};
n.by=function(){if(this.enabled){var a=ua()-this.cn;0<a&&a<0.8*this.Sh?this.da=this.Sg.setTimeout(this.Gl,this.Sh-a):(this.da&&(this.Sg.clearTimeout(this.da),this.da=null),this.dispatchEvent(rh),this.enabled&&(this.da=this.Sg.setTimeout(this.Gl,this.Sh),this.cn=ua()))}};n.start=function(){this.enabled=!0;this.da||(this.da=this.Sg.setTimeout(this.Gl,this.Sh),this.cn=ua())};n.stop=function(){this.enabled=!1;this.da&&(this.Sg.clearTimeout(this.da),this.da=null)};
n.k=function(){qh.c.k.call(this);this.stop();delete this.Sg};var rh="tick";function H(a,b,c){if(ma(a))c&&(a=w(a,c));else if(a&&"function"==typeof a.handleEvent)a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:q.setTimeout(a,b||0)}function sh(a){q.clearTimeout(a)};function th(a,b){b&&(a=w(a,b));uh.push(a);vh()}var uh=[],wh=[];function xh(){for(;wh.length;)wh.pop().ja()}function yh(){try{xh();for(var a,b=0;b<uh.length;++b)try{a=!0,uh[b](),a=!1}finally{xh(),a&&uh.splice(0,b+1)}uh.length=0}finally{0<wh.length+uh.length&&H(yh,0)}}function vh(){1===wh.length+uh.length&&H(yh,0)}$g(window,"focus",yh);function zh(a,b,c,d,f,g){kc.call(this,f,g);this.en=a;this.Sl=[];this.Ep=!!b;this.yt=!!c;this.ht=!!d;for(b=this.Rq=0;b<a.length;b++)pc(a[b],w(this.Xp,this,b,!0),w(this.Xp,this,b,!1));0!=a.length||this.Ep||this.$(this.Sl)}y(zh,kc);zh.prototype.Xp=function(a,b,c){this.Rq++;this.Sl[a]=[b,c];this.Lc||(this.Ep&&b?this.$([a,c]):this.yt&&!b?this.ma(c):this.Rq==this.en.length&&this.$(this.Sl));this.ht&&!b&&(c=null);return c};zh.prototype.ma=function(a){zh.c.ma.call(this,a);for(a=0;a<this.en.length;a++)this.en[a].cancel()};function Ah(a){if(1===arguments.length)return new G(a);var b=[];z(arguments,function(a){b.push(a instanceof kc?a:rc(a))});return new Bh(b)}function Ch(a){u(a)&&(a=new M(a));var b=new G;b.ma(a);return b}function G(a){kc.call(this);t(a)&&(a instanceof kc?pc(a,this.$,this.ma,this):this.$(a))}y(G,kc);function Dh(a,b,c){var d,f=b.length,g;1<f&&(g=b[f-1],"object"!=typeof g||(null==g||ja(g))||(d=g,b=2===f?b[0]:sb(b,0,f-1)));Eh(a,b,c,d);return a}
function Eh(a,b,c,d){var f=d||null;b&&(ka(b)?z(b,function(a){Eh(this,a,c,f)},a):c.call(a,Fh(b,f),f))}function Fh(a,b){return 1>=a.length?a:function(c){if(ja(c)){var d=[];z(c,function(a){d.push(a[1])});return a.apply(b,d)}return a.call(b,c)}}G.prototype.$k=function(a,b,c){Eh(this,a,kc.prototype.Yf,c);Eh(this,b,kc.prototype.vl,c);return this};G.prototype.Ye=function(a,b){return Dh(this,arguments,kc.prototype.Qs)};G.prototype.n=function(a,b){return Dh(this,arguments,kc.prototype.Yf)};
G.prototype.Mb=function(a,b){return Dh(this,arguments,kc.prototype.vl)};function Bh(a){G.call(this,new zh(a,!1,!0))}y(Bh,G);function P(a,b,c){Lg.call(this,a,b);c&&Sc(this,c);b&&ma(b.r)&&(a=b.r(!0))&&(this.session=a)}y(P,Lg);bf("event",P);P.prototype.Fa=function(){var a={},b;for(b in this)this.hasOwnProperty(b)&&"currentTarget"!==b&&(a[b]=this[b]);return a};P.prototype.toString=function(){return mf(this.Fa())};function Gh(a,b,c,d){P.call(this,a,b);this.stream=c;this.reason=d||null}y(Gh,P);function Hh(a){zg.call(this);this.gc=a;this.ya={}}y(Hh,zg);var Ih=[];n=Hh.prototype;n.g=function(a,b,c,d,f){ja(b)||(Ih[0]=b,b=Ih);for(var g=0;g<b.length;g++){var h=$g(a,b[g],c||this,d||!1,f||this.gc||this);this.ya[h.key]=h}return this};n.jk=function(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)this.jk(a,b[g],c,d,f);else a=eh(a,b,c||this,d,f||this.gc||this),this.ya[a.key]=a;return this};
n.tb=function(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)this.tb(a,b[g],c,d,f);else{a:if(f=f||this.gc||this,d=!!d,c=ah(c||this),Sg(a))a=a.nm(b,c,d,f);else{if(a=gh(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Zd&&a[b].ld==c&&a[b].capture==d&&a[b].rf==f){a=a[b];break a}a=null}a&&(hh(a),delete this.ya[a.key])}return this};n.ud=function(){Ic(this.ya,hh);this.ya={}};n.k=function(){Hh.c.k.call(this);this.ud()};n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Jh(a){P.call(this,"error");this.error=a}y(Jh,P);Jh.prototype.getError=e("error");function Kh(a,b){P.call(this,a,b)}y(Kh,P);Kh.prototype.Q=e("target");function Lh(a,b,c,d,f){P.call(this,a,b);this.key=c;this.val=d;this.oldVal=f}y(Lh,Kh);Lh.prototype.getKey=e("key");Lh.prototype.ba=e("val");function Mh(a,b,c,d){P.call(this,a,b);this.item=c;this.index=d}y(Mh,P);Mh.prototype.Q=e("item");function Q(a,b){O.call(this);a&&this.Cb(a);b&&(this.Bb=b);this.Mj=new Pd}y(Q,O);Q.prototype.G=null;Ve("eventTarget",Q);var Nh=/\s+/;n=Q.prototype;n.Xs=!1;n.Bb=!1;n.Df=null;n.rd=null;n.zb="";n.P=null;n.k=function(){this.Bb=!1;this.rd=this.Df=null;this.P&&(this.P.F(),this.P=null);Q.c.k.call(this)};n.C=function(){return this.P||(this.P=new Hh(this))};n.toString=function(){return mf(this)};n.j=e("zb");
n.Ca=function(a,b){var c=t(a)?a:!0,d=t(b)?b:!0;this.Bb!==c&&(c?(c=this.Be)&&!c.Bb?eh(c,"ready",this.Ca,!1,this):this.jc(d):(this.Bb=!1,d&&this.dispatchEvent("unready")))};n.jc=function(a){this.Bb=!0;a&&(this.dispatchEvent("ready"),this.dispatchEvent("ready:"+We(this),null,!0));this.Df&&(z(this.Df,function(a){this.dispatchEvent(a)},this),this.Df=null)};n.dispatchEvent=function(a,b,c){return this.Bb||this.Xs?this.sj(a,b,c):(this.Df=this.Df||[],this.Df.push(a),!0)};
function Oh(a,b,c,d,f){b=new Lh("change:"+b,a,b,d,c);a.dispatchEvent(b,null,!0);b.type="change";a.dispatchEvent(b,null,f)}function Ph(a,b,c){a.dispatchEvent("exitState:"+b);a.dispatchEvent("enterState:"+c)}n.sj=function(a,b,c){a.type||(a=new P(String(a),this,b));!c&&ge.value>=je(this.G).value&&F(this.G,"\x3c\x3c"+mf(a,!1)+"\x3e\x3e");c=O.prototype.dispatchEvent.call(this,a);if(this.rd)for(var d=this.rd,f=0;!1!==c&&f<d.length;++f)c=d[f].dispatchEvent(a,b,!0);return c};
n.error=function(a,b){u(a)&&(a=new M(a,b));this.G.log(ce,b||a.message||"ERROR",a);this.dispatchEvent(new Jh(a));return a};function Qh(a,b,c,d){d||(d=a);return b+"__"+oa(c)+"__"+oa(d)}function Rh(a,b,c,d){b=Qh(a,b,c,d);var f=a.Mj.get(b,null);f||(f=function(a){try{c.call(d||this,a)}catch(b){this.G.log(ce,(b.message||"ERROR")+"\n"+b.stack,void 0)}},a.Mj.set(b,f));return f}n.on=function(a,b,c){return Sh(this,a,b,c,!0)};
function Sh(a,b,c,d,f){var g;z(b.split(Nh),function(a){g=f?Rh(this,a,c,d):c;this.addEventListener(a,g,!1,d)},a);return a}n.rn=function(a,b,c){return Th(this,a,b,c,!0)};function Th(a,b,c,d,f){var g;z(b.split(Nh),function(a){var b;if(f){b=Qh(this,a,c,d);var m=this.Mj.get(b,null);m&&this.Mj.remove(b);b=m}else b=c;g=b;null!=g&&this.removeEventListener(a,g,!1,d)},a);return a}n.En=function(a,b,c){return Uh(this,a,b,c,!0)};
function Uh(a,b,c,d,f){var g;z(b.split(Nh),function(a){g=f?Rh(this,b,c,d):c;eh(this,a,g,!1,d)},a);return a}function Vh(a,b){a.rd=a.rd?pb(a.rd):[];lb(a.rd,b)}n.h=function(a,b){if(ge.value>=je(this.G).value){var c;c=2===arguments.length?b:Tc.apply(null,sb(arguments,1));var d=mf(this.toString());c=mf(c,!1);F(this.G,a+"\x3c"+d+"\x3e("+c+")")}};
n.Pm=function(a,b){if(ee.value>=je(this.G).value){var c;c=2===arguments.length?b:Tc.apply(null,sb(arguments,1));var d=mf(this.toString());c=mf(c,!1);this.G.info(a+"\x3c"+d+"\x3e("+c+")")}};function Wh(a){Q.call(this);this.V=a||null;this.Sc=void 0;this.If=1}y(Wh,Q);n=Wh.prototype;n.V=null;n.ej=!1;n.toString=function(){return this.l()};n.La=function(){this.If++;return this};n.ja=function(){0===--this.If&&this.F()};n.vb=function(){wh.push(this);vh();return this};function R(a,b){var c=a.get(b);return null!=c?String(c):""}function Xh(a,b){var c=a.get(b);return c?Number(c):0}function Yh(a,b){var c=a.get(b);return u(c)?"true"===c.toLowerCase()?!0:!1:Boolean(c)}
n.l=function(){return this.Sc||""};n.r=function(a){var b=this.V&&this.V.r();if(!b&&!a)throw new M("ILLEGAL_STATE","Object not in cache.");return b};n.k=function(){this.Sc=void 0;this.V&&(this.V=null);Wh.c.k.call(this)};n.rv=function(){(this.ej=!1)||this.Uq();this.ja()};n.Uq=ba();function K(a,b,c,d){Wh.call(this);this.ua={};this.Ya=this.Aa=null;c&&this.set(c);a&&this.Oe(a);b&&this.$b(b);(a=d)||(a=$e(ff,this.ua,null,null,this));a&&(this.Ia=a)}y(K,Wh);n=K.prototype;n.Ia=null;n.yr=null;n.$c=null;n.na=0;n.Cd=0;
n.k=function(){this.Ia&&ma(this.Ia.F)&&this.Ia.F();if(this.V){if(this.na&7){var a=this.r(!0);if(a){var b=this.l();a.ok?new G(b):a.ge("unsubscribe",b,b)}this.na=0}this.Ca(!1,!1);Zh(this);$h(this.V,this.Sc);this.V=null;this.Cd=0}for(var c in this.Aa)a=this.Aa[c],this.Aa.hasOwnProperty(c)&&a instanceof Wh&&a.ja();this.Aa=this.ua=null;this.ct&&(this.ct=null);this.Ia&&(this.Ia=null);K.c.k.call(this)};n.Fa=function(){var a={};this.forEach(function(b,c){a[c]=hf(b)});"path"in a&&delete a.id;return a};
n.valueOf=function(){return this.ua||this.Aa};function ai(a,b){b!==a.yr&&(a.yr=b,b.Aa||(b.Aa={}),a.ua=Re(b.ua,a.ua),a.Aa=Re(b.Aa,a.Aa),a.C().g(b,"change",a.sw,!1,a))}n.sj=function(a,b,c){c=K.c.sj.call(this,a,b,c);this.Ia instanceof Q&&(u(a)||(a.target=this.Ia),this.Ia.sj(a,b,!0));return c};n.remove=function(){return 512===(this.na&512)?new G(this.l()):this.r().remove(this.l())};n.qd=function(a){return this.r().qd(this.l(),a)};n.Ra=function(a){return this.r().Ra(this.l(),a)};
n.forEach=function(a,b){var c=b||this,d;for(d in this.ua)a.call(c,this.get(d),d)};function bi(a){var b={},c;for(c in a.Ya)if(2===a.Ya[c]){var d=a.get(c);b[c]=null!=d?d:null}return b}n.getParent=function(){var a=this.Be;return a instanceof K?a:null};n.get=function(a){return this.Gh(a)||this.ua[a]};function ci(a,b,c){di(a,c,b.get(c));a.C().g(b,"change:"+c,a.mv)}n.mv=function(a){di(this,a.getKey(),a.ba())};n.set=function(a,b,c){if(na(a))for(var d in a)di(this,d,a[d],!!b);else di(this,a,b,c);return this};
function ei(a,b,c){b=t(b)?b:1;var d=Xh(a,"sessionCount"),d=isNaN(d)?b:d+b;di(a,"sessionCount",d,c)}n.X=function(){return this.ua.type||"entity"};n.Oe=function(a){var b=this.ua.type;if(b&&a!==b)throw this.error(tf("type",a));"entity"!==a&&fi(this,"type",a);return this};n.$b=function(a){S(this,"id",a.substr(a.lastIndexOf("/")+1));return fi(this,"path",a)};n.l=function(){return this.Sc||this.ua.path||this.j()||""};
n.nb=function(a){if("path"in this.ua){var b;b=this.l()||"/";b=gi(hi(b),a);fi(this,"path",b)}return fi(this,"id",a)};n.j=function(){return this.ua.id};n.ao=function(a){return fi(this,"displayName",a)};n.Md=function(){return this.ua.displayName||this.j()};n.Bj=function(){return this.ua.iss};n.km=function(){return this.ua.iat};n.Tp=function(){return this.ua.seq};n.Rx=function(a){return S(this,"seq",Number(a),!0)};
n.jc=function(a){K.c.jc.call(this,a);0===this.Cd&&(this.Cd=1);for(var b in this.Aa)this.Aa.hasOwnProperty(b)&&this.Aa[b].Ca(!0,a);this.Ia&&this.Ia instanceof Q&&this.Ia.Ca(!0,a)};n.wl=function(a,b){this.V=a;this.Sc=this.l();a.r()&&(this.Cd=2);var c=this.l();ii(this.V,this.l(),w(function(a){var b=a.getParent();(!b||b.l().length<c.length)&&a.Cb(this)},this));var d=ji(this.V,this.l());this.fo(d);b&&ki(this,b,{props:this.ua})};
function ki(a,b,c){var d=new Kh(b,a);a.dispatchEvent(d,c);c=a.X();"entity"!==c&&(d.type=b+":"+c,a.dispatchEvent(d,null,!0))}n.Gh=function(a){return this.Aa&&this.Aa[a]};function di(a,b,c,d){lf(a,b,c)||S(a,b,c,d)}function fi(a,b,c){return S(a,b,String(c),void 0)}
function S(a,b,c,d){var f=a.get(b);if(f===c)return a;var g;a.Aa&&a.Aa.hasOwnProperty(b)&&(g=a.Aa[b],a.C().tb(g,"change",a.mr),delete a.Aa[b]);t(c)?na(c)&&(c instanceof li||c instanceof Wh)?(a.Aa||(a.Aa={}),a.C().g(c,"change",a.mr,!1,a),a.Aa[b]=c.La(),a.ua[b]=c.valueOf()):a.ua[b]=c:a.ua.hasOwnProperty(b)&&delete a.ua[b];!d&&(2<=a.Cd&&!/(^_)|(_$)|(^id$)/.test(b))&&(a.Ya||(a.Ya={}),a.Ya[b]=a.Cd,a.ej||(a.La(),a.ej=!0,th(a.rv,a)));a.Ia&&lf(a.Ia,b,c,!0);!d&&a.Bb&&Oh(a,b,f,c);g&&g.ja();return a}
function Zh(a){var b=a.Be;ii(a.V,a.l(),w(function(a){a.Be===this&&a.Cb(b)},a));a.Cb(null)}n.fo=function(a){this.Cb(a);this.Ca(!0,!1)};n.Fg=function(){this.na|=512;ki(this,"remove")};n.Uq=function(){var a=Mc(this.Ya,3);Mc(this.Ya,2)&&!a&&mi(this);for(var b in this.Ya)1===this.Ya[b]&&delete this.Ya[b]};function mi(a){var b=a.r(!0);b&&b.put(a.l(),bi(a))}
function ni(a,b){var c=a.Cd;c&&(a.Cd=1);try{var d=a.Tp(),f=b.seq;if(!(d&&f&&f<=d)){var g=Qc(a.Ya);g.iat="iat"in a.ua;for(var h in b)b.hasOwnProperty(h)&&!g[h]&&di(a,h,b[h])}}finally{a.Cd=c}512===(a.na&512)&&(a.na&=-513,ki(a,"add"))}n.sw=function(a){this.Bb&&(this!=a.target&&!this.ua.hasOwnProperty(a.getKey()))&&(this.dispatchEvent(a,null,!0),a.type="change:"+a.getKey(),this.dispatchEvent(a,null,!0),a.type="change")};
n.mr=function(a){if(this.Bb)for(var b in this.Aa)if(this.Aa.hasOwnProperty(b)&&this!==a.target&&this.get(b)===a.target){Oh(this,b+"."+a.getKey(),a.oldVal,a.ba(),!0);break}};gf("entity",K,["type","path","$props"],"id",K.prototype.nb,"type",K.prototype.Oe,"seq",K.prototype.Rx,"$*",K.prototype.set);Ve("entity",K);function li(a,b){Q.call(this,b);this.H=a;a.Ia=this}y(li,Q);n=li.prototype;n.k=function(){this.H=null;li.c.k.call(this)};n.Fa=function(){return this.H.Fa()};n.toString=function(){return this.H.toString()};n.valueOf=function(){return this.H.valueOf()};n.Q=e("H");n.X=function(){return this.H.X()};n.l=function(){return this.H.l()};n.j=function(){return this.H.j()};n.r=function(a){return this.H.r(a)};n.ia=function(){return this.r().ia()};n.La=function(){this.H.La();return this};n.ja=function(){this.H.ja()};
n.vb=function(){this.H.vb();return this};var oi=Ie("vline.media"),pi="googActiveConnection googActualEncBitrate audioOutputLevel audioInputLevel googAvailableReceiveBandwidth googAvailableSendBandwidth googBucketDelay bytesReceived bytesSent googChannelId googCodecName googComponent googContentName googEchoCancellationQualityMin googEchoCancellationEchoDelayMedian googEchoCancellationEchoDelayStdDev googEchoCancellationReturnLoss googEchoCancellationReturnLossEnhancement googFirsReceived googFirsSent googFrameHeightReceived googFrameHeightSent googFrameRateReceived googFrameRateDecoded googFrameRateOutput googFrameRateInput googFrameRateSent googFrameWidthReceived googFrameWidthSent googInitiator googJitterReceived googLocalAddress googNacksReceived googNacksSent packetsReceived packetsSent packetsLost googReadable googRemoteAddress googRetransmitBitrate googRtt googTargetEncBitrate googTransmitBitrate transportId googTransportType googTrackId ssrc googWritable googLibjingleSession VideoBwe ssrc googTrack iceCandidate googTransport googComponent googCandidatePair bweforvideo".split(" ");
function qi(a,b){if(b){var c=b.audio,d=b.video,c={audio:c};a.video&&(c.video=d);return c}var c=a.audio,d=a.video,f=640,g=480;d&&a.hd&&ri()&&(f=1280,g=720);f=[{minWidth:f},{minHeight:g},{googLeakyBucket:!0}];d&&(na(d)||(d={}),d.optional=d.optional?d.optional.concat(f):f);f=[{googEchoCancellation2:!0}];c&&(na(c)||(c={}),c.optional=c.optional?c.optional.concat(f):f);return{audio:c,video:d}}
function si(a,b){F(oi,"Checking to see if old constraints "+bc(a)+" are compatible with "+bc(b));if(!b&&a)return!0;if(!a||"boolean"===typeof a.audio&&"boolean"===typeof b.audio&&a.audio!=b.audio)return!1;if("boolean"===typeof a.video&&"boolean"===typeof b.video)return a.video==b.video?!0:!1;var c=a.video.mandatory,d=b.video.mandatory;return typeof c!=typeof d||c.maxFrameRate&&d.maxFrameRate&&c.maxFrameRate!=d.maxFrameRate||c.maxHeight&&d.maxHeight&&(c.maxWidth&&d.maxWidth)&&(c.maxWidth!=d.maxWidth||
c.maxHeight!=d.maxHeight)?!1:!0}function ti(a){a=a.params;return{video:{mandatory:{maxWidth:a.width,maxHeight:a.height,maxFrameRate:a.maxframerate}}}};var ui,vi,wi,xi,yi,zi,Ai;Ai=zi=yi=xi=wi=vi=ui=!1;var Bi=Bb();Bi&&(-1!=Bi.indexOf("Firefox")?ui=!0:-1!=Bi.indexOf("Camino")?vi=!0:-1!=Bi.indexOf("iPhone")||-1!=Bi.indexOf("iPod")?wi=!0:-1!=Bi.indexOf("iPad")?xi=!0:-1!=Bi.indexOf("Android")?yi=!0:-1!=Bi.indexOf("Chrome")?zi=!0:-1!=Bi.indexOf("Safari")&&(Ai=!0));var Ci=ui,Di=vi,Ei=wi,Fi=xi,Gi=yi,Hi=zi,Ii=Ai;function Ji(a){return(a=a.exec(Bb()))?a[1]:""}var Ki=function(){if(Ci)return Ji(/Firefox\/([0-9.]+)/);if(A||Fb)return Kb;if(Hi)return Ji(/Chrome\/([0-9.]+)/);if(Ii)return Ji(/Version\/([0-9.]+)/);if(Ei||Fi){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Bb());if(a)return a[1]+"."+a[2]}else{if(Gi)return(a=Ji(/Android\s+([0-9.]+)/))?a:Ji(/Version\/([0-9.]+)/);if(Di)return Ji(/Camino\/([0-9.]+)/)}return""}();function Li(a){return 0<=Xa(Ki,a)};function Mi(){return Gb||Gi}function Ni(a){C&&a.webkitCancelFullScreen?a.webkitCancelFullScreen():B&&a.mozCancelFullScreen?a.mozCancelFullScreen():a.cancelFullScreen&&a.cancelFullScreen()}function Oi(){return Ci&&!Li(21)?!1:!(!window.webkitRTCPeerConnection&&!window.mozRTCPeerConnection)}function ri(){return Hi&&Li("24")};var Pi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");
function Qi(a){a||(a=16);var b;b=Math.ceil(a/4);var c=[],d;d=Lf(void 0);var f;if(d===Sf)throw new xf("generator isn't seeded");if(d&Zf){d=!(d&$f);f=[];var g=0,h;Yf=f[0]=(new Date).valueOf()+3E4;for(h=0;16>h;h++)f.push(4294967296*Math.random()|0);for(h=0;h<Of.length&&(f=f.concat(Hf(Of[h])),g+=Qf[h],Qf[h]=0,d||!(ag&1<<h));h++);ag>=1<<Of.length&&(Of.push(new Ff),Qf.push(0));Rf-=g;g>Uf&&(Uf=g);ag++;bg=Gf(bg.concat(f));dg=new yf(bg);for(d=0;4>d&&(cg[d]=cg[d]+1|0,!cg[d]);d++);}for(d=0;d<b;d+=4)0===(d+1)%
65536&&hg(),f=gg(),c.push(f[0],f[1],f[2],f[3]);hg();b=c.slice(0,b);var c=new $a,k;for(f=d=0;d<a;++d)0===d%4&&(k=b[f++]),c.append(Pi[(k&255)%Pi.length]),k>>=8;return c.toString()}
if(!Lf()){var Ri,Si=[];for(Ri=0;32>Ri;++Ri)Si.push(Math.floor(8388607*Math.random()));Jf(Si,1024,"Math.random");if(!eg){if(window.addEventListener)window.addEventListener("load",jg,!1),window.addEventListener("mousemove",ig,!1);else if(document.attachEvent)document.attachEvent("onload",jg),document.attachEvent("onmousemove",ig);else throw new wf("can't attach event");eg=!0}};function Ti(a,b,c,d){Q.call(this);this.kb=a;this.nk=b;this.zb=Qi();this.Tg=null;this.ak=this.uo=this.Cc=!1;this.Qu=this.Ll=0;this.Ex=this.Dx=!1;this.Ba=null;this.Bk="";this.If=1;this.$h=d||null;this.jb=c;this.Mi=!0;this.kb.onended=w(this.Dv,this);this.Vo();this.Ca()}y(Ti,Q);Ve("mediaStream",Ti);n=Ti.prototype;n.k=function(){this.stop();this.Tg=this.kb=null;Ti.c.k.call(this)};n.Fa=function(){return{id:this.j(),label:this.fd()}};n.Qt=e("kb");
function Ui(a){return a.kb.getAudioTracks?a.kb.getAudioTracks():a.kb.audioTracks?a.kb.audioTracks:[]}function Vi(a){return a.kb.getVideoTracks?a.kb.getVideoTracks():a.kb.videoTracks?a.kb.videoTracks:[]}n.fd=function(){return this.kb.label};n.Vp=function(){!this.Tg&&Wi&&(this.Tg=Wi.createObjectURL(this.kb));return this.Tg||""};n.qb=e("Ba");n.Ea=e("nk");n.Iu=function(){return!this.Ea()};n.tq=e("Cc");
n.stop=function(){this.h("stop");0===--this.If&&(this.kb.stop&&this.kb.stop(),this.jb.removeStream(this),this.Ea()?this.ko():this.uo=!0);return this};function Xi(a){return!!a&&0<a.length}n.cq=function(){return Xi(Ui(this))};n.eq=function(){return Xi(Vi(this))};n.Nj=function(){return this.cq()};n.Pd=function(){return this.eq()};function Yi(a){return eb(a,function(a){return a.enabled})}n.Yj=function(){return this.Ea()?!Yi(Ui(this)):this.Dx};n.Wm=function(){return this.Ea()?!Yi(Vi(this)):this.Ex};
function Zi(a,b){z(a,function(a){a.enabled=b})}n.Ng=function(a){Zi(Ui(this),!a);a?this.dispatchEvent("mediaStream:audiomute"):this.dispatchEvent("mediaStream:audiounmute");return this};n.Pg=function(a){Zi(Vi(this),!a);a?this.dispatchEvent("mediaStream:videomute"):this.dispatchEvent("mediaStream:videounmute");return this};function $i(a,b){a.ak!==b&&(a.ak=b,a.dispatchEvent(b?"speaking:start":"speaking:stop"))}
n.lh=function(a){(a=cd(a,{autoplay:"autoplay",src:this.Vp()}))&&this.nk&&a.setAttribute("muted","muted");return a};n.as=function(){this.Cc||(this.Cc=!0,this.dispatchEvent("mediaStream:start"))};n.ko=function(){this.uo||(this.uo=!0,this.dispatchEvent("mediaStream:end"))};n.pp=function(){return this.Pd()?this.qp():this.lp()};n.lp=function(){this.h("createAudioElement");this.as();return this.lh("audio")};
n.qp=function(){this.h("createVideoElement");var a=this.lh("video");a&&this.nk&&aj(a);qe(a,this.Mi?30:604800).$k(this.as,this.ko,this);return a};n.Vo=function(){function a(a){a.onmute=b;a.onunmute=c;a.onresolutionchanged=d}var b=w(this.Zw,this),c=w(this.$w,this),d=w(this.Gw,this);z(Ui(this),a);z(Vi(this),a)};n.Dv=function(){this.ko()};n.Gw=function(){this.dispatchEvent("mediaStreamTrack:videoresolutionchange")};n.Zw=function(){this.dispatchEvent("mediaStreamTrack:mute")};n.$w=function(){this.dispatchEvent("mediaStreamTrack:unmute")};
function bj(a,b,c,d){Ti.call(this,a,b,c,d)}y(bj,Ti);n=bj.prototype;n.fd=l("");n.lh=function(a){var b=cd(a,{controls:!1});b.mozSrcObject=this.kb;H(b.play,0,b);this.nk&&H(function(){b.muted=!0},0,this);return b};n.Vo=ba();n.cq=l(!0);n.eq=l(!0);function cj(){K.call(this,"peerSession");S(this,"peerState","pending")}y(cj,K);gf("peerSession",cj);cj.prototype.Nd=function(){return R(this,"peerState")};function dj(a,b){K.call(this,"config",null,a);b&&ai(this,b)}y(dj,K);function ej(a){var b=R(a,"apiServer");b||(b="prod"===a.get("env")?"https://api.vline.com":"https://api."+a.get("env")+".vline.com");return b}function fj(a){return a.get("cssURL")?a.get("cssURL"):"prod"===a.get("env")?"https://static.vline.com/vline.css":"https://static."+a.get("env")+".vline.com/vline.css"}function gj(a,b){if(!1===a.get(b))return!1;var c=!0===a.get(b);return c?c:!!a.get("ui")}
var T=new dj({env:"prod",skipStun:!1,skipRelay:!1,skipLocal:!1,skipTcp:!1,autoBatch:!0,maxBackOff:12E4,connectTimeout:15E3,cometdLogLevel:"info",html5History:!0,autoConnect:!0,ui:!1,notify:!0});T.Oo="ui";T.Po="uiOutgoingDialog";T.Hs="uiIncomingDialog";T.Gs="uiBigGreenArrow";T.ql="uiVideoPanel";T.Is="uiLocalVideo";T.ry="uiTransparentBackground";T.Ks="uiVideoPanelHideFullscreenButton";T.Ms="uiVideoPanelShowTransferButton";T.sy="uiVideoPanelHideTriggerDebugButton";T.Ls="uiVideoPanelShowTriggerDebugButton";
T.Js="uiVideoPanelControlsForceVisible";T.Cs="autoAccept";T.ly="autoAcceptAudio";T.No="audioCodec";T.Ds="disableCN";T.Fs="opusConstraints";T.Es="notify";T.qy="notifyWeb";T.py="notifySound";var hj,ij=window.navigator.getUserMedia||window.navigator.webkitGetUserMedia||window.navigator.mozGetUserMedia;hj=ij?w(ij,window.navigator):null;var Wi=window.webkitURL||window.mozURL||null,jj=window.webkitRTCPeerConnection||window.mozRTCPeerConnection||null,kj=window.RTCSessionDescription||window.mozRTCSessionDescription||null,lj=window.RTCIceCandidate||window.mozRTCIceCandidate||null;Ci&&(kj=window.mozRTCSessionDescription,lj=window.mozRTCIceCandidate);function mj(a,b,c,d,f){Q.call(this);this.h("PeerConnection");this.zb=a;this.I=b;this.T=[];this.Kb=[];this.ib=null;this.zf=!1;c&&c.loopback&&(this.zf=!0);this.ij=!1;this.t=new jj({iceServers:[{url:"stun:"+(R(this.I,"stunServer")||"stun."+this.I.get("env")+".vline.com")}]},{optional:[{DtlsSrtpKeyAgreement:!this.zf}]});this.jb=d;this.Mi=!0;t(f)&&(this.Mi=f);t(this.t.onicecandidate)&&(this.t.onicecandidate=w(this.Pv,this));t(this.t.onopen)&&(this.t.onopen=w(this.lw,this));t(this.t.onstatechange)&&(this.t.onstatechange=
w(this.jr,this));t(this.t.onsignalingstatechange)&&(this.t.onsignalingstatechange=w(this.jr,this));t(this.t.onaddstream)&&(this.t.onaddstream=w(this.hv,this));t(this.t.onremovestream)&&(this.t.onremovestream=w(this.Dw,this));Ci&&Li(24)||!t(this.t.onicechange)||(this.t.onicechange=w(this.Yq,this));t(this.t.oniceconnectionstatechange)&&(this.t.oniceconnectionstatechange=w(this.Yq,this));t(this.t.onidentityresult)&&(this.t.onidentityresult=w(this.Qv,this));this.Km=!1;this.mh=0;this.Ca(!0)}y(mj,Q);
Ve("peerConnection",mj);var nj=/a=group:BUNDLE audio video\r\n/g,oj=/ice\-ufrag\:(.+)/g,pj=/ice\-pwd\:(.+)/g;n=mj.prototype;n.On=!1;n.Zn=!1;n.k=function(){this.close("localstopped");mj.c.k.call(this)};n.createOffer=function(){this.h("createOffer");if(0==this.T.length)throw this.error("NO_LOCAL_STREAMS");return qj(this,this.t.createOffer).n(this.Wr,this).Mb(this.Xd,this)};function rj(a,b,c){b=sj("offer",b);return tj(a,b,c).$k(a.it,a.Xd,a)}
function uj(a,b,c){b=sj("answer",b);return tj(a,b,c).Mb(a.Xd,a)}n.addIceCandidate=function(a){this.h("addIceCandidate","candidate",a.candidate,"sdpMid",a.sdpMid,"sdpMLineIndex",a.sdpMLineIndex);this.t.addIceCandidate(a)};n.close=function(a){this.h("close");this.t&&(this.t.close(),this.t=null,z(pb(this.T),this.removeStream,this),z(pb(this.Kb),w(this.Hr,this,a)),this.T.length=this.Kb.length=0)};n.getStats=function(a){var b=new G;if(!this.t)return b.ma(),b;this.t.getStats(w(b.$,b),a,w(b.ma,b));return b};
function vj(a,b,c){"audio"===b?c=0:"video"===b&&(c=1);return{candidate:a,sdpMid:b,sdpMLineIndex:c}}n.hp=function(){this.h("onNegotationNeeded");this.dispatchEvent("peerConnection:negotiationNeeded")};n.Pv=function(a){this.h("onIceCandidate",a);a.candidate?(this.Km&&(this.Km=!1,this.h("onIceCandidate","ICE Restart")),this.dispatchEvent("peerConnection:iceCandidate",{candidate:a.candidate})):(this.h("onIceCandidate","ICE Done"),this.Km=!0,this.dispatchEvent("peerConnection:iceDone"))};n.lw=function(){this.h("onOpen")};
n.jr=function(a){a=t(a.target)?a.target.readyState||a.target.signalingState:a;this.h("onStateChange","readyState",a);var b;switch(a){case "active":case "stable":this.ij||wj(this);break;case "closed":b="peerConnection:end"}b&&this.dispatchEvent(b)};
n.hv=function(a){this.h("onAddStream");a=B?new bj(a.stream,!1,this.jb,void 0):new Ti(a.stream,!1,this.jb,void 0);this.Zn||(lb(this.Kb,a),a.addEventListener("mediaStream:end",this.ir,!1,this),this.Mi||(a.Mi=!1),this.ij&&this.dispatchEvent(new Gh("peerConnection:addRemoteStream",this,a)))};n.Dw=function(a){this.h("onRemoveStream");var b=gb(this.Kb,function(b){return b.kb===a.stream});b&&this.Hr("remotestopped",b)};
n.Yq=function(a){if(this.t)if(this.h("onIceChange","iceConnectionState",this.t.iceConnectionState),Ci&&!Li(24))"connected"===a&&this.dispatchEvent("peerConnection:start");else switch(a=this.t.signalingState,this.t.iceConnectionState){case "connected":this.mh&&(this.G.info("Clearing disconnect timer"),sh(this.mh),this.mh=0);("active"===a||"stable"===a||this.zf)&&this.dispatchEvent("peerConnection:start");break;case "disconnected":this.mh=H(function(){this.G.info("Closing after disconnect timer");this.mh=
0;this.close("disconnected")},1E4,this),this.dispatchEvent("peerConnection:disconnected")}};n.Qv=function(){this.h("onIdentityResult")};n.Xd=function(a){this.error("PEER_CONNECTION_FAILED",a)};n.addStream=function(a){this.h("addStream",a);this.On||ib(this.T,a)||(this.t.addStream(a.kb),this.T.push(a),a.addEventListener("mediaStream:end",this.ar,!1,this))};n.removeStream=function(a){this.h("removeStream",a);a.removeEventListener("mediaStream:end",this.ar,!1,this);mb(this.T,a);this.t&&this.t.removeStream(a.kb)};
function wj(a){z(a.Kb,function(a){this.dispatchEvent(new Gh("peerConnection:addRemoteStream",this,a))},a);a.ij=!0}n.Hr=function(a,b){mb(this.Kb,b);b.removeEventListener("mediaStream:end",this.ir,!1,this);this.dispatchEvent(new Gh("peerConnection:removeRemoteStream",this,b,a))};n.ar=function(a){this.h("onLocalStreamEnd",a);this.removeStream(a.target)};n.ir=function(a){this.h("onRemoteStreamEnd",a)};n.Od=e("Kb");n.Dh=e("T");
n.Wr=function(a){this.h("setLocalDescription_",a);return xj(this,this.t.setLocalDescription,a)};
function tj(a,b,c){a.h("setRemoteDescription_");b=a.Gp(b);if(Hi&&!Li(27)){var d=b.sdp.replace(/a=fmtp:.*\r?\n/mg,"");b=sj(b.type,d)}/sendrecv/.test(b.sdp)||(a.On=/sendonly/.test(b.sdp),a.Zn=/recvonly/.test(b.sdp));d=yj();a.h("setRemoteDescription_","encodeConstraints",d);c=zj(d,c);0<a.T.length&&a.T[0].$h.Sy||(c.params.maxbitrate=Math.min(1E3,c.params.maxbitrate));if(c){a.h("applyVideoConstraintsToDescription_","opt_constraints",c);var f=b.sdp,d=/a=rtpmap:(\d+) VP8/;d.compile(d);for(var f=f.split("\r\n"),
g=[],h=0;h<f.length;h++){g.push(f[h]);var k=f[h].match(d);if(k){var m;m={width:"x-vline-max-width",height:"x-vline-max-height",maxframerate:"x-vline-max-framerate",minquantization:"x-vline-min-quantization",maxquantization:"x-google-max-quantization",maxbitrate:"x-google-max-bitrate"};var p="",r=c.params,s=void 0;for(s in r){var v=m[s];v?p+=" "+v+"\x3d"+r[s]:oi.log(de,"Unknown system constraint "+s,void 0)}(m=""==p?null:p)&&g.push("a\x3dfmtp:"+k[1]+m)}}b.sdp=g.join("\r\n")}return xj(a,a.t.setRemoteDescription,
b)}n.it=function(){this.h("createAnswer_");return qj(this,this.t.createAnswer).n(this.Wr,this)};function qj(a,b){a.h("createDescription_");var c=(new G).n(a.zt,a).n(a.Ct,a).n(a.Dt,a).n(a.Bt,a).n(a.At,a).n(a.Gp,a).n(a.Et,a);b.call(a.t,w(c.$,c),w(c.ma,c),a.ib);return c}function xj(a,b,c){a.h("setDescription_","type",c.type,"sdp",c.sdp);var d=new G;b.call(a.t,c,w(d.$,d,c),w(d.ma,d));a.G.log(ie,"description set",void 0);return d}function sj(a,b){return new kj({type:a,sdp:b})}
n.zt=function(a){if(Yh(this.I,T.Ds)){var b=a.sdp,b=b.replace(/a=rtpmap:\d+ CN\/\d+[\s\S]+?[\r\n]?/g,""),b=b.replace(/106 /g," "),b=b.replace(/105 /g," "),b=b.replace(/13 /g," ");return sj(a.type,b)}return a};n.Ct=function(a){var b=R(this.I,T.Fs);if(b){var c=a.sdp,c=c.replace(/a=fmtp:111[^\r\n]+/,"a\x3dfmtp:111 "+b);return sj(a.type,c)}return a};
n.Dt=function(a){if(this.Zn){var b=a.sdp.replace(/sendrecv/g,"sendonly");a=sj(a.type,b)}this.On&&(b=a.sdp.replace(/sendrecv/g,"recvonly"),a=sj(a.type,b));return a};n.Gp=function(a){this.h("fixUpConfAudio_");if(Hi&&Li(29))return a;for(var b=a.sdp,b=b.split("\r\n"),c=[],d=!1,f=!1,g=0;g<b.length;g++)(c.push(b[g]),f)||(d||-1===b[g].search("m\x3daudio")?d&&-1!==b[g].search("c\x3dIN")&&(c.push("a\x3dx-google-flag:conference"),f=!0):d=!0);b=c.join("\r\n");return sj(a.type,b)};
function Aj(a){var b=[];a=a.split("\r\n");for(var c=0,d="audio",f=0;f<a.length;f++)-1!==a[f].search("m\x3daudio")?(c=0,d="audio"):-1!==a[f].search("m\x3dvideo")?(c=1,d="video"):-1!==a[f].search("a\x3dcandidate")&&b.push(new lj(vj(a[f]+" generation 0",d,c)));return b}function Bj(a,b,c){var d,f="";for(a.lastIndex=0;(d=a.exec(b))&&(f=d[1],!c););return f}
n.Bt=function(a){var b=this.I.get(T.No);if(b&&"opus"===b){for(var b=a.sdp,b=b.split("\r\n"),c=0;c<b.length;c++)if(-1!==b[c].search("m\x3daudio")){var d=c;break}if(null===d)return a;for(c=0;c<b.length;c++)if(-1!==b[c].search("opus/48000")){(c=Cj(b[c]))&&(b[d]=Dj(b[d],c));break}b=b.join("\r\n");return sj(a.type,b)}return a};
n.At=function(a){var b=!0,c=this.I.get(T.No);c&&"opus"===c&&(b=!1);for(var c=a.sdp,c=c.split("\r\n"),d=0,f=0,g=null,h=null,k=null,m=null,p=0;p<c.length;p++)-1!==c[p].search("m\x3daudio")?d=p:-1!==c[p].search("m\x3dvideo")&&(f=p);for(p=0;p<c.length;p++)-1!==c[p].search("ISAC/16000")?g=Cj(c[p]):-1!==c[p].search("red/8000")?h=Cj(c[p]):-1!==c[p].search("ulpfec/90000")?k=Cj(c[p]):-1!==c[p].search("red/90000")?m=Cj(c[p]):c[p].search("VP8/90000");b&&(d&&g)&&(c[d]=Dj(c[d],g,h));f&&m&&k&&(c[f]=c[f].replace(" "+
m,"").replace(" "+k,""));c=c.join("\r\n");return sj(a.type,c)};n.Et=function(a){this.h("fixUpRtcpFb_");var b=a.sdp;if(Ci&&!Li(23)){for(var b=b.split("\r\n"),c=0,c=0;c<b.length;c++)if(-1!==b[c].search("m\x3dvideo")){var d=c;break}if(null===d)return a;for(c=d;c<b.length;c++)if(-1!==b[c].search("c\x3dIN")){b.splice(c+1,0,"a\x3drtcp-fb:* nack\r\na\x3drtcp-fb:* ccm fir");break}b=b.join("\r\n");a=sj(a.type,b)}return a};function Cj(a){return(a=/a=rtpmap:(\d+) /i.exec(a))&&2==a.length?a[1]:null}
function Dj(a,b,c){a=a.split(" ");for(var d=[],f=0,g=0;g<a.length;g++)3===f&&(c&&(d[f++]=c),d[f++]=b),a[g]!==b&&a[g]!==c&&(d[f++]=a[g]);return d.join(" ")}function Ej(a,b,c,d,f){mj.call(this,a,b,c,d,f);this.ij=!0}y(Ej,mj);function Fj(a){var b={};"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var c=[],d;for(d in b)b.hasOwnProperty(d)&&b[d]&&c.push(Ga(d),'\x3d"',Ga(b[d]),'" ');var f=c.join("");return a.replace(Gj,function(a,b,c,d,p){a=[Ga(b)];if(!c)return a[0];a.push("\x3ca ",f,'href\x3d"');d?(a.push("mailto:"),c=d,d=""):(p||a.push("http://"),(d=c.match(Hj))?(c=d[1],d=d[2]):d="");c=Ga(c);d=Ga(d);a.push(c,'"\x3e',c,"\x3c/a\x3e",d);return a.join("")})}
var Hj=/^(.*?)([:;,\.?>\]\)!]+)$/,Gj=RegExp("([\\S\\s]*?)(\\b(?:mailto:)?([\\w.+-]+@[A-Za-z0-9.-]+\\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\\b)|\\b(?:(https?|ftp)://|www\\.)\\w[\\w~#-@!\\[\\]]*|$)","g");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Ij(){}
var Jj={Yy:"\x3c",Ry:"\x3e",uy:"\x26",cz:"Â ",gz:'"',vy:"'"},Kj={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Lj=/&/g,Mj=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Nj=/</g,Oj=/>/g,Pj=/\"/g,Qj=/=/g,Rj=/\0/g,Sj=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Tj=/^#(\d+)$/,Uj=/^#x([0-9A-Fa-f]+)$/,Vj=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*\x3d\\s*(\"[^\"]*\"|'[^']*'|(?\x3d[a-z][a-z-]*\\s*\x3d)|[^\x3e\"'\\s]*))?)|(/?\x3e)|[^a-z\\s\x3e]+)",
"i"),Wj=RegExp("^(?:\x26(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|\x3c[!]--[\\s\\S]*?--\x3e|\x3c!\\w[^\x3e]*\x3e|\x3c\\?[^\x3e*]*\x3e|\x3c(/)?([a-z][a-z0-9]*)|([^\x3c\x26\x3e]+)|([\x3c\x26\x3e]))","i");
Ij.prototype.parse=function(a,b){var c=null,d=!1,f=[],g,h,k;a.Bc=[];for(a.qe=!1;b;){var m=b.match(d?Vj:Wj);b=b.substring(m[0].length);if(d)if(m[1]){var p=m[1].toLowerCase();if(m[2]){m=m[3];switch(m.charCodeAt(0)){case 34:case 39:m=m.substring(1,m.length-1)}m=m.replace(Rj,"").replace(Sj,w(this.Vu,this))}else m=p;f.push(p,m)}else m[4]&&(void 0!==h&&(k?a.ks&&a.ks(g,f):a.Bp&&a.Bp(g)),k&&h&12&&(c=null===c?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("\x3c/"+g),0>d&&(d=b.length),h&4?a.bp&&
a.bp(b.substring(0,d)):a.Dr&&a.Dr(b.substring(0,d).replace(Mj,"\x26amp;$1").replace(Nj,"\x26lt;").replace(Oj,"\x26gt;")),b=b.substring(d)),g=h=k=void 0,f.length=0,d=!1);else if(m[1])Xj(a,m[0]);else if(m[3])k=!m[2],d=!0,g=m[3].toLowerCase(),h=Kj.hasOwnProperty(g)?Kj[g]:void 0;else if(m[4])Xj(a,m[4]);else if(m[5])switch(m[5]){case "\x3c":Xj(a,"\x26lt;");break;case "\x3e":Xj(a,"\x26gt;");break;default:Xj(a,"\x26amp;")}}for(c=a.Bc.length;0<=--c;)a.ee.append("\x3c/",a.Bc[c],"\x3e");a.Bc.length=0};
Ij.prototype.Vu=function(a){a=a.toLowerCase();if(Jj.hasOwnProperty(a))return Jj[a];var b=a.match(Tj);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Uj))?String.fromCharCode(parseInt(b[1],16)):""};function Yj(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Zj(a,b,c){this.ee=a;this.Bc=[];this.qe=!1;this.vs=b;this.uk=c}y(Zj,Yj);
var ak={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Zj.prototype.ks=function(a,b){if(!this.qe&&Kj.hasOwnProperty(a)){var c=Kj[a];if(!(c&32))if(c&16)this.qe=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var g=d[f],h=d[f+1],k=null,m;if((m=a+"::"+g,ak.hasOwnProperty(m))||(m="*::"+g,ak.hasOwnProperty(m)))k=ak[m];if(null!==k)switch(k){case 0:break;case 2:case 3:h=null;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.uk?this.uk(h):h;break;case 1:h=this.vs&&this.vs(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.uk?this.uk(h):h)&&(h="#"+h):h=null;break;
default:h=null}else h=null;d[f+1]=h}if(b=d){c&2||this.Bc.push(a);this.ee.append("\x3c",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],g=b[c+1],null!==g&&void 0!==g&&this.ee.append(" ",f,'\x3d"',g.replace(Lj,"\x26amp;").replace(Nj,"\x26lt;").replace(Oj,"\x26gt;").replace(Pj,"\x26#34;").replace(Qj,"\x26#61;"),'"');this.ee.append("\x3e")}}}};
Zj.prototype.Bp=function(a){if(this.qe)this.qe=!1;else if(Kj.hasOwnProperty(a)){var b=Kj[a];if(!(b&50)){if(b&1)for(b=this.Bc.length;0<=--b;){var c=this.Bc[b];if(c===a)break;if(!(Kj[c]&1))return}else for(b=this.Bc.length;0<=--b&&this.Bc[b]!==a;);if(!(0>b)){for(var d=this.Bc.length;--d>b;)c=this.Bc[d],Kj[c]&1||this.ee.append("\x3c/",c,"\x3e");this.Bc.length=b;this.ee.append("\x3c/",a,"\x3e")}}}};function Xj(a,b){a.qe||a.ee.append(b)}Zj.prototype.Dr=function(a){this.qe||this.ee.append(a)};
Zj.prototype.bp=function(a){this.qe||this.ee.append(a)};function bk(a,b,c){P.call(this,a,b);this.message=c}y(bk,P);bk.prototype.Gj=e("message");function U(a,b,c,d,f,g){K.call(this,a);b&&fi(this,"iss",b);d&&(a=d,f&&(a=Ga(a)),t(g)||(g=!0),g&&(f=a,g=new $a,(new Ij).parse(new Zj(g,null,null),f),a=g.toString()),S(this,"body",a));c&&S(this,"cpath",c);this.Er=!1}y(U,K);Ve("message",U);gf(["im","x-msg","typing","transfer"],U,["type","iss","cpath","body"],"body",U.prototype.Lw);n=U.prototype;n.ik=null;n.Ke=null;n.D=null;n.k=function(){this.D&&this.D.ja();U.c.k.call(this)};
n.Ut=e("Ke");n.Kh=function(){return this.Bj()};n.Xb=e("D");n.Ht=function(){var a=R(this,"cpath");return a?ck(a):this.D?this.D.j():""};n.Nc=function(){return R(this,"sid")};n.Mp=function(a,b){var c=R(this,"body");return a?(this.ik||(c=Ma(c),this.ik=Fj(c)),this.ik):b?Ma(c):c};n.getError=function(){return R(this,"err")};n.Lw=function(){delete this.ik};n.wl=function(a,b){b&&(this.Er=!0);U.c.wl.call(this,a,b)};
n.jc=function(a){function b(b){k.vb();k.D=b;k.Ke||(k.Ke=b);Vh(k,b);K.prototype.jc.call(k,a);if(k.Er&&!k.Ke.Ea()){var c=new bk(se,b,k);b.dispatchEvent(c);c.type+=":"+k.X();b.dispatchEvent(c)}}var c,d=this.r(!0);if(!d||!(c=this.Kh()))return U.c.jc.call(this,a);var f=c,g=!1,h=R(this,"cpath");h&&("room"===dk(h)&&(g=!0),f=ck(h));g||(h=d.Qa(),c===h&&(this.Ke=d.Ba,f=ek(this.l())));var k=this;this.La();g?d.Qp(f).n(b,this):d.qb(f).n(b,this)};var fk=null,gk=Ie("vline.common.System");function hk(a){this.Iy=a.device_id||0;this.Jy=a.device_name||"unknown";this.Hy=a.description||"unknown";this.pz=a.vendor_id||0;this.My=a.driver||"unknown";this.Ny=a.driver_version||"unknown"}
function ik(a){this.iy=0<Jc(a);this.az=a.maxPhysicalCpus||1;this.$y=a.maxCpus||1;this.xy=a.cpuArchitecture_||"unknown";this.sp=a.curCpus||0;this.Cy=a.cpuVendor||"unknown";this.zy=a.cpuFamily||0;this.Ay=a.cpuModel||0;this.By=a.cpuStepping||0;this.yy=a.cpuCacheSize||0;this.pk=a.maxCpuSpeed||0;this.bz=a.memorySize||0;this.Eq=a.machineModel||"unknown";this.Qy=a.gpuInfo&&new hk(a.gpuInfo)||null}ik.prototype.toString=function(){return bc(this)};function jk(){return kk()}
function kk(){return(new G({machineModel:"browser"})).n(function(a){fk=a=new ik(a);F(gk,a.toString());return a}).Mb(aa())}ik.prototype.yg=e("iy");
var lk=[{level:0,id:"160x120",gUMSupported:!1,iOSSupported:!0,params:{width:160,height:120,maxframerate:20,maxquantization:63,minquantization:25,maxbitrate:100,minbitrate:30}},{level:1,id:"320x180",gUMSupported:!0,iOSSupported:!0,params:{width:320,height:180,maxframerate:20,maxquantization:63,minquantization:25,maxbitrate:300,minbitrate:90}},{level:2,id:"320x240",gUMSupported:!0,iOSSupported:!0,params:{width:320,height:240,maxframerate:20,maxquantization:63,minquantization:25,maxbitrate:300,minbitrate:120}},
{level:3,id:"352x288",gUMSupported:!1,iOSSupported:!0,params:{width:352,height:288,maxframerate:20,maxquantization:63,minquantization:25,maxbitrate:500,minbitrate:120}},{level:4,id:"480x360",gUMSupported:!1,iOSSupported:!0,params:{width:480,height:360,maxframerate:20,maxquantization:63,minquantization:20,maxbitrate:500,minbitrate:200}},{level:5,id:"640x360",gUMSupported:!0,iOSSupported:!1,params:{width:640,height:360,maxframerate:30,maxquantization:63,minquantization:15,maxbitrate:500,minbitrate:200}},
{level:6,id:"640x480",gUMSupported:!0,iOSSupported:!0,params:{width:640,height:480,maxframerate:30,maxquantization:63,minquantization:15,maxbitrate:700,minbitrate:200}},{level:7,id:"960x540",gUMSupported:!1,iOSSupported:!0,params:{width:960,height:540,maxframerate:30,maxquantization:63,minquantization:10,maxbitrate:1500,minbitrate:200}},{level:8,id:"960x720",gUMSupported:!0,iOSSupported:!1,params:{width:960,height:720,maxframerate:30,maxquantization:63,minquantization:6,maxbitrate:1500,minbitrate:200}},
{level:9,id:"1290x720",gUMSupported:!0,iOSSupported:!0,params:{width:1280,height:720,maxframerate:30,maxquantization:63,minquantization:4,maxbitrate:2E3,minbitrate:200}},{level:10,id:"1290x720",gUMSupported:!1,iOSSupported:!0,params:{width:1280,height:960,maxframerate:30,maxquantization:63,minquantization:4,maxbitrate:2E3,minbitrate:200}},{level:11,id:"1920x1080",gUMSupported:!0,iOSSupported:!1,params:{width:1920,height:1080,maxframerate:30,maxquantization:63,minquantization:4,maxbitrate:2E3,minbitrate:200}}],
mk={noderouter:"1290x720",browser:"1290x720",N90AP:"320x240",N90BAP:"320x240",N92AP:"320x240",N94AP:"320x240",K93AP:"320x240",K94AP:"320x240",K95AP:"320x240",K93AAP:"320x240",K78AP:"320x240",N78AAP:"320x240",J1AP:"352x288",J2AP:"352x288",J2AAP:"352x288",N41AP:"352x288",N42AP:"352x288",N48AP:"352x288",N49AP:"352x288",P101AP:"640x360",P102AP:"640x360",P103AP:"640x360",N51AP:"640x480",N53AP:"640x480",J71AP:"640x480",J72AP:"640x480"},nk={noderouter:"1290x720",browser:"1290x720",N90AP:"320x240",N90BAP:"320x240",
N92AP:"320x240",N94AP:"320x240",K93AP:"320x240",K94AP:"320x240",K95AP:"320x240",K93AAP:"320x240",K78AP:"320x240",N78AAP:"320x240",J1AP:"352x288",J2AP:"352x288",J2AAP:"352x288",N41AP:"352x288",N42AP:"352x288",N48AP:"352x288",N49AP:"352x288",P101AP:"352x288",P102AP:"352x288",P103AP:"352x288",N51AP:"352x288",N53AP:"352x288",J71AP:"640x480",J72AP:"640x480"};function ok(a){return gb(lk,function(b){return b.id==a})}
function pk(){var a=fk;if(!a)return gk.log(de,"sysInfo is null.  Did you call vline.common.System.init?",void 0),ok("1290x720");if(!a.yg())return gk.log(de,"sysInfo is not valid. No platform support?",void 0),ok("320x180");var b=ok(mk[a.Eq]);return b?b:Gi?ok("640x480"):-1!=a.pk&&1E3<=a.pk||2==a.sp?ok("640x480"):ok("320x180")}
function yj(){var a=fk;if(!a)return gk.log(de,"sysInfo is null.  Did you call vline.common.System.init?",void 0),ok("1290x720");if(!a.yg())return gk.log(de,"sysInfo is not valid. No platform support?",void 0),ok("320x180");var b=ok(nk[a.Eq]);return b?b:Gi?ok("640x480"):-1!=a.pk&&1E3<=a.pk||2==a.sp?ok("640x480"):ok("320x180")}function zj(a,b){return!a&&b?b:!b&&a?a:b||a?a.level<b.level?a:b:null};function qk(a,b,c,d,f){U.call(this,a,b,f);c&&S(this,"sid",c);d&&S(this,"mid",d)}y(qk,U);Ve("signal",qk);gf(["sig:sessionTerminate","sig:sessionReject","sig:sessionStart","sig:contentReject"],qk,["type","iss","sid","mid"]);qk.prototype.Fj=function(){return R(this,"mid")};function rk(a,b,c,d,f,g){qk.call(this,a,b,c,d,g);f&&this.set("decodeConstraints",f)}y(rk,qk);gf(["sig:sessionIntroduce","sig:sessionWelcome"],rk,["type","iss","sid","mid","decodeConstraints"]);
function sk(a){var b=a.get("decodeConstraints");a.h("getDecodeConstraints","constraints",b);return b}function tk(a,b,c,d,f,g){qk.call(this,a,b,c,d,g);S(this,"sdp",f)}y(tk,qk);gf(["sig:sessionInitiate","sig:sessionAccept","sig:contentModify","sig:contentAccept"],tk,["type","iss","sid","mid","sdp"]);tk.prototype.Jj=function(){return R(this,"sdp")};function uk(a,b,c,d,f,g,h,k){tk.call(this,a,b,c,d,f,k);S(this,"sdpMid",g);S(this,"sdpMLineIndex",h)}y(uk,tk);gf("sig:transportCandidate",uk,"type iss sid mid sdp sdpMid sdpMLineIndex".split(" "));
uk.prototype.Sp=function(){return R(this,"sdpMid")};uk.prototype.Rp=function(){return this.get("sdpMLineIndex")};function vk(a,b,c,d,f,g){qk.call(this,"relayAllocationRequest",a,b,c);S(this,"appId",d);S(this,"ufrag",f);S(this,"pwd",g);this.$b("/service/turn")}y(vk,qk);gf("relayAllocationRequest",vk,["iss","mid","appId","ufrag","pwd"]);function wk(a,b,c,d,f){qk.call(this,"relayAllocationResponse");if(!a||!d||!b)throw tf("relayAllocationResponse",this);S(this,"ip",a);S(this,"udpPort",b);S(this,"udpExtPort",c);S(this,"tcpPort",d);f&&S(this,"sslTcpPort",f)}y(wk,qk);
gf("relayAllocationResponse",wk,["ip","udpPort","udpExtPort","tcpPort","sslTcpPort"]);wk.prototype.lm=function(){return R(this,"ip")};function xk(a,b,c,d,f){qk.call(this,"vadStateTransition",a,b,c);f&&S(this,"streamId",f);S(this,"vadState",d)}y(xk,qk);gf("vadStateTransition",xk,["iss","sid","mid","vadState","streamId"]);function yk(a,b,c,d,f,g,h,k,m,p){this.Kl=a;this.Dk=b;this.Mn=c;this.Uh=d;this.pd=f;this.Hk=m;this.Ik=p;this.dj=g;this.Lp=h||0;this.xj=k||zk(this)}y(yk,of);bf("candidate",yk,"protocol priority ip ctype generation foundation relatedIp relatedPort".split(" "));yk.prototype.Fa=function(){return{protocol:this.Dk,priority:this.Mn,ip:this.Uh,ctype:this.dj,generation:this.Lp,foundation:this.xj,relatedIp:this.Hk,relatedPort:this.Ik}};yk.prototype.lm=e("Uh");yk.prototype.Fi=da("pd");
function zk(a){var b;a=a.dj+a.Uh+a.Dk;if("undefined"===typeof a||0===a.length)b=0;else{b||(b=0);var c=0;b^=-1;for(var d=0,f=a.length;d<f;d++)c=(b^a.charCodeAt(d))&255,b=b>>>8^Xe[c];b=(b^-1)>>>0}return b};var Ak=/a=candidate:(\d+)\ (\d+) (\w+) (\d+) (\S+) (\d+) typ (\w+)( raddr (\S+))?( rport (\d+))?( (generation (\d+))|(\w+ \S+))*/;Ie("vline.sdp");function Bk(a){var b=Ak.exec(a);if(!b||8>b.length)throw tf("candidate",a);return new yk(Number(b[2]),b[3],Number(b[4]),b[5],Number(b[6]),b[7],Number(b[14]),Number(b[1]),b[9],Number(b[11]))};function Ck(a,b,c,d){qk.call(this,"updateSessionSource",a,b,c);S(this,"new_src_mid",d)}y(Ck,qk);gf("updateSessionSource",Ck,["iss","sid","mid","new_src_mid"]);Ck.prototype.Rt=function(){return R(this,"new_src_mid")};function gi(a,b){ya(a,"/")||(a+="/");var c;if(!(c=b)){c=Ue();var d=c.getTime();d<=Te?c.setTime(++Te):Te=d;c=[c.getUTCFullYear(),Va(c.getUTCMonth()+1,2),Va(c.getUTCDate(),2),Va(c.getUTCHours(),2),Va(c.getUTCMinutes(),2),Va(c.getUTCSeconds(),2),Va(c.getUTCMilliseconds(),3)].join("")}return a+c}function Dk(a,b){return"/user/"+a+"/msg/"+b}function Ek(a,b){var c="/app/"+a+"/account";b&&(c+="/"+b);return c}function Fk(a){var b="/room";a&&(b+="/"+a);return b}
function Gk(a,b){var c="/room/"+a+"/participant";b&&(c+="/"+b);return c}function Hk(a,b){var c="/app/"+a+"/auth";b&&(c+="/"+b);return c}function Ik(a,b,c){return"/user/"+a+"/sessions/"+c+"/msg/"+b}function ek(a){return(a=/.*\/msg\/([^\/]+)/.exec(a))&&0<a.length?a[1]:""}function hi(a){var b=a.lastIndexOf("/");return 0>=b||1===a.length?"/":a.substr(0,b)}function Jk(a){a=a.split("/");return 2>a.length?"":"/"+a[1]+"/"+a[2]}function dk(a){a=a.split("/");return 2>a.length?"":a[1]}
function ck(a){a=a.split("/");return 2>a.length?"":a[2]}function Kk(a){return/^(\/local\/)/.test(a)};function Lk(a){li.call(this,a);this.D=this.ca=null;this.Ua=0;this.sb=null;this.oq=this.md=!1;this.si=[];this.Nm=!1;this.Rj=[];this.Jk=[];this.t=this.lc=null;this.oo=this.is=this.gs=this.hs=!1;this.Nk=null;this.zi=3E4;this.sd=null;this.Zk=!1;this.Ln=null}y(Lk,li);ef("peerSession",Lk,["$entity"]);n=Lk.prototype;
n.re=function(a,b,c,d,f,g){this.ca=a;this.D=b;this.zi=d;a=a.ia().I;this.hs=Yh(a,"skipStun");this.gs=Yh(a,"skipLocal");this.is=Yh(a,"skipTcp");this.oo=Yh(a,"skipRelay");b=Mk(this.ia());d=this.j();this.t=B?new Ej(d,a,c,b,g):new mj(d,a,c,b,g);this.t.Cb(this);this.md=!f;this.D&&this.C().g(this.D,"pub:sig:sessionWelcome",this.qx).g(this.D,"pub:sig:sessionInitiate",this.Uv).g(this.D,"pub:sig:sessionTerminate",this.Ww).g(this.D,"pub:sig:sessionAccept",this.Sq).g(this.D,"pub:sig:sessionReject",this.yw).g(this.D,
"pub:sig:sessionStart",this.Tw).g(this.D,"pub:sig:transportCandidate",this.pv).g(this.D,"pub:sig:contentModify",this.wv).g(this.D,"pub:sig:contentAccept",this.uv).g(this.D,"pub:vadStateTransition",this.mx).g(this,"error",this.stop).g(this,"peerConnection:end",this.stop).g(this,"peerConnection:iceCandidate",this.qv).g(this,"peerConnection:start",this.gv).g(this,"peerConnection:disconnected",this.mi).g(this,"peerConnection:negotiationNeeded",this.hp);Sh(this.ca.V,"pub:relayAllocationResponse",this.fr,
this);this.Ca(!0);f&&Nk(this,f)};n.Q=e("H");n.Xb=e("D");n.k=function(){this.stop();this.lc&&this.lc.ja();Lk.c.k.call(this)};n.toString=function(){return this.j()+"#"+this.Ua};n.qv=function(a){a=a.candidate;this.yj(a);Ok(this,a.candidate,a.sdpMid,a.sdpMLineIndex)};n.gv=function(){this.h("onActive_");Pk(this,"active")};n.mi=function(){this.h("onDisconnected_");Pk(this,"disconnected")};
function Ok(a,b,c,d){a.hs&&Qk.test(b)?F(a.G,"Skipping stun candidate"):(Qk.test(b)&&(b=b.replace(/udp \d+/,"udp "+(Number(/udp (\d+)/.exec(b)[1])-1))),a.Tc("sig:transportCandidate",b,c,d))}var Rk=/(udp|UDP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ host/,Qk=/(udp|UDP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ srflx/,Sk=/typ relay/,Tk=/(tcp|TCP) \d+ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} \d+ typ/;
function Uk(a,b,c,d,f){b=Bk(b);var g=b.lm(),h=b.pd;b.Dk=c;b.Mn=d;a=a.lc.lm();b.Uh=a;b.xj=zk(b);b.Fi(f);b.dj="relay";b.xj=zk(b);b.Hk=g;b.Ik=h;f="a\x3dcandidate:"+b.xj+" "+b.Kl+" "+b.Dk+" "+b.Mn+" "+b.Uh+" "+b.pd+" typ "+b.dj;b.Hk&&(f+=" raddr "+b.Hk);b.Ik&&(f+=" rport "+b.Ik);return f+=" generation "+b.Lp}n=Lk.prototype;
n.zj=function(a){var b=a.candidate;if(Rk.test(b)&&(!this.md||"video"!==a.sdpMid)&&(this.md||"audio"!==a.sdpMid))if(!this.lc||this.md&&!this.Nm)F(this.G,"Queuing remote host candidates for relay: "+b),this.Jk.push(a);else{this.h("genRelayCandidatesForRemoteCandidate",b);var c=Bk(b),d=Xh(this.lc,"udpPort");2===c.Kl&&(d+=1);Ok(this,Uk(this,b,"udp",1056964608,d),a.sdpMid,a.sdpMLineIndex);Ok(this,Uk(this,b,"tcp",1016964608,Xh(this.lc,"tcpPort")),a.sdpMid,a.sdpMLineIndex)}};
n.yj=function(a){var b=a.candidate;if(Rk.test(b)&&(!this.md||"video"!==a.sdpMid)&&(this.md||"audio"!==a.sdpMid))if(!this.lc||this.md&&!this.Nm)F(this.G,"Queuing local host candidate for relay: "+b),this.Rj.push(a);else{this.h("genRelayCandidatesForLocalCandidate",b);var c=Bk(b),d=Xh(this.lc,"udpExtPort");2===c.Kl&&(d+=1);c=Uk(this,b,"udp",1056964608,d);c=new lj(vj(c,a.sdpMid,a.sdpMLineIndex));this.dh(c);c=Uk(this,b,"tcp",1016964608,Xh(this.lc,"tcpPort"));c=new lj(vj(c,a.sdpMid,a.sdpMLineIndex));this.dh(c)}};
n.dh=function(a){this.gs&&Rk.test(a.candidate)||this.is&&Tk.test(a.candidate)||this.oo&&Sk.test(a.candidate)?this.h("addIceCandidate_","Skipping",a.candidate):this.t.addIceCandidate(a)};function Vk(a,b){a.h("allocateRelay");if(a.oo)F(a.G,"Skipping relay allocation");else if(b&&(a.Lm=Bj(oj,b.sdp,a.md),a.hq=Bj(pj,b.sdp,a.md)),a.Lm&&a.hq){var c=new vk(a.ca.Qa(),a.ca.j(),a.j(),a.ca.ia().oa(),a.Lm,a.hq);a.ca.Ra(c.l(),c)}}n.addStream=function(a){this.t.addStream(a)};n.removeStream=function(a){this.t.removeStream(a)};
function Wk(a,b){if(a.Ua!==b)throw a.error(new M("BAD_SIGNAL_STATE",{signalState:a.Ua,expectedState:b}));}function Xk(a,b,c){if(b.Fj()!==a.j())return!1;if(c&&a.Ua!==c)throw a.error(new M("BAD_SIGNAL_STATE",{signalState:a.Ua,expectedState:c,signal:b}));a.h("onSignal",b);return!0}function Yk(a,b){a.h("setSignalState",b);a.Ua=b}function Pk(a,b){a.h("setPeerState",b);S(a.Q(),"peerState",b)}
n.kv=function(){var a=this.Nd();if("incoming"===a||"outgoing"===a)this.h("onAutoTimeout - Stopping peersession"),this.stop()};function Zk(a,b){$k(a,b);a.Wj=b.Jj();a.oq=-1!==a.Wj.search(nj)?!0:!1;z(Aj(a.Wj),a.zj,a)}function al(a){var b=a.Rj;a.Rj=[];z(b,a.yj,a);b=a.Jk;a.Jk=[];z(b,a.zj,a)}function bl(a,b){$k(a,b);var c=b.Jj();uj(a.t,c,a.sd).n(function(){this.Nm=!0;z(this.si,this.dh,this);jb(this.si);z(Aj(c),this.zj,this);al(this)},a)}
function $k(a,b){"room"===a.D.X()?a.sb=Ik(b.Kh(),a.ca.Qa(),b.Nc()):a.sb=Ik(a.D.j(),a.ca.Qa(),b.Nc())}function Nk(a,b){a.h("onIntroduce_",b);if(a.Zk)Yk(a,16),cl(a,b);else{if(0!==a.Ua&&15!=a.Ua)throw a.error(new M("BAD_SIGNAL_STATE",{signalState:a.Ua,expectedState:0}));$k(a,b);a.sd=sk(b);Yk(a,17);Pk(a,"incoming")}}n.qx=function(a){this.h("onWelcomeMessage_",a.target);a=a.target;Xk(this,a,16)&&cl(this,a)};
function cl(a,b){$k(a,b);a.sd=sk(b);Yk(a,18);dl(a,"sig:sessionStart");a.Ln?a.Ln(a,a.sd).n(a.rw,a):el(a)}n.wv=function(a){a=a.target;Xk(this,a,13)&&(Zk(this,a),this.h("acceptContentChange"),Yk(this,9),rj(this.t,this.Wj).n(this.dv,this))};n.Sq=function(a){this.h("onAcceptMessage_");a=a.target;Xk(this,a,2)&&(Pk(this,"connecting"),bl(this,a),Yk(this,6),Yk(this,13))};n.uv=function(a){a=a.target;Xk(this,a,7)&&bl(this,a)};n.Tw=function(a){Xk(this,a.target)&&(this.Zk||19===this.Ua||fl(this))};
n.yw=function(a){Xk(this,a.target,16)&&(Yk(this,10),this.stop())};n.Ww=function(a){Xk(this,a.target)&&15!==this.Ua&&(Yk(this,12),fl(this))};n.Uv=function(a){this.Zk?(Yk(this,2),this.Sq(a)):(a=a.target,Xk(this,a)&&19===this.Ua&&(Yk(this,3),this.h("onInitiate_",a),Yk(this,3),Zk(this,a),this.h("accept"),Wk(this,3),Yk(this,4),Pk(this,"connecting"),rj(this.t,this.Wj,this.sd).n(this.ev,this)))};
n.pv=function(a){var b=a.target;if(Xk(this,b)){a=b.Jj();var c=b.Sp(),b=b.Rp();a=new lj(vj(a,c,b));13===this.Ua?this.dh(a):(F(this.G,"Queueing candidate"),this.si.push(a));this.zj(a)}};n.fr=function(a){var b=a.target;Xk(this,b)&&((a=b.getError())?this.G.log(ce,"Error allocating relay: "+a,void 0):(this.lc=b.La(),al(this)))};
n.mx=function(a){var b=a.target;if(Xk(this,b)){var c=R(b,"streamId");c?gb(this.t.Od(),function(a){return a.fd()===c?($i(a,Yh(b,"vadState")),!0):!1},this):(a=this.t.Dh())&&0<a.length&&$i(a[0],Yh(b,"vadState"))}};n.Od=function(){return this.t.Od()};
n.jm=function(){if(Hi&&Li(29)){var a=new G;this.t.getStats().n(function(b){var c=b.result();b="unknown";for(var d=0;d<c.length;d++)if(c[d].stat("googActiveConnection")){c=c[d].stat("googRemoteAddress");if(!c)break;c=c.split(":")[1];5E3==c||5001==c||5002==c||5003==c?b="relay:udp":443==c&&(b="relay:tcp");break}a.$(b)},this).Mb(function(b){a.ma(b)});return a}return new G("unknown")};
n.start=function(a){this.h("start",a);a=this.t;a.ib={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};Ci&&(a.ib.mandatory.MozDontOfferDataChannel=!0);17===this.Ua?(this.h("welcome_"),a=pk(),a=gl(this,"sig:sessionWelcome",a),this.sb&&this.ca.Ra(this.sb,a),Wk(this,17),Yk(this,19)):0===this.Ua&&(this.h("introduce_"),Wk(this,0),a=pk(),a=gl(this,"sig:sessionIntroduce",a),this.sb?this.ca.Ra(this.sb,a):hl(this,a),Yk(this,16),Pk(this,"outgoing"))};
n.stop=function(){this.h("stop");3===this.Ua?il(this):17===this.Ua?il(this):15!==this.Ua&&(0===this.Ua||this.Tc("sig:sessionTerminate"),Yk(this,11));this.Nk&&sh(this.Nk);this.Nk=null;fl(this)};function el(a){a.h("initiate");Wk(a,18);Yk(a,1);a.t.createOffer().n(a.Tv,a)}n.Tv=function(a){Yk(this,2);var b=jl(this,"sig:sessionInitiate",a.sdp);this.sb?this.ca.Ra(this.sb,b):hl(this,b);this.lc||(z(Aj(a.sdp),this.yj,this),Vk(this,a))};
n.hp=function(){this.h("onNegotiationNeeded");this.t.createOffer().n(this.vv,this)};n.vv=function(a){this.h("oContentChangeDone",a.sdp);this.Tc("sig:contentModify",a.sdp)};n.rw=function(){el(this)};n.ev=function(a){this.h("onAcceptDone",a.sdp);this.Tc("sig:sessionAccept",a.sdp);Yk(this,5);Yk(this,13);this.oq&&Hi||this.lc||(z(Aj(a.sdp),this.yj,this),Vk(this,a));z(this.si,this.dh,this);jb(this.si)};
n.dv=function(a){this.h("onAcceptContentChangeDone",a.sdp);this.Tc("sig:contentAccept",a.sdp);Yk(this,10);Yk(this,13)};function il(a){a.h("reject");Wk(a,17);a.Tc("sig:sessionReject");Yk(a,9)}
function fl(a){a.h("close");if(a.t){var b;b="disconnected"===a.Nd()?"disconnected":12===a.Ua?"remotestopped":"localstopped";a.t.close(b);a.t=null}15!==a.Ua&&(a.C().ud(),Th(a.ca.V,"pub:relayAllocationResponse",a.fr,a),a.md=!1,a.lc=a.Lm=null,a.Jk.length=a.Rj.length=0,Yk(a,15),Pk(a,"closed"),a.dispatchEvent("peerSession:end"),a.H.remove())}n.Tc=function(a,b,c,d){this.sb?this.ca.Ra(this.sb,jl(this,a,b,c,d)):dl(this,a,b,c,d)};
function dl(a,b,c,d,f){"room"===a.D.X()&&a.sb?a.ca.Ra(a.sb,jl(a,b,c,d,f)):a.ca.Ra(kl(a.D),jl(a,b,c,d,f))}function hl(a,b){"room"===a.D.X()&&a.sb?a.ca.Ra(a.sb,b):a.ca.Ra(kl(a.D),b)}function jl(a,b,c,d,f){var g=a.j(),h=a.ca.j(),k=a.ca.Qa(),m;"room"===a.D.X()&&(m=Fk(a.D.j()));return c?d?new uk(b,k,h,g,c,d,f,m):new tk(b,k,h,g,c,m):new qk(b,k,h,g,m)}function gl(a,b,c){var d=a.j(),f=a.ca.j(),g=a.ca.Qa(),h;"room"===a.D.X()&&(h=Fk(a.D.j()));return new rk(b,g,f,d,c,h)}n.Nd=function(){return this.H.Nd()};
n.Do=function(a){a=new Ck(this.ca.Qa(),this.ca.j(),this.j(),a);this.sb&&this.ca.Ra(this.sb,a)};function ll(a){K.call(this,"mediaSession",null,null,a);S(this,"mediaState","inactive")}y(ll,K);gf("mediaSession",ll);ll.prototype.Mc=function(){return R(this,"mediaState")};function ml(a,b,c,d){qk.call(this,"vadStateConfidence",a,b,c);S(this,"vadStateList",d)}y(ml,qk);gf("vadStateConfidence",ml,["iss","sid","mid","vadStateList"]);var nl=!0;$g(window,"focus",function(){nl=!0});$g(window,"blur",function(){nl=!1});var ol=!!window.Notification&&!Mi(),pl={},ql=function(){if(!ol)return"denied";if(null!=Notification.permission)return Notification.permission;if(null!=window.webkitNotifications)switch(window.webkitNotifications.checkPermission()){case 0:return"granted";case 1:return"default"}return"denied"}();
function rl(a,b){var c=void 0;if(ol&&"granted"===ql){c||(c="/s/img/icon-72.png");var d=new Notification("vLine link: A new person joined",{body:a,title:"vLine link: A new person joined",tag:b,icon:c});if(d){pl[b]=d;var f=window;d.onclick=function(){var a=sl(b);a&&a.close();f.focus()};d.onclose=function(){sl(b,d)}}}}function sl(a,b){var c=pl[a];if(!b||b&&c===b)return delete pl[a],c};function tl(a,b){this.ob=a;this.I=this.ob.ia().I;this.A=b;this.Lb=this.ob.pb();this.Xe()}n=tl.prototype;n.Xe=function(){var a=this.A;this.Lb.np(a.j());a.C().g(a,"stop:mediaSession",this.gw,!1,this).g(a,"enterState:incoming",this.Sv,!1,this).g(a,"enterState:outgoing",this.nw,!1,this).g(a,"enterState:connecting",this.tv,!1,this).g(a,"mediaSession:addLocalStream",this.Zv,!1,this).g(a,"remove:mediaSession",this.fw,!1,this)};n.gw=function(){this.Jm(!0)};
n.Sv=function(a){a=a.target;var b=Yh(this.I,T.Cs)||a.hh();b||(b=Yh(a.Xb().Q(),"_autoAccept"));gj(this.I,T.Hs)&&!b?ul(this):vl(this.Lb,a.j(),!1);b&&!a.hh()&&a.start()};function ul(a){var b=a.A,c=b.j(),d=new P(wl,null,{mediaSession:b});b.C().g(b,["exitState:incoming","enterState:closed"],function(){vl(this.Lb,c,!1)},!1,a);xl(a.Lb,c,d)}n.nw=function(a){a=a.target.j();gj(this.I,T.Po)?yl(this):vl(this.Lb,a,!1);zl(this)};
function yl(a){var b=a.A,c=b.j(),d=new P(Al,null,{mediaSession:b});b.C().g(b,["exitState:connecting","enterState:closed"],function(){vl(this.Lb,c,!1)},!1,a);xl(a.Lb,c,d)}n.tv=function(a){a=a.target;a.j();var b=!a.$j;a.$j&&!gj(this.I,T.Po)&&(b=!0);this.Lb.Oj(b);zl(this)};n.Zv=function(){(this.I.get(T.ql)||this.I.get(T.Oo))&&zl(this)};n.fw=function(a){this.Lb.Oj(!1);vl(this.Lb,a.target.j(),!0)};
function zl(a){if(a.I.get(T.ql)||a.I.get(T.Oo)){var b=a.I.get(T.ql);var c=a.Lb;a=a.A;var d=a.j();c.Ve[d]?new G("no panel"):(c.rp(a,b),c.fs(d))}else new G("no panel")}n.Jm=function(a){this.Lb.Jm(this.A.j(),a)};n.$n=da("I");function Bl(a){return a.Fp?"Click to dismiss":"Click here to bring your conversation to the foreground"};function W(a){li.call(this,a);this.sa=[];this.T=[];this.Kb=[];this.hi=this.D=null;this.ib={audio:!0,video:!0,hd:!1,loopback:void 0};this.sd=this.Oi=null;this.zf=!1;this.de=this.Aq=null;this.$j=this.Ok=this.Jo=this.Io=this.Al=!1;this.Ck=new G;this.Cc=!1;this.C().g(this,"change:peerState",this.pw).g(this,"peerConnection:addRemoteStream",this.Bw).g(this,"peerConnection:removeRemoteStream",this.Cw).g(this,"change:mediaState",this.zn)}y(W,li);ef("mediaSession",W,["$entity"]);n=W.prototype;n.zi=3E4;
n.k=function(){this.stop();W.c.k.call(this)};n.Q=e("H");function Cl(a,b){return eb(a.T,b)||eb(a.Kb,b)}n.Xb=e("D");n.$n=function(a){var b=this.D.r().M();a=new dj(a,b.ia().I);this.hi&&this.hi.$n(a)};n.Md=function(){return this.D&&this.D.Md()||""};n.gd=function(){return this.D&&this.D.gd()||null};n.Nj=function(){return Cl(this,function(a){return a.Nj()})};n.Pd=function(){return Cl(this,function(a){return a.Pd()})};n.Mc=function(){return this.Q().Mc()};n.Gu=function(){return"pending"===this.Mc()};
n.Bu=function(){return"incoming"===this.Mc()};n.Fu=function(){return"outgoing"===this.Mc()};n.Tm=function(){return"connecting"===this.Mc()};n.Pc=function(){return"active"===this.Mc()};n.zu=function(){return"closed"===this.Mc()};n.Cu=e("$j");n.tq=e("Cc");
function Dl(a){a.h("getLocalStream_","constraints_",a.ib);if(a.de)return F(a.G,"getLocalStream_: this.streamAddedPromise_ already exists. Not getting another local stream."),a.de;var b=a.de=new G;a.Aq=Mk(a.ia()).Ej(a.ib);a.Aq.n(w(a.xn,a)).Mb(w(a.wn,a));El(a);return b}n.jm=function(){return this.sa[0].jm()};function Fl(a){a=a.sa[0];return 0<a.Od().length?a.Od()[0]:null}n.wn=function(a){this.error(a);0==this.T.length&&this.stop();this.de.ma(a);this.de=null};
n.xn=function(a){this.h("onLocalStream_",a);this.addStream(a)};n.qo=function(){this.h("startPeerSessions_");Gl(this).n(function(){z(this.sa,function(a){a.start(this.ib)},this)},this)};
function Gl(a,b,c){a.h("updateLocalStreamFromConstraints_","opt_peersession",b,"opt_decodeConstraints",c);Hl(a,c);var d=new G;if(Ci){if(0==a.T.length&&1===a.sa.length)return Dl(a).n(function(){Il(this,b);d.$()},a),d}else if(0==a.T.length||1===a.sa.length&&!si(a.T[0].$h,a.ib))return F(a.G,"No local stream or current constraints are not compatible with new constraints.  Getting a new stream."),0==a.T.length||a.removeStream(a.T[0]),Dl(a).n(function(){Il(this,b);d.$()},a),d;F(a.G,"Constraints are compatible.  Adding stream to "+
a.sa.length+" peersessions");Il(a,b);d.$();return d}function Il(a,b){var c=a.T;b?z(c,function(a){b.addStream(a)},a):z(a.sa,function(a){z(c,function(b){a.addStream(b)},this)},a)}n.wx=function(a,b){return Gl(this,a,b)};function Hl(a,b){a.h("updateSystemConstraints_","opt_decodeConstraints",b);a.sd=b||a.sd;var c=zj(yj(),a.sd);F(a.G,"Using "+bc(c));a.Oi=ti(c);Jl(a,a.ib)}
function Kl(a,b){var c=b.target,d=c.Kh();Hl(a,sk(c));a.h("onIntroduce",a.ib);var f=gb(a.sa,function(a){var b=a.Nd();return a.Xb().j()===d&&("outgoing"===b||"pending"===b)}),g=Ll(a,c);if(g||f)f&&(g?g="pending"===f.Nd()||f.j()<g.j()?f:g:(g=null,f.Zk=!0,Nk(f,c)),c.Kh()!==a.r().Qa()&&g&&(F(a.G,"Glare detected. Closing session "+g.j()),g.stop())),0<a.T.length?a.qo():a.D.hh()&&a.start(),El(a)}
n.start=function(a){this.Cc=!0;this.h("start","opt_constraints",a,"started_",this.Cc);a&&Jl(this,a);a=!0;Ml(this)&&(a=!1);0==this.sa.length&&Ll(this,null,a);0==this.T.length?Dl(this).n(this.qo,this):this.qo();return this.Ck};n.po=function(){return 0==this.T.length?Dl(this):new G(this.T[0])};n.Iw=function(a){this.lq(a.target)};n.lq=function(a){"participantSession"===a.X()&&(this.h("Media change handler registered for session "+a.j()),this.C().g(a,"change:mediaOn",this.dw,!1,this),Nl(this,a))};
n.dw=function(a){!1===a.oldVal&&!0===a.val&&Nl(this,a.target)};function Ol(a,b){return eb(a.sa,function(a){"active"!==a.Nd()?a=!1:(a=a.sb,null!=a?(a=a.split("/"),a=5>a.length?"":a[4]):a="",a=a===b);return a})}
function Nl(a,b){if("participantSession"===b.X())if(a.D.Rc){var c=R(b,"path"),d;d=c.split("/");d=5>d.length?"":d[4];var c=c.split("/"),c=7>c.length?"":c[6],f=a.r().Ba.j(),g=a.r().j();if(c!==g)if(Ol(a,c))a.h("Not starting peersession since we're already connected to peer");else{var h=Yh(b,"webrtcEnabled"),k=Yh(b,"mediaOn");h&&k?(a.h("Media session started"),k=a.hi,h=Ci?Bl({Fp:!0}):Bl({Fp:!1}),gj(k.I,T.Es)&&(k=k.A.j(),nl||h&&k&&rl(h,k)),f=Ik(d,f,c),c<g&&(Ll(a).sb=f,a.start(),a.Pm("Started peer room session with ",
d))):a.h("Not starting mediasession as remote/webrtc flag not set")}}else a.h("Not starting mediasession as local media flag is not set")}
function Jl(a,b){var c,d,f,g;null!=b?(c=b.loopback,d=b.audio,f=b.video,g=b.hd,c&&(null==d&&null==f&&null==g)&&(d=f=!0,g=!1),null!=d||(d=!1),null!=f||(f=!1),null!=g||(g=!1)):(d=f=!0,g=!1);a.ib={audio:d,video:f,hd:g,loopback:c};a.zf=Boolean(c);a.Oi&&(a.ib.video&&a.Oi.video&&(a.ib.video=a.Oi.video),a.h("applySystemConstraints_","constraints_",a.ib,"systemUserMediaConstraints_",a.Oi))}
n.addStream=function(a){this.h("addStream","localStream constraints",a.$h,"constraints_",this.ib);if(ib(this.T,a))this.de=null;else{this.T.push(a);var b=this.D.r().Ba;a.Ba=b;a.Ng(this.Al);a.Pg(this.Io);a=new Gh("mediaSession:addLocalStream",this,a);this.dispatchEvent(a);a.type="mediaSession:addStream";this.dispatchEvent(a,null,!0);a=this.de;this.de=null;a.$()}};
n.removeStream=function(a){if(mb(this.T,a)){z(this.sa,function(b){b.removeStream(a)});a.stop();var b=new Gh("mediaSession:removeLocalStream",this,a);this.dispatchEvent(b);b.type="mediaSession:removeStream";this.dispatchEvent(b,null,!0)}};n.stop=function(){this.Cc=!1;this.dispatchEvent("stop:mediaSession");var a=0===this.sa.length;z(pb(this.sa),function(a){a.stop()});Pl(this);a&&El(this);this.D&&(this.C().ud(),this.D.ja(),this.D=null);this.H&&512!==(this.H.na&512)&&this.H.remove();this.sd=null;return this};
n.Yj=e("Al");n.Wm=e("Io");n.Ng=function(a){this.Al=a;z(this.T,function(b){b.Ng(a)});return this};n.Pg=function(a){this.Io=a;z(this.T,function(b){b.Pg(a)});return this};n.Ku=e("Jo");function Ql(a,b){a.Jo!==b&&((a.Jo=b)?a.dispatchEvent("videopanel:show"):a.dispatchEvent("videopanel:hide"))}n.Dh=function(){return pb(this.T)};n.Od=function(){return pb(this.Kb)};
function Ll(a,b,c){a.h("createPeerSession");if(c=Mk(a.ia()).Ol(a.D,a.ib,a.zi,b,c)){c.Cb(a);var d=w(a.wx,a);c.Ln=d;a.sa.push(c);El(a);1===a.sa.length&&(a.$j=!b,a.dispatchEvent("add:mediaSession"))}return c}function Pl(a){z(pb(a.T),a.removeStream,a);jb(a.T)}
n.Bw=function(a){var b=a.stream;ib(this.Kb,b)||(this.Kb.push(b),Rl(this,b).n(function(a){b.Ba=a;a=b.fd().match(/Stream-(.+?:[^:]+):([^:]+):([^:-]+)/);b.Bk=a&&a[3]?a[3]:""},this).Ye(function(){var a=!0;Ci&&this.zf&&(a=!1);a&&this.dispatchEvent(new Gh("mediaSession:addRemoteStream",this,b))},this))};n.Cw=function(a){var b=a.stream;mb(this.Kb,b);b&&(b.stop(),this.dispatchEvent(new Gh("mediaSession:removeRemoteStream",this,b,a.reason)))};
n.pw=function(a){a=a.target;El(this);switch(a.Nd()){case "incoming":case "outgoing":a.Nk=H(w(a.kv,a),a.zi,a);break;case "closed":this.h("removePeerSession"),mb(this.sa,a),a.vb(),0==this.sa.length&&("room"===this.X()?!this.D.Rc&&this.H.remove():(Pl(this),this.H.remove()));default:if(this.Ok){this.Ok=!1;a=Mk(this.ia());a.h("stopRinging");try{0===--a.Or&&a.vd&&(a.vd.pause(),a.vd.load(),a.Vy=!1)}catch(b){a.error(b,"Error stopping ringtone")}}}};
n.zn=function(a){var b=a.oldVal,c=a.ba();this.h("onMediaStateChange","oldState",b,"newState",c);switch(c){case "incoming":case "outgoing":this.Ok||(this.Ok=!0,Sl(Mk(this.ia())))}"inactive"===b&&"incoming"===c||"inactive"===b&&"pending"===c?H(function(){Ph(this,b,c)},0,this):Ph(this,b,c)};
function El(a){var b,c=a.sa,d="inactive";for(b=0;b<c.length&&(d=c[b].Nd(),"active"!==d);++b);a.de&&"active"!==d&&(d="pending");S(a.Q(),"mediaState",d);a.Ck.Lc||("active"===d?a.Ck.$(a):"closed"===d&&a.Ck.ma(new M("CLOSED")))}n.Zr=da("zi");
n.lx=function(a){if(a=a.target.get("vadStateList"))for(var b=0;b<a.length;++b){var c=a[b],d=c.streamName;gb(this.Od(),function(a){var b=a.fd().replace("-thumbnail","");return a.fd()===d||b===d?(a.Ll=c.confidence,a.Qu=c.lastSpeechValue,a.ak!==c.vadState&&$i(a,c.vadState),!0):!1},this)}else this.G.log(de,"Signalled with null confidence data",void 0)};function Rl(a,b){var c=b.fd().match(/Stream-(.+?:[^:]+)/),c=c&&c[1]?c[1]:a.D.j();return a.D.r().qb(c)}
n.St=function(){var a=[];z(this.T,function(b){a.push(b.qb())},this);z(this.Kb,function(b){a.push(b.qb())},this);return a};n.X=function(){return this.D.X()};n.fl=function(){var a=this.D.r().Ba,b=this.D.j();a.fl(b,"tv")};function Ml(a){if(a=a.D.Q())if(a=R(a,"presenceDesc"))return"Conferencing"===a||"Conferencing-1.1"===a;return!1}n.hh=function(){return this.D.hh()};n.Do=function(a){0<this.sa.length&&this.sa[0].Do(a)};function Tl(a,b){K.call(this,"mailbox");a&&this.ho(a);b||(b=1);b&&S(this,"totalMessages",b)}y(Tl,K);Ve("mailbox",Tl);Tl.prototype.ho=function(a){var b=Xh(this,"readIdx");(!b||a>b)&&S(this,"readIdx",a)};gf(["mailbox"],Tl,["readIdx","totalMessages"],"readIdx",Tl.prototype.ho);
Tl.prototype.jc=function(a){if(!this.Bx){this.Bx=!0;var b=this.r(!0);if(!b)return Tl.c.jc.call(this,a);var c=this.Bj(),d=this;b.qb(c).n(function(b){Vh(this,b);K.prototype.jc.call(this,a);var c=Xh(d,"totalMessages")-Xh(d,"readIdx");0<c&&(b.dispatchEvent("change"),b.Pc()?Ul(this.r()):Oh(b,"unreadCount",0,c))},this)}};function X(a){li.call(this,a);this.A=null;this.Kd=!0;this.Zh=0;this.di=null;this.Rc=this.Dl=this.Vb=!1;this.addEventListener("pub:sig:sessionIntroduce",this.Vv,!1,this);this.addEventListener("pub:typing",this.dx,!1,this);this.addEventListener("change:unreadCount",this.fx,!1,this);this.addEventListener("change:readIdx",this.uw,!1,this);this.C().g(this,"pub:transfer",this.bx)}y(X,li);n=X.prototype;n.zp="";n.ai=0;n.mk=0;n.Lg=0;n.Vm=!1;n.Ea=ic;n.k=function(){this.A&&this.A.stop();X.c.k.call(this)};
n.Vt=function(){var a=this.H.j();return Le(a)};n.Md=function(){return this.H.Md()||""};n.oe=function(){return this.H.oe()||null};n.Og=function(a){this.H.Og(a);return this};n.pm=function(){return this.H.pm()};n.gd=function(){return this.H.gd()};n.Pe=function(a){var b=Vl(this);b.start(a);return b};n.Qe=function(){return this.A?this.A.stop():null};n.Nt=e("A");n.Vv=function(a){Kl(Vl(this),a)};
n.kq=function(){this.ai||(Wl(this),this.mk=H(function(){var a=ua()-this.ai;0<a&&4E3>=a&&Wl(this);this.ai=0},4E3,this));this.ai=ua();return this};function Wl(a){a.h("sendTypingMessage");a.Tc("","typing")}function Xl(a){a.h("emitTypingEnd");a.Lg&&sh(a.Lg);a.Lg=0;a.Vm=!1;a.dispatchEvent("typing:end")}
n.dx=function(){this.h("onTypingMessage");this.Lg?(this.h("onTypingMessage","clearing remote typing timer"),sh(this.Lg)):(this.h("onTypingMessage","emitting typing start"),this.Vm=!0,this.dispatchEvent("typing:start"));this.Lg=H(function(){Xl(this)},5E3,this)};
n.bx=function(a){this.h("onTransferMessage");a=a.target.Mp(!1,!0);console.log("XXXX"+a);var b=ac(a),c=this.r().j();b.sessionId!==c&&("transfer"===b.subType?(a=this.r().M().ng())&&0<a.length||this.r().qb(b.to).n(function(a){a.Pe().on("enterState:active",function(){b.subType="transferred";b.sessionId=c;var a=bc(b);this.kc(a,"transfer")},this)},this):(a=this.r().M().ng())&&0<a.length&&this.r().qb(b.to).n(function(a){a.Qe()}))};
n.fl=function(a,b){var c=this.r().j();this.kc(bc({to:a,device:b,subType:"transfer",sessionId:c}),"transfer")};function Vl(a){if(!a.A){var b=Mk(a.ia());b.h("createMediaSession");var c;c=a.r().V.qd("/local/mediaSession","mediaSession").La().Ia;a.La();c.D=a;c.C().g(a,"pub:vadStateConfidence",c.lx);c.Cb(a);var d=a.r().M();c.hi=new tl(d,c);Hl(c);Sh(Sh(c,"remove:mediaSession",b.yn,b),"change:mediaState",b.zn,b);b.gi.push(c);b.bh||(b.bh=c);a.A=c;Sh(a.A,"remove:mediaSession",a.yn,a)}return a.A}
n.yn=function(){this.A.vb();this.A=null};n.postMessage=function(a,b){this.h("postMessage","payload",a,"msgType",b);if(Ba(Wa(a))||t(b)&&"im"!=b&&!xa(b,"x-msg-"))return Ch("BAD_PARAM");var c=b||"im";a=Ea(a);"im"===c&&(this.mk&&(sh(this.mk),this.mk=0),this.ai=0);return this.Tc(a,c)};n.Ek=function(a,b){this.h("publishMessage","payload",a,"msgType",b);if(Ba(Wa(a))||t(b)&&"im"!=b&&!xa(b,"x-msg-"))return Ch("BAD_PARAM");var c=b||"im";a=Ea(a);return this.kc(a,c)};
n.Ot=function(a){a=t(a)?a:20;a=Math.min(a,100);return this.r().Jg(Dk(this.r().Qa(),this.j()),new Yl(34,a,!0))};n.Eh=function(a,b){!this.di&&(this.di=this.r().Eh(this.j(),a,b))&&(this.Zh=Xh(this.di,"totalMessages"));return this.di};function Zl(a){if(!a.Ea()){var b=a.Eh();b&&b.ho(a.Zh)}}n.nf=function(){if(this.Vb||this.Ea())return 0;var a=this.Eh();if(!a)return 0;a=this.Zh-Xh(a,"readIdx");return 0>a?0:a};
n.pi=function(a){if(!this.Ea()){Xl(a.Ke);var b=!!$l(this.r(),this.j());a=Xh(a,"idx");a>this.Zh&&(this.Eh(!0,a),this.Zh=a,this.Vb?(b&&Ul(this.r()),Zl(this)):b&&(b=this.nf(),Oh(this,"unreadCount",b-1,b)))}};n.fx=function(a){a.val&&(a=a.val-(a.oldVal||0),0<a&&Ul(this.r(),a))};n.uw=function(a){if(a.val&&(a=a.val-(a.oldVal||0),0<a)){var b=this.r(),c=b.Ub;b.Ub=t(a)?b.Ub-a:b.Ub-1;0>b.Ub&&(b.Ub=0);c!==b.Ub&&Oh(b,"totalUnreadCount",c,b.Ub)}};n.Du=function(){return Oi()&&Yh(this.H,"webrtcEnabled")};n.Ju=e("Vm");
n.Px=da("Kd");n.setActive=function(a){(this.Vb=a)&&Zl(this);return this};n.Pc=e("Vb");function am(a,b,c,d){a=a.r();var f=a.Qa();c=(new U(d,f,null,c,!0,!1)).vb();return a.put(b,c)}function bm(a,b,c,d){a=a.r();var f=a.Qa();c=(new U(d,f,null,c,!0,!1)).vb();return a.Ra(b,c)}n.hh=e("Dl");function cm(a){X.call(this,a);this.Pk=null}y(cm,X);ef("person",cm,["$entity"]);n=cm.prototype;n.tm=function(){return this.H.tm()};n.Ea=function(){return this.j()===this.r().Qa()};n.on=function(a,b,c){dm(this,"on",a);return cm.c.on.call(this,a,b,c)};n.En=function(a,b,c){dm(this,"one",a);return cm.c.En.call(this,a,b,c)};n.rn=function(a,b,c){dm(this,"off",a);return cm.c.rn.call(this,a,b,c)};
function dm(a,b,c){eb(c.split(Nh),function(a){return"change:presenceState"===a||"change"===a})&&(c=[{event:"change:connectionState",target:a.r().M()},{event:"change:online",target:a.H},{event:"change:presenceAutoState",target:a.H},{event:"change:presenceState",target:a.H}],a.Pk=a.pg(),z(c,function(a){"on"===b?Sh(a.target,a.event,this.tn,this):"one"===b?Uh(a.target,a.event,this.tn,this):"off"===b&&Th(a.target,a.event,this.tn,this)},a))}
n.tn=function(a){"change:presenceState"===a.type&&a.stopPropagation();a=this.pg();a!==this.Pk&&(Oh(this,"presenceState",this.Pk,a),this.Pk=a)};n.pg=function(){var a=this.H.pg();return this.H.wg()&&this.r().M().vf()&&"invisible"!==a?a||"online":"offline"};n.om=function(){return this.H.om()};n.Uk=function(a,b){switch(a){case "invisible":case "do_not_disturb":case "online":em(this.H,a);break;case "none":S(this.H,"presenceAutoState",a)}b&&S(this.H,"presenceDesc",b)};
n.Tc=function(a,b){var c;if("typing"===b)c=bm(this,kl(this),a,b);else{var d=gi(kl(this));c=am(this,d,a,b);this.Ea()||(d=gi(Dk(this.r().Qa(),this.j())),am(this,d,a,b))}return c};n.kc=function(a,b){return bm(this,kl(this),a,b)};function kl(a){return Dk(a.j(),a.r().Qa())};function fm(a){this.ei=a;this.Ur=new cc}n=fm.prototype;n.ei=null;n.Ur=null;n.set=function(a,b){t(b)?this.ei.set(a,this.Ur.Fa(b)):this.ei.remove(a)};n.get=function(a){var b;try{b=this.ei.get(a)}catch(c){return}if(null!==b)try{return ac(b)}catch(d){throw"Storage: Invalid value was encountered";}};n.remove=function(a){this.ei.remove(a)};function gm(){};function hm(a){fm.call(this,a)}y(hm,fm);function im(a){this.data=a}function jm(a){return!t(a)||a instanceof im?a:new im(a)}hm.prototype.set=function(a,b){hm.c.set.call(this,a,jm(b))};hm.prototype.vm=function(a){a=hm.c.get.call(this,a);if(!t(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};hm.prototype.get=function(a){if(a=this.vm(a)){if(a=a.data,!t(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};function km(a){fm.call(this,a)}y(km,hm);km.prototype.set=function(a,b,c){if(b=jm(b)){if(c){if(c<ua()){km.prototype.remove.call(this,a);return}b.expiration=c}b.creation=ua()}km.c.set.call(this,a,b)};km.prototype.vm=function(a,b){var c=km.c.vm.call(this,a);if(c){var d;if(d=!b){d=c.creation;var f=c.expiration;d=!!f&&f<ua()||!!d&&d>ua()}if(d)km.prototype.remove.call(this,a);else return c}};function lm(a,b,c){this.uq=this.sf=this.tf=null;b?(this.uq=a,this.tf=null,this.sf=a.split(".")[0]):(this.uq=null,this.tf={typ:"JWT",alg:"none"},c&&Sc(this.tf,c),this.sf=null)}lm.prototype.G=null;Ve("JWT",lm);lm.prototype.X=function(){!this.tf&&this.sf&&(this.tf=Ke(this.sf));return this.tf.typ};function mm(a,b,c,d,f,g,h,k,m){this.$f=a;this.Ze=b;this.Ug=c;this.hn=d;this.xx=f?f:{};this.Ws=g||null;this.Wo=h||null;this.Nn=null;this.yx=k||null;this.Vl=m||null}y(mm,of);bf("credentials",mm,"appId authId username userToken profile oauthToken appUrl providerUrl email".split(" "));function nm(a){a.type="credentials";return $e(df,a,null,void 0,void 0)}n=mm.prototype;
n.Fa=function(){return{type:"credentials",appId:this.oa(),authId:this.sc(),username:this.Ug,userToken:this.hn,profile:this.Hh(),oauthToken:this.yh(),appUrl:this.Wo,providerUrl:this.Ih(),email:this.Vl}};n.oa=e("$f");n.sc=e("Ze");n.yh=e("Ws");n.Hh=e("xx");n.Ih=e("yx");function om(a){this.Ib=a||pm}function pm(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}n=om.prototype;n.aa=null;n.Ib=null;n.Td=null;n.Sd=null;
n.add=function(a){if(null==this.aa)return this.Sd=this.Td=this.aa=new qm(a),!0;var b=null;rm(this,function(c){var d=null;0<this.Ib(c.value,a)?(d=c.left,null==c.left&&(b=new qm(a,c),c.left=b,c==this.Td&&(this.Td=b))):0>this.Ib(c.value,a)&&(d=c.right,null==c.right&&(b=new qm(a,c),c.right=b,c==this.Sd&&(this.Sd=b)));return d});b&&(rm(this,function(a){a.count++;return a.parent},b.parent),sm(this,b.parent));return!!b};
n.remove=function(a){var b=null;rm(this,function(c){var d=null;0<this.Ib(c.value,a)?d=c.left:0>this.Ib(c.value,a)?d=c.right:(b=c.value,tm(this,c));return d});return b};n.clear=function(){this.Sd=this.Td=this.aa=null};n.contains=function(a){var b=!1;rm(this,function(c){var d=null;0<this.Ib(c.value,a)?d=c.left:0>this.Ib(c.value,a)?d=c.right:b=!0;return d});return b};n.ed=function(){return this.aa?this.aa.count:0};n.bb=function(){var a=[];um(this,function(b){a.push(b)});return a};
function um(a,b,c){if(a.aa){var d;c?rm(a,function(a){var b=null;0<this.Ib(a.value,c)?(b=a.left,d=a):0>this.Ib(a.value,c)?b=a.right:d=a;return b}):d=vm(a);a=d;for(var f=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=f&&a.right!=f)a=a.left;else{if(a.right!=f&&b(a.value))break;var g=a;a=null!=a.right&&a.right!=f?a.right:a.parent;f=g}}}
function wm(a,b,c){if(a.aa){var d;c?rm(a,w(function(a){var b=null;0<this.Ib(a.value,c)?b=a.left:(0>this.Ib(a.value,c)&&(b=a.right),d=a);return b},a)):d=xm(a);a=d;for(var f=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=f&&a.left!=f)a=a.right;else{if(a.left!=f&&b(a.value))break;var g=a;a=null!=a.left&&a.left!=f?a.left:a.parent;f=g}}}function rm(a,b,c){for(c=c?c:a.aa;c&&null!=c;)c=b.call(a,c)}
function sm(a,b){rm(a,function(a){var b=a.left?a.left.height:0,f=a.right?a.right.height:0;1<b-f?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&ym(this,a.left),zm(this,a)):1<f-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&zm(this,a.right),ym(this,a));b=a.left?a.left.height:0;f=a.right?a.right.height:0;a.height=Math.max(b,f)+1;return a.parent},b)}
function ym(a,b){Am(b)?(b.parent.left=b.right,b.right.parent=b.parent):Bm(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.aa=b.right,a.aa.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}
function zm(a,b){Am(b)?(b.parent.left=b.left,b.left.parent=b.parent):Bm(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.aa=b.left,a.aa.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}
function tm(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=xm(a,b.left);rm(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.Sd&&(a.Sd=d)}else{d=vm(a,b.right);rm(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=
b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.Td&&(a.Td=d)}d.count=b.count;Am(b)?b.parent.left=d:Bm(b)?b.parent.right=d:a.aa=d;sm(a,c?c:d)}else rm(a,function(a){a.count--;return a.parent},b.parent),Am(b)?(a.nz=1,b.parent.left=null,b==a.Td&&(a.Td=b.parent),sm(a,b.parent)):Bm(b)?(b.parent.right=null,b==a.Sd&&(a.Sd=b.parent),sm(a,b.parent)):a.clear()}function vm(a,b){if(!b)return a.Td;var c=b;rm(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}
function xm(a,b){if(!b)return a.Sd;var c=b;rm(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function qm(a,b){this.value=a;this.parent=b?b:null;this.count=1}qm.prototype.left=null;qm.prototype.right=null;qm.prototype.height=1;function Bm(a){return!!a.parent&&a.parent.right==a}function Am(a){return!!a.parent&&a.parent.left==a};function Cm(a,b,c,d){Wh.call(this,a);this.Sc=b;this.rb={};this.Jb=[];this.Ec=null;c&&(this.Ob=c);d&&Dm(this,d)}y(Cm,Wh);bf("collection",Cm);n=Cm.prototype;n.Ob=null;n.aa=null;n.Fm=!1;n.Ib=function(a,b){var c=a.l(),d=b.l();return c<d?-1:c>d?1:0};n.k=function(){this.forEach(this.Pn,this);this.Ec=this.Jb=this.rb=null;this.aa&&(this.Pn(this.aa),this.aa=null);Cm.c.k.call(this)};n.jc=function(a){Cm.c.jc.call(this,a);z(this.Jb,function(b){b.Ca(!0,a)})};n.Pn=function(a){a.rd=pb(a.rd);mb(a.rd,this);a.ja()};
n.Fa=function(){return hf(this.Jb)};n.valueOf=function(){null===this.Ec&&(this.Ec=[],Em(this));return this.Ec};n.ne=e("Ob");n.Tt=e("aa");n.X=function(){return this.aa&&this.aa.X()||"collection"};n.fc=function(){return this.Jb.length};n.ed=function(){var a=this.aa;return null!=a?Xh(a,"cnt"):0};n.Jt=e("Jb");n.get=function(a){return this.rb[a]};n.im=function(a){return this.Jb[a]};n.forEach=function(a,b){z(this.Jb,a,b)};n.qu=e("Fm");
n.Tu=function(){if(!this.Fm)return new G(this);var a,b=this.ne();a=b.ad?this.Jb[0].l():this.Jb[this.fc()-1].l();a=new Yl(b.na&96,b.Rd,!!b.ad,a);return this.r().Ob(this.l(),a,this)};function Dm(a,b){var c=0===a.fc()&&null===a.aa;z(b,function(a){this.Zc(a,c)},a);if(c){a.sort();var d=a.aa||a.V;d&&a.C().g(d,"add",a.Bn).g(d,"remove",a.Fg).g(d,"change:cnt",a.xv);a.Ob&&(d=a.Ob.Rd)&&a.fc()>=d&&(a.Fm=!0);a.Ca(!0,!1)}}n.add=function(a){this.Zc(a);return this};
n.remove=function(a){if(a.l()in this.rb){delete this.rb[a.l()];if(this.aa===a)this.aa=null;else{var b=bb(this.Jb,a);nb(this.Jb,b);this.Ec&&nb(this.Ec,b);this.Bb&&this.dispatchEvent(new Mh("removeItem",this,a,b))}this.Pn(a)}return this};n.sort=function(){this.Ib&&(ab.sort.call(this.Jb,this.Ib||tb),this.Ec&&Em(this));return this};
n.Zc=function(a,b){var c=a.l();if(!(c in this.rb)){this.rb[c]=a.La();Vh(a,this);var d;if(c===this.l()&&a instanceof K)this.aa=a;else if(b||!this.Ib)d=this.fc(),this.Jb.push(a),this.Ec&&this.Ec.push(a.valueOf());else{var f,c=this.Jb;d=this.Ib||tb;for(var g=0,h=c.length;g<h;){var k=g+h>>1,m;m=d(a,c[k]);0<m?g=k+1:(h=k,f=!m)}f=f?g:~g;d=0<=f?f:~f;rb(this.Jb,d,0,a);this.Ec&&rb(this.Ec,d,0,a.valueOf())}t(d)&&this.Bb&&this.dispatchEvent(new Mh("addItem",this,a,d))}};
function Em(a){var b=a.Jb;a=a.Ec;var c=b.length,d;a.Wy=c;for(d=0;d<c;++d)a[d]=b[d].valueOf()}n.Bn=function(a){a=a.Q();Fm(this,a,this.Ob?this.Ob.na:17)&&this.Zc(a)};n.Fg=function(a){a=a.Q();Fm(this,a,this.Ob?this.Ob.na:17)&&(a=a.l(),(a=this.l()===a?this.aa:this.get(a))&&this.remove(a))};n.xv=function(a){this.dispatchEvent(a)};
function Fm(a,b,c){b=b.l();var d=a.l();if(!xa(b,d)||!Gm(b,d.length,c)||(c=a.Ob.Pf)&&b<c)return!1;c=a.Ob.Rd;d=a.fc();if(c&&d>=c)if(a.Ob.ad){if(a=a.im(0).l(),b<a)return!1}else if(a=a.im(d-1).l(),b>a)return!1;return!0};function Hm(a){Q.call(this);this.ca=a||null;this.rh={};this.kg=new om(Im);this.O=0;this.Ca(!0,!1)}y(Hm,Q);Ve("objectCache",Hm);n=Hm.prototype;n.G=Ie("vline.data.ObjectCache");function Im(a,b){var c=a.$c,d=b.$c;return c<d?-1:c>d?1:0}n.Fa=function(){return{objects:this.O}};n.r=e("ca");n.fc=e("O");n.contains=function(a){Jm(this,a);return a in this.rh};n.get=function(a){Jm(this,a);(a=this.rh[a])&&a.La();return a};
n.Jg=function(a,b){function c(a){d.push(a);return g&&d.length>=g}Jm(this,a);var d=[],f=b.na,g=b.Rd,h=b.Pf;h&&(h=Km(h));96===(f&96)?ii(this,a,c,h,!!b.ad):32===(f&32)&&this.dc(a,c,h,!!b.ad);16===(f&16)&&(f=this.get(a))&&d.push(f);f=new Cm(this,a,b,d);f.Ca(!0,!1);return f};n.put=function(a,b,c){return Lm(this,a,b,c)};n.qd=function(a,b,c){return Lm(this,gi(a,c),b)};n.Ra=function(a,b){var c=Ze(b);c.l()||c.$b(gi(a));try{this.Zc(c,"pub")}finally{$h(this,c.l())}return c};
n.forEach=function(a,b,c){return Mm(this,a,b,null,null,c)};n.dc=function(a,b,c,d){return Mm(this,b,c,a+"/#",a+"/$",d)};function ii(a,b,c,d,f){Mm(a,c,d,d||b+"/",b+"0",f)}function $h(a,b){Jm(a,b);var c=a.rh[b];c&&(Oc(a.rh,b),a.kg.remove(c),a.O--,c.$c=null)}
function Lm(a,b,c,d){b=b||gi("/tmp");var f=a.get(b);f?(a=null!=c?u(c)?{type:c}:ma(c.Fa)?c.Fa():c:{},a instanceof K?a.$b(b):a.path=b,d?ni(f,a):f.set(a)):(f=Ze(c),f.$b(b),"iat"in f.ua||(b=f,c=Ue().getTime(),S(b,"iat",Number(c),void 0)),a.Zc(f,d?null:"add"));f.na&=-513;return f}n.Zc=function(a,b){var c=a.l();a.wl(this,b);a.$c=Km(c);Pc(this.rh,c,a);this.kg.add(a);this.O++;return a};
function Jm(a,b){if(!u(b)||!xa(b,"/")||1!==b.length&&"/"===b.charAt(b.length-1))throw a.error("BAD_PARAM","Invalid path: "+b);}function Km(a){var b=a.lastIndexOf("/");return a.substr(0,b+1)+"#"+a.substr(b+1)}function Mm(a,b,c,d,f,g){g?(c?(f=c.length,c=c.substr(0,f-1)+String.fromCharCode(c.charCodeAt(f-1)-1)):c=f,Nm(a,b,d,c)):Om(a,b,c?c+"!":d,f)}function Om(a,b,c,d){var f;if(c){if(0===a.O||xm(a.kg).value.$c<c)return;f={$c:c}}c=b;d&&(c=function(a){return a.$c>=d?!0:b(a)});um(a.kg,c,f)}
function Nm(a,b,c,d){var f;if(d){if(0===a.O||vm(a.kg).value.$c>d)return;f={$c:d}}d=b;c&&(d=function(a){return a.$c<=c?!0:b(a)});wm(a.kg,d,f)}function ji(a,b){for(var c;;){var d=hi(b);if(1>=d.length)break;if(c=a.get(d))break;b=d}return c||a};function Pm(a){X.call(this,a);this.Jq=!1}y(Pm,X);ef("group",Pm,["$entity"]);Pm.prototype.Fh=function(){var a;a="/group/"+this.j()+"/member";return this.r().Jg(a,new Yl(34))};Pm.prototype.Xx=function(){this.Jq||(this.Jq=!0,this.Fh().n(function(a){Sh(a,"addItem",this.An,this);a.forEach(this.vr,this)},this))};
Pm.prototype.vr=function(a){function b(a){console.log("XXX Maybe Starting media session with "+a.j());a.Q().set("_autoAccept",!0);a.j()!=c.j()&&a.j()<c.j()&&"online"===a.pg()&&(a.Pe(),console.log("XXX Started media session with "+a.j()))}a=R(a,"userId");var c=this.r().Ba;this.r().qb(a).n(function(a){b(a);Sh(a,"change:online",function(){console.log("XXXX User came online, try starting mediasession "+a.j());b(a)})},this)};Pm.prototype.An=function(a){this.vr(a.Q())};function Qm(a,b,c,d,f,g){K.call(this,a);b&&this.nb(b);c&&this.ao(c);d&&S(this,"profileUrl",d);f&&S(this,"thumbnailUrl",f);"boolean"==typeof g&&S(this,"webrtcEnabled",g)}y(Qm,K);n=Qm.prototype;n.Md=function(){return R(this,"displayName")};n.ao=function(a){return S(this,"displayName",a)};n.oe=function(){return R(this,"status")};n.Og=function(a){return S(this,"status",a)};n.pm=function(){return R(this,"profileUrl")};n.gd=function(){return R(this,"thumbnailUrl")};function Rm(a,b,c,d){Qm.call(this,"room",a,b,c,d,!1)}y(Rm,Qm);Rm.prototype.nb=function(a){a=gi("/room",a);return this.$b(a)};gf("room",Rm,["id","displayName","profileUrl","thumbnailUrl","webrtcEnabled"],"id",Rm.prototype.nb);function Sm(a){X.call(this,a);this.ue=this.Ce=!1;this.af=null;this.ib={audio:!0,video:!0,hd:!1,loopback:void 0};this.Gy=null}y(Sm,X);ef("room",Sm,["$entity"]);n=Sm.prototype;n.ex=function(){this.Ag()};n.Bj=function(){var a=this.Q().Bj();return this.r().qb(a)};n.km=function(){return this.Q().km()};function Tm(a){var b=a.r().M();a.C().g(b,"change:connectionState",function(){"connected"===b.Ld()&&Um(this)})}n.Fh=function(){var a=Gk(this.j());return this.r().Jg(a,new Yl(102))};
n.join=function(){this.Pm("Joining room",this.j());if(this.ue)return new G(this.af);if(this.Ce)return this.h("We have a pending join...return old promise"),this.Xm;Tm(this);$g(window,"focus",this.un,!1,this);$g(window,"beforeunload",this.ex,!1,this);this.Dl=!1;this.Ce=!0;return this.Xm=Vm(this,!1).n(function(){return this.Fh().n(w(this.Zq,this,!1))},this)};
n.Zq=function(a,b){this.ue=!0;this.Ce=!1;this.af=b;this.af.Cb(this);this.af.on("addItem",this.An,this);this.af.on("removeItem",this.hw,this);this.Rc&&Wm(this);a||(this.Pm("Joined room",this.j()),this.dispatchEvent("join"));return b};n.Ag=function(){this.Rc||this.A&&this.A.stop();if(this.Ce||this.ue){var a=this.r().Ba.j(),a=Gk(this.j(),a);this.Rc=!1;return this.r().Ag(a).n(function(){this.ue=!1;this.dispatchEvent("leave");this.af.ja()},this)}return Ch("Not joined")};
function Um(a){a.ue||a.Ce?(a.Ce=!0,a.Xm=Vm(a,a.Rc).n(function(){return this.Fh().n(w(this.Zq,this,!0))},a)):new G({})}function Vm(a,b){var c={};c.mediaOn=b;c.webrtcEnabled=Oi();var d=a.r().Ba.j();a.Dl=!!b;d=Gk(a.j(),d);return a.r().join(d,c)}n.Pe=function(a){if(!this.ue&&!this.Ce)return this.error(new M("INVALID_STATE"),"You have to join room before starting media"),null;var b=Vl(this);if(this.Rc)return b;a&&(this.ib=a);this.h("MediaOn set true");this.Rc=!0;Vm(this,this.Rc);Wm(this);return b};
function Wm(a){if(a.ue){var b=a.ib,c=Vl(a);c.$n({ui:!0,uiOutgoingDialog:!1,uiIncomingDialog:!1,uiLocalVideo:!0,notify:!0});a.po();c.Cc=!0;c.h("startRoomMedia","opt_constraints",b,"started_",c.Cc);b&&Jl(c,b);a=c.D;c.C().g(a,"add:participantSession",c.Iw,!1,c);a.af.forEach(c.lq,c)}}n.po=function(){return Vl(this).po()};
n.Qe=function(){this.h("MediaOn set false");this.Rc=!1;(this.Ce||this.ue)&&Vm(this,this.Rc);this.Bq&&this.Bq.stop();this.Bq=null;this.A&&"inactive"!==this.A.Mc()&&Sm.c.Qe.call(this);return null};n.An=ba();n.hw=ba();n.Vp=function(){var a=this.j();return window.location.protocol+"//"+window.location.host+"/"+a};n.un=function(){if(null!=this.A){var a=this.A.j();(a=sl(a))&&a.close()}};function Xm(a,b,c,d,f,g,h,k,m){Qm.call(this,"person",a,b,c,d,f);h&&em(this,h);k&&S(this,"presenceAutoState",k);m&&S(this,"presenceDesc",m);g&&S(this,"username",g)}y(Xm,Qm);Xm.prototype.nb=function(a){a=gi("/user",a);return this.$b(a)};Xm.prototype.wg=function(){return Yh(this,"online")};Xm.prototype.pg=function(){return R(this,"presenceState")};function em(a,b){"online"===b&&(b=null,S(a,"presenceAutoState",b));S(a,"presenceState",b)}Xm.prototype.om=function(){return R(this,"presenceDesc")||"offline"};
Qm.prototype.tm=function(){return R(this,"username")};Xm.prototype.ao=function(a){return S(this,"displayName",a)};gf("person",Xm,"id displayName profileUrl thumbnailUrl webrtcEnabled username presenceState presenceAutoState".split(" "),"id",Xm.prototype.nb);function Ym(a){Q.call(this);this.L=a;this.sa={};this.gi=[];this.Om=[];this.Fn=[];this.bh=null;this.Vg=0;this.ml=null;this.fh=!1;this.Vs=new Pd({mp3:"audio/mpeg",ogg:"audio/ogg"});this.Ix=3E4;this.Or=0;this.T=[];this.Bf=[];this.Ca();$g(window,"beforeunload",this.F,!1,this)}y(Ym,Q);Ve("mediaController",Ym);n=Ym.prototype;n.k=function(){z(this.T,function(a){a.stream.F()});Ic(this.sa,function(a){a.F()});Ym.c.k.call(this)};n.Aj=e("bh");n.ng=e("gi");n.Dj=e("Om");n.Hj=e("Fn");
n.Gm=function(){return 0<this.Vg||0<this.Om.length||0<this.Fn.length};n.Hm=function(){return 0<this.Vg};n.ro=function(){z(pb(this.gi),function(a){a.stop()})};n.Ol=function(a,b,c,d,f){this.h("createPeerSession");if(d&&d.Fj()in this.sa)return null;a=this.L.Ol(a,b,c,d,f);Sh(a,"peerSession:end",this.ow,this);return this.sa[a.j()]=a};n.ow=function(a){this.h("onPeerSessionEnd");a=a.target.j();delete this.sa[a]};
n.yn=function(a){this.h("onMediaSessionEnd");a=a.target;mb(this.gi,a);this.bh===a&&(this.bh=null)};n.zn=function(){this.h("onMediaStateChange");Zm(this,this.Om,"incoming");Zm(this,this.Fn,"outgoing")};function Zm(a,b,c){b.length=0;z(a.gi,function(a){a.Mc()===c&&b.push(a)})}
n.Ej=function(a){this.h("getLocalStream","constraints",a);var b=this.L.I.get("mediaConstraints"),b=qi(a,b),c=gb(this.Bf,function(b){return b.eg&&a?Se(b.eg,a):!1}),d=gb(this.T,function(b){return b.stream.$h&&a?Se(b.stream.$h,a):!1});if(d)return++d.stream.If,c.De;if(c)return c.Jn=++c.Jn,c.De;c=a.video;if(a.audio||c)return 0===this.Vg&&$m(this),c=new G,hj(b,w(this.kx,this,c,a),w(this.jx,this,c,a)),this.Vg++,this.Bf.push({De:c,eg:a,Jn:0,stream:null}),c;this.error("BAD_PARAM","no media requested");return Ch("BAD_PARAM")};
n.removeStream=function(a){var b=gb(this.T,function(b){return b.stream===a}),c=gb(this.Bf,function(b){return b.stream===a});0===a.If?(b&&mb(this.T,b),c&&mb(this.Bf,c)):this.error("BUG","Trying to remove ref counted stream!")};n.kx=function(a,b,c){this.h("onUserMedia","mediaStream",c,"constraints",b);var d=B?new bj(c,!0,this,b):new Ti(c,!0,this,b);this.T.push({stream:d});an(this);z(this.Bf,function(a){if(a.eg&&b&&Se(a.eg,b)){for(var c=0;c<a.Jn;c++)++d.If;a.stream=d}});a.$(d)};
n.jx=function(a,b,c){this.h("onUserMediaFailure",c);an(this);(c=gb(this.Bf,function(a){return a.eg&&b?Se(a.eg,b):!1}))&&mb(this.Bf,c);a.ma(new M("GET_LOCAL_STREAM_FAILED"))};function an(a){a.Vg--;0===a.Vg&&(bn(a),a.dispatchEvent("change"))}n.Zr=da("Ix");
function cn(a,b){var c;try{c=new Audio}catch(d){return a.error("Browser does not support audio"),null}for(var f=null,g=0,h=[],k=[],g=0;g<b.length;g++){var m=b[g].split(".");if(m=a.Vs.get(m[m.length-1],null))m=c.canPlayType&&c.canPlayType(m),"probably"===m?k.push(b[g]):"maybe"===m&&h.push(b[g])}c=!1;h=ob(k,h);k=null;for(g=0;g<h.length;g++){k=h[g];try{f=new Audio(k);c=!0;break}catch(p){}}c?a.h("selected audio: ",k):a.error("No playable audio files available");return f}
function dn(a){return u(a)?a&&0!==a.length?[a]:null:ja(a)?a:null}n.io=function(a){if(a=dn(a))if(this.vd&&delete this.vd,this.vd=cn(this,a))this.vd.preload="auto",this.vd.loop="loop"};function Sl(a){a.h("startRinging");try{0===a.Or++&&a.vd&&a.vd.play()}catch(b){a.error(b,"Error starting ringtone")}}n.pi=function(a){a=a.target.Ke;if(!a.Ea()&&!a.Pc()){this.h("ding");try{this.Kd&&(this.Kd.load(),this.Kd.play())}catch(b){this.error(b,"Error playing ding")}}};
function $m(a){if(gj(a.L.mf().I,T.Gs))if(Ci||Gi)a.fh=!0,a.L.pb().mo();else if(Hi){var b=en(a.L.mf());a.ml=b.fc();b.addEventListener("resize",a.or,!1,a)}}function bn(a){en(a.L.mf()).removeEventListener("resize",a.or,!1,a);a.fh&&(a.fh=!1,a.L.pb().Oj())}n.or=function(a){a=a.target.fc();this.fh?Hc(a,this.ml)&&bn(this):a.width===this.ml.width&&a.height<this.ml.height&&(this.fh=!0,this.L.pb().mo())};function Yl(a,b,c,d,f){this.na=a||17;this.ad=void 0;null!=c&&(this.ad=c);this.Rd=1E3;null!=b&&1E3>b&&(this.Rd=b);this.Pf=void 0;null!=d&&(this.Pf=d);this.ii=void 0;null!=f&&(this.ii=f)}y(Yl,of);bf("query",Yl,["flags","seq","desc","limit","start"]);function Gm(a,b,c){return a.length===b?1===(c&1):"/"===a.charAt(b)&&(6===(c&6)||2===(c&2)&&a.lastIndexOf("/")===b)?!0:!1}Yl.prototype.hb=function(){return new Yl(this.na,this.Rd,this.ad,this.Pf,this.ii)};
Yl.prototype.Xl=function(a){return a.na===this.na&&a.ii===this.ii&&a.ad===this.ad&&a.Rd===this.Rd&&a.Pf===this.Pf};Yl.prototype.Fa=function(){return{flags:this.na,seq:this.ii,desc:this.ad,limit:this.Rd,start:this.Pf}};Yl.prototype.Kj=function(){return this.na&7};function fn(a,b,c,d){this.type=a;this.path=b;this.obj=c;this.rid=d||Qi(8)}y(fn,of);fn.prototype.Nc=e("sid");fn.prototype.oa=e("appId");fn.prototype.l=e("path");function gn(a){return a.obj||null}fn.prototype.Ea=function(){return Kk(this.l())};function hn(a,b,c,d){fn.call(this,b,c,d);this.Qo=a}y(hn,fn);bf("Request",hn);hn.prototype.Tl=null;hn.prototype.Xb=function(){return this.Qo||null};hn.prototype.Vr=da("Qo");hn.prototype.Ci=function(a){var b=this.Xb();b&&b.send(a.X(),a)};
function jn(a,b,c){b=new kn(a.X()+".resp",a.rid,a.l(),b,c);a.Ci(b)}function kn(a,b,c,d,f){fn.call(this,a,c,d,b);this.err=void 0;null!=f&&(this.err=f)}y(kn,fn);kn.prototype.getError=function(){return this.err||null};function ln(a,b,c,d,f,g){hn.call(this,a,"login",b);this.appId=c;this.authId=d;this.token=f;this.profile=g}y(ln,hn);bf("LoginReq",ln);ln.prototype.oa=e("appId");ln.prototype.sc=e("authId");ln.prototype.ab=e("token");ln.prototype.Hh=e("profile");
function mn(a,b,c){hn.call(this,a,"get",b);this.query=c}y(mn,hn);bf("GetReq",mn);mn.prototype.ne=e("query");function nn(a,b,c,d){b=new on(a.rid,a.l(),a.ne(),b,c,d);a.Ci(b)}function on(a,b,c,d,f,g){kn.call(this,"get.resp",a,b,d,g);f&&(this.res=f);c&&(this.query=c)}y(on,kn);bf("get_response",on);kn.prototype.ne=function(){return this.query||null};function pn(a,b,c,d){li.call(this,new K("session"),a.M());this.L=a;this.gh=b;this.Fc=c;this.Gr=d;this.ob=a.M();this.V=new Hm(this);this.zb=Qi();this.Ba=null;this.Sn={};this.Dg=null;this.Ub=0;this.bi=null;this.addEventListener("add:im",this.pi,!1,this);this.pa("get.resp",this.Jv);this.pa("put.resp",this.dr);this.pa("post.resp",this.dr);this.pa("publish.resp",this.Af);this.pa("delete.resp",this.Af);this.pa("login.resp",this.Af);this.pa("logout.resp",this.Af);this.pa("join.resp",this.Af);this.pa("leave.resp",
this.Af);this.pa("put",this.gr);this.pa("post",this.gr);this.pa("publish",this.zw);this.pa("delete",this.Aw);this.pa("login.err.resp",this.aw)}y(pn,li);Ve("session",pn);n=pn.prototype;n.ok=!1;n.toString=function(){return this.Qa()+"#"+this.j()};n.k=function(){this.ic();this.Ba&&(this.Ba.ja(),this.Ba=null);this.Dg&&(this.Dg.ja(),this.Dg=null);this.Gr=this.Fc=null;delete this.ob;delete this.V;pn.c.k.call(this)};n.ia=e("L");n.M=e("ob");n.j=e("zb");n.Qa=function(){return this.Ba?this.Ba.j():""};
n.yh=function(){return this.Pa().yh()||""};n.Ih=function(){return this.Pa().Ih()};n.Pa=function(){return this.gh.Pa()};n.Lt=e("Ba");n.Uk=function(a,b){this.Ba.Uk(a,b);return this};n.Og=function(a){this.Ba.Og(a);return this};n.qb=function(a){var b=Me(this.gh.sc(),a);if(!Ne(b))return Ch(new M("BAD_PARAM","Invalid personId: "+a));a=gi("/user",b);return this.get(a,"person").n(function(a){a=a.Ia;a.Cb(this);return a},this)};
function qn(a,b){var c=a.M().oa(),c=Me(c,b);if(!Ne(c))return Ch(new M("BAD_PARAM","Invalid groupId: "+b));c=gi("/group",c);return a.get(c,"group").n(function(a){a=a.Ia;a.Cb(this);return a},a)}n.Qp=function(a){var b=this.M().oa(),b=Me(b,a);if(!Ne(b))return Ch(new M("BAD_PARAM","Invalid roomId: "+a));a=gi("/room",b);return this.get(a,"room").n(function(a){a=a.Ia;a.Cb(this);return a},this)};
n.postMessage=function(a,b,c){this.h("postMessage","channelId",a,"message",b,"type",c);return this.qb(a).n(function(a){var f=a.postMessage(b,c);a.ja();return f},this)};n.Ek=function(a,b,c){this.h("publishMessage","channelId",a,"message",b,"type",c);return this.qb(a).n(function(a){var f=a.Ek(b,c);a.ja();return f},this)};n.Pe=function(a,b){this.h("startMedia","channelId",a,"constraints",b);return this.qb(a).n(function(a){var d=a.Pe(b);a.ja();return d},this)};
n.Qe=function(a){this.h("stopMedia","channelId",a);return this.qb(a).n(function(a){var c=a.A;c&&c.stop();a.ja()},this)};n.It=function(){var a=this.M().oa();return this.Jg(Ek(a),new Yl(34))};
n.ic=function(){if(!this.ok){this.ok=!0;this.bi=null;this.gh&&this.gh.ic();this.ok=!0;this.H.remove();var a=this.ob,b=this.Qa();b in a.Di&&(a.Sk--,delete a.Di[b],mb(a.$d,this),rn(a),a.Vh()||a.dispatchEvent("logout"));this.dispatchEvent("logout");this.dispatchEvent("remove:session");a=this.Ba.l();a=new hn(this.Fc,"logout",a);return sn(this,a,this).n(this.F,this)}return new G(this)};
function tn(a,b){a.h("login","credentials",b);if(null!=a.bi)return a.bi;var c=b.Hh(),d=new Xm(b.Ug,c.displayName,c.profileUrl,c.thumbnailUrl,Oi(),c.username);a.Ba=d.Ia;var f=c.presenceDesc;f&&S(d,"presenceDesc",f);(c=c.presenceState)&&a.Uk(c);c=new ln(a.Fc,d.l(),a.L.oa(),a.gh.sc(),b.hn,d.Fa());a.V.put(d.l(),d);un(a.ob,a);a.dispatchEvent("add:session");d=sn(a,c,a).Mb(function(){this.ic()},a);a.bi=Ah(d,vn(a)).n(hc(a));a.V.put(gi("/local/session",a.zb),a.H);a.Ca(!1);th(function(){this.Ca(!0)},a);a.dispatchEvent("login");
return a.bi}n.get=function(a,b){this.h("get","path",a,"type",b);var c=this.V.get(a);return c?new G(c.La()):this.Ob(a,new Yl).n(function(c){!c&&b&&(c=this.V.put(a,b));return c&&c.La()},this)};n.kt=function(){return this.qd("/room","room").n(function(a){a=a.Ia;a.La();a.Cb(this);return a},this)};n.Jg=function(a,b){this.h("query","path",a,"query",b);return this.Ob(a,b,new Cm(this.V,a,b))};
n.put=function(a,b){this.h("put","path",a,"val",b);var c=!(a&&this.V.contains(a)),d=this.V.put(a,b),f=null;if(c)f=d.Fa();else if(d.Ya&&!Nc(d.Ya)){var c={},g;for(g in d.Ya)3!==d.Ya[g]&&(f=d.get(g),c[g]=null!=f?f:null);f=c}if(f){for(var h in d.Ya)d.Ya[h]=3;d.La();return this.ge("put",d,d.l(),f)}return new G(d)};n.qd=function(a,b,c){this.h("post","path",a,"val",b);var d=Ze(b).La();c&&d.$b(gi(a,c));a=d.l()||a;return this.ge("post",d,a,d.Fa()).n(function(a){ni(d,a);d.vb();return this.V.put(d.l(),d)},this)};
n.Ra=function(a,b,c){this.h("publish","path",a,"val",b);b=Ze(b);b.l()||b.$b(gi(a,c));return this.ge("publish",b,b.l(),b.Fa())};n.Ax=function(a,b,c,d,f){return this.Ra(Ik(a,c,b),d,f)};n.call=function(a,b){return this.Ra("/service",b,a)};function wn(a,b){var c=a.Ra("/service",b,"authorize");c.n(function(a){a=nm(a);a=new xn(a);this.ob.dispatchEvent(a)},a);return c}n.join=function(a,b){var c=new hn(this.Fc,"join",a,b);return sn(this,c,this)};
n.Ag=function(a){a=new hn(this.Fc,"leave",a,{});return sn(this,a,this)};n.Nu=function(a){var b={};b.groupId=a;a=this.Ra("/service",b,"joinGroup");a.n(function(a){a=a.valueOf();this.Zc(a,!0);return qn(this,a.path.substr(a.path.lastIndexOf("/")+1))},this);return a};function yn(a,b){var c=Ek(a.L.oa()),c=a.qd(c,b);c.n(function(a){a=nm(a.valueOf());var b=this.M();b.h("loginWithCredentials","credentials",a);b=new zn(b.L,a.sc(),!0);An(b,a);return tn(b.r(),a)},a);return c}
n.remove=function(a){this.h("remove","path",a);var b=this.V.get(a);b&&b.Fg();return this.ge("delete",a,a)};n.Ob=function(a,b,c){return sn(this,new mn(this.Fc,a,b),c)};n.ge=function(a,b,c,d){a=new hn(this.Fc,a,c,d);return sn(this,a,b)};function sn(a,b,c){var d=new G;a.Sn[b.rid]={De:d,kl:c};a.Tc(b);return d}n.Tc=function(a){if(!Kk(a.l())){a.sid=this.zb;var b=this.L.oa();a.appId=b;this.h("send",a);this.Gr.send(a.X(),a)}};n.Zc=function(a,b){return this.V.put(Ye(a),a,b)};
n.Jv=function(a){var b=Bn(this,a),c=a.getError();if(c)b.De.ma(c);else{var d=gn(a),c=b.kl,f=[],g;z(a.res||null,function(a){f.push(this.Zc(a,!0))},this);if(d){g=this.Zc(d,!0);if(a=a.ne())g.na|=a.na;f.push(g)}c?(Dm(c,f),c.Ca(!0,!1),b.De.$(c)):b.De.$(g||null)}};n.dr=function(a){var b=a.l();if(b=this.V.get(b)){var c=gn(a);a.getError()||c&&ni(b,c);b.vb();var c=!1,d;for(d in b.Ya)3===b.Ya[d]?delete b.Ya[d]:c=!0;c&&mi(b)}this.Af(a)};
n.Af=function(a){var b=Bn(this,a),c=a.getError();c?("AUTH_FAILED"===c.X()&&this.ic(),b.De.ma(c)):(a=gn(a)||b.kl,b.kl instanceof U&&(a=b.kl),b.De.$(a))};n.gr=function(a){this.h("recv",a);var b=a.l(),c=gn(a);(b=this.V.get(b))?ni(b,c):this.V.put(a.l(),gn(a))};n.zw=function(a){this.h("recv",a);this.V.Ra(a.l(),gn(a))};n.Aw=function(a){this.h("recv",a);(a=this.V.get(a.l()))&&a.Fg()};n.aw=function(a){this.h("recv",a);this.ic()};n.pa=function(a,b){var c=w(b,this);this.Fc.Rk[a]={$:c,qn:!0}};
function Bn(a,b){a.h("recv",b);var c=b.rid,d=a.Sn[c];delete a.Sn[c];return d}function Cn(a){var b=a.Qa();return a.Jg("/user/"+b+"/msg",new Yl(34))}function Dn(a,b,c){return a.get(Ek(b,c))}function vn(a){return Cn(a).n(da("Dg"),a)}n.Eh=function(a,b,c){var d=Dk(this.Qa(),a);if(this.Dg){var f=$l(this,a);!f&&b&&(b={type:"mailbox"},b.iss=a,b.totalMessages=c,f=this.V.put(d,b));return f}return null};function $l(a,b){var c=Dk(a.Qa(),b);return a.Dg.get(c)||a.V.get(c)}n.pi=function(a){a.target.Ke.pi(a.target)};
function Ul(a,b){var c=a.Ub;a.Ub=t(b)?a.Ub+b:a.Ub+1;c!==a.Ub&&Oh(a,"totalUnreadCount",c,a.Ub)}n.nf=e("Ub");function En(a,b,c){lm.call(this,a,b,c);this.Gi=this.Yk=this.Cf=this.Hg=this.Wh=null;b?(b=a.split("."),this.Wh=a,this.Hg=null,this.Cf=b[1],this.Yk=null,2<b.length&&(this.Gi=b[2])):(this.Wh=null,this.Hg=a,this.Gi=this.Yk=this.Cf=null)}y(En,lm);Ve("JWS",En);function Fn(a){!a.Hg&&a.Cf&&(a.Hg=Ke(a.Cf));return a.Hg}
function Gn(a){if(!a.Wh){a.sf||(a.sf=Je(a.tf));var b=a.sf+".";a.Cf||(a.Cf=Je(a.Hg));b=b+a.Cf+".";if(!a.Gi){var c;if(a.Yk){c=a.Yk.Py();var d="",f,g=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,m=Ef(c),h=h.substr(0,62)+"-_";for(f=0;6*d.length<m;)d+=h.charAt((k^c[f]>>>g)>>>26),6>g?(k=c[f]<<6-g,g+=26,f++):(k<<=6,g-=6);c=d}else c="";a.Gi=c}a.Wh=b+a.Gi}return a.Wh};function Hn(a,b){Q.call(this,a.M());this.L=a;this.$f=a.oa();this.Ze=b;this.Pl=this.ca=null;this.Ca()}y(Hn,Q);Ve("authProvider",Hn);n=Hn.prototype;n.r=e("ca");function In(a,b,c){var d=Fn(new En(c,!0)),d=d&&d.sub;if(null==d)throw a.error(new M("BAD_PARAM","Required property 'sub' not found in token"));An(a,new mm(a.$f,a.Ze,d,c,b))}n.ic=function(){this.h("logout");this.Pl=this.ca=null};n.sc=e("Ze");n.oa=e("$f");n.Pa=e("Pl");
function An(a,b){a.Pl=b;a.ca=Jn(a.L,a);b.Nn=a;a.dispatchEvent("ready:credentials")};function Y(a){Q.call(this);this.L=a;this.Sf=a.Sf||(a.Sf=Kn(a));var b=this.jb=Mk(a);b.ob=this;b.Cb(this);this.addEventListener("add:im",b.pi,!1,b);if(!(b=a.eb)){var b="vline_"+a.oa(),c=new Ln;(c=c.Sm()?b?new Mn(c,b):c:null)||(b=new Nn(b||"UserDataSharedStore"),c=b.Sm()?b:null);b=c;b=a.eb=b?new km(b):null}this.eb=b;this.Ao=(a.vk||(a.vk=new Hm)).put("/local/transport","transport").La();Vh(this.Ao,this);this.Ca(!0);this.Di={};this.$d=[];this.Sk=0;this.nq=!1;this.L.I.get("autoConnect")&&this.dg()}
y(Y,Q);Ve("client",Y);n=Y.prototype;n.oa=function(){return this.L.oa()};n.ia=e("L");n.mf=function(){return this.ia().mf()};n.rm=function(){return pb(this.$d)};n.Ij=function(){return this.L.Ij()};n.kf=function(){if(0!=this.$d.length){var a=On(this);return a?a:this.$d[0]}return this.L.Ij()};n.Xj=function(){return!On(this)};function On(a){return gb(a.$d,function(a){return"anon"!==Oe(a.Ba.j())})}n.Ld=function(){return this.Ao.Ld()};n.ng=function(){return this.jb.ng()};n.Dj=function(){return this.jb.Dj()};
n.Hj=function(){return this.jb.Hj()};n.Aj=function(){return this.jb.Aj()};n.nf=function(){var a=0;Ic(this.$d,function(b){a+=b.nf()});return a};n.pu=function(){return!!this.ng().length};n.ou=function(){return!!this.Dj().length};n.ru=function(){return!!this.Hj().length};n.Gm=function(){return this.jb.Gm()};n.Hm=function(){return this.jb.Hm()};n.mu=function(){return!!this.Aj()};n.pb=function(){return this.L.pb()};n.ro=function(){this.jb.ro();return this};
function Pn(a,b){a.h("getCredentials","authId",b);var c=new G,d=new zn(a.L,b,!0),f=d.Pa();f?c.$(f):Uh(Uh(d,"ready:credentials",function(){c.$(d.Pa())},a),"error",function(a){c.ma(a.getError())});d.yf();a.Ca();return c}
n.yf=function(a,b,c){this.h("login","authId",a,"profile",b,"token",c);a&&"anon"!==a||(a="anon",c=Qn(this)||Qi(),c=Gn(new En({iss:"anon",sub:"anon:"+c,exp:parseInt((new Date).getTime()/1E3+864E6,10)},!1)),b||(b={displayName:"Remote User"}));var d=new zn(this.L,a,!0);return c?(In(d,b||null,c),tn(d.r(),d.Pa())):Pn(this,a).n(function(a){return tn(a.Nn.r(),a)})};
n.ic=function(){this.h("logout");var a=this.$d;this.$d=[];this.Di={};this.Sk=0;rn(this);var b=[];z(a,function(a){b.push(a.ic())});return Ah.apply(null,b)};n.Vh=function(){return!!this.Sk};n.vf=function(){return this.Ao.vf()};n.dg=function(){this.h("connect");this.Sf.send("connect",{});return this};n.disconnect=function(){this.h("disconnect");this.Sf.send("disconnect",{});return this};n.Mx=function(a){this.jb.Zr(a)};n.io=function(a){this.jb.io(a);return this};
n.Ox=function(a){var b=this.jb;if(a=dn(a))b.Kd&&delete b.Kd,b.Kd=cn(b,a),b.Kd&&(b.Kd.preload="auto")};function un(a,b){a.Sk++;a.Di[b.Qa()]=b;a.$d.push(b);rn(a)}function Rn(a){a.h("loadCredentials");var b=Sn(a);b&&b.length&&(a.h("credentials",b),z(b,function(a){try{var b=nm(a)}catch(f){this.error(f,"Error deserializing credentials");return}a=new zn(this.L,b.sc(),!0);An(a,b);tn(a.r(),b)},a),a.Ca())}
function Sn(a){if(!a.eb)return null;a.h("loadCredentials");var b=null;try{b=a.eb.get("credentials")}catch(c){a.error(c,"Error getting saved credentials")}return b}function Qn(a){a=Sn(a);var b=null;a&&a.length&&gb(a,function(a){try{var d;d=nm(a).Ug;return"anon"==Oe(d)?(b=Le(d),!0):!1}catch(f){return this.error(f,"Error deserializing credentials"),!1}});return b}
function rn(a){if(a.eb)try{var b=[];Ic(a.Di,function(a){b.push({type:"credentials",appId:a.Pa().oa(),authId:a.Pa().sc(),username:a.Pa().Ug,userToken:a.Pa().hn,oauthToken:a.Pa().yh(),appUrl:a.Pa().Wo,providerUrl:a.Pa().Ih(),email:a.Pa().Vl})});a.h("saveSessions",b);a.eb.set("credentials",b)}catch(c){a.error(c,"Error saving credentials")}}
n.Ej=function(a){a||(a={audio:!0,video:!0,hd:!1,loopback:void 0});var b=yj();(b=ti(b))&&(a.video=b.video);a=Mk(this.ia()).Ej(a);a.n(w(this.xn,this)).Mb(w(this.wn,this));return a};n.wn=function(){var a=new M("GET_LOCAL_STREAM_FAILED");this.error(a);return a};n.xn=function(a){this.h("onLocalStream_",a);var b=new Gh("client:addLocalStream",this,a);b.type="client:addLocalStream";this.dispatchEvent(b);return a};function xn(a,b){P.call(this,"recv:credentials",b);this.credentials=a}y(xn,P);
xn.prototype.Pa=e("credentials");function Tn(){}y(Tn,gm);Tn.prototype.ed=function(){var a=0;Nd(this.Dd(!0),function(){a++});return a};Tn.prototype.clear=function(){var a=Od(this.Dd(!0)),b=this;z(a,function(a){b.remove(a)})};function Un(a){this.eb=a}y(Un,Tn);n=Un.prototype;n.Sm=function(){if(!this.eb)return!1;try{return this.eb.setItem("__sak","1"),this.eb.removeItem("__sak"),!0}catch(a){return!1}};n.set=function(a,b){try{this.eb.setItem(a,b)}catch(c){if(0==this.eb.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};n.get=function(a){a=this.eb.getItem(a);if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};n.remove=function(a){this.eb.removeItem(a)};
n.ed=function(){return this.eb.length};n.Dd=function(a){var b=0,c=this.eb,d=new Ld;d.next=function(){if(b>=c.length)throw Kd;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};n.clear=function(){this.eb.clear()};n.key=function(a){return this.eb.key(a)};function Ln(){var a=null;try{a=window.localStorage||null}catch(b){}this.eb=a}y(Ln,Un);function Nn(a,b){if(A&&!Rb(9)){Vn||(Vn=new Pd);this.Tb=Vn.get(a);this.Tb||(b?this.Tb=document.getElementById(b):(this.Tb=document.createElement("userdata"),this.Tb.addBehavior("#default#userData"),document.body.appendChild(this.Tb)),Vn.set(a,this.Tb));this.vo=a;try{this.Tb.load(this.vo)}catch(c){this.Tb=null}}}y(Nn,Tn);var Wn={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},Vn=null;n=Nn.prototype;n.Tb=null;n.vo=null;
function Xn(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return Wn[a]})}n.Sm=function(){return!!this.Tb};n.set=function(a,b){this.Tb.setAttribute(Xn(a),b);Yn(this)};n.get=function(a){a=this.Tb.getAttribute(Xn(a));if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};n.remove=function(a){this.Tb.removeAttribute(Xn(a));Yn(this)};n.ed=function(){return this.Gh().attributes.length};
n.Dd=function(a){var b=0,c=this.Gh().attributes,d=new Ld;d.next=function(){if(b>=c.length)throw Kd;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};n.clear=function(){for(var a=this.Gh(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);Yn(this)};function Yn(a){try{a.Tb.save(a.vo)}catch(b){throw"Storage mechanism: Quota exceeded";}}n.Gh=function(){return this.Tb.XMLDocument.documentElement};function Mn(a,b){this.Eg=a;this.yc=b+"::"}y(Mn,Tn);n=Mn.prototype;n.Eg=null;n.yc="";n.set=function(a,b){this.Eg.set(this.yc+a,b)};n.get=function(a){return this.Eg.get(this.yc+a)};n.remove=function(a){this.Eg.remove(this.yc+a)};n.Dd=function(a){var b=this.Eg.Dd(!0),c=this,d=new Ld;d.next=function(){for(var d=b.next();d.substr(0,c.yc.length)!=c.yc;)d=b.next();return a?d.substr(c.yc.length):c.Eg.get(d)};return d};var Zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function $n(a){if(ao){ao=!1;var b=q.location;if(b){var c=b.href;if(c&&(c=(c=$n(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw ao=!0,Error();}}return a.match(Zn)}var ao=C;function bo(a,b){var c;a instanceof bo?(this.uc=t(b)?b:a.uc,co(this,a.wd),eo(this,a.Ui),fo(this,a.gf),this.Fi(a.pd),this.$b(a.l()),go(this,a.zc.hb()),ho(this,a.Wb)):a&&(c=$n(String(a)))?(this.uc=!!b,co(this,c[1]||"",!0),eo(this,c[2]||"",!0),fo(this,c[3]||"",!0),this.Fi(c[4]),this.$b(c[5]||"",!0),go(this,c[6]||"",!0),ho(this,c[7]||"",!0)):(this.uc=!!b,this.zc=new io(null,0,this.uc))}n=bo.prototype;n.wd="";n.Ui="";n.gf="";n.pd=null;n.Sc="";n.Wb="";n.Hu=!1;n.uc=!1;
n.toString=function(){var a=[],b=this.wd;b&&a.push(jo(b,ko),":");if(b=this.gf){a.push("//");var c=this.Ui;c&&a.push(jo(c,ko),"@");a.push(encodeURIComponent(String(b)));b=this.pd;null!=b&&a.push(":",String(b))}if(b=this.l())this.gf&&"/"!=b.charAt(0)&&a.push("/"),a.push(jo(b,"/"==b.charAt(0)?lo:mo));(b=this.zc.toString())&&a.push("?",b);(b=this.Wb)&&a.push("#",jo(b,no));return a.join("")};
function oo(a,b){var c=a.hb(),d=!!b.wd;d?co(c,b.wd):d=!!b.Ui;d?eo(c,b.Ui):d=!!b.gf;d?fo(c,b.gf):d=null!=b.pd;var f=b.l();if(d)c.Fi(b.pd);else if(d=!!b.Sc){if("/"!=f.charAt(0))if(a.gf&&!a.Sc)f="/"+f;else{var g=c.l().lastIndexOf("/");-1!=g&&(f=c.l().substr(0,g+1)+f)}g=f;if(".."==g||"."==g)f="";else if(-1!=g.indexOf("./")||-1!=g.indexOf("/.")){for(var f=xa(g,"/"),g=g.split("/"),h=[],k=0;k<g.length;){var m=g[k++];"."==m?f&&k==g.length&&h.push(""):".."==m?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
f&&k==g.length&&h.push("")):(h.push(m),f=!0)}f=h.join("/")}else f=g}d?c.$b(f):d=""!==b.zc.toString();d?go(c,b.zc.toString()?decodeURIComponent(b.zc.toString()):""):d=!!b.Wb;d&&ho(c,b.Wb);return c}n.hb=function(){return new bo(this)};function co(a,b,c){po(a);a.wd=c?b?decodeURIComponent(b):"":b;a.wd&&(a.wd=a.wd.replace(/:$/,""))}function eo(a,b,c){po(a);a.Ui=c?b?decodeURIComponent(b):"":b}function fo(a,b,c){po(a);a.gf=c?b?decodeURIComponent(b):"":b}
n.Fi=function(a){po(this);if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.pd=a}else this.pd=null;return this};n.l=e("Sc");n.$b=function(a,b){po(this);this.Sc=b?a?decodeURIComponent(a):"":a;return this};function go(a,b,c){po(a);b instanceof io?(a.zc=b,a.zc.bo(a.uc)):(c||(b=jo(b,qo)),a.zc=new io(b,0,a.uc))}n.ne=function(){return this.zc.toString()};function ro(a,b,c){po(a);ja(c)||(c=[String(c)]);so(a.zc,b,c)}function ho(a,b,c){po(a);a.Wb=c?b?decodeURIComponent(b):"":b}
function po(a){if(a.Hu)throw Error("Tried to modify a read-only Uri");}n.bo=function(a){this.uc=a;this.zc&&this.zc.bo(a);return this};function to(a){return a instanceof bo?a.hb():new bo(a,void 0)}function uo(a,b){a instanceof bo||(a=to(a));b instanceof bo||(b=to(b));return oo(a,b)}function jo(a,b){return u(a)?encodeURI(a).replace(b,vo):null}function vo(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ko=/[#\/\?@]/g,mo=/[\#\?:]/g,lo=/[\#\?]/g,qo=/[\#\?@]/g,no=/#/g;
function io(a,b,c){this.cc=a||null;this.uc=!!c}function wo(a){if(!a.Ka&&(a.Ka=new Pd,a.O=0,a.cc))for(var b=a.cc.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),f=null,g=null;0<=d?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=Fa(f);f=xo(a,f);a.add(f,g?Fa(g):"")}}n=io.prototype;n.Ka=null;n.O=null;n.ed=function(){wo(this);return this.O};n.add=function(a,b){wo(this);this.cc=null;a=xo(this,a);var c=this.Ka.get(a);c||this.Ka.set(a,c=[]);c.push(b);this.O++;return this};
n.remove=function(a){wo(this);a=xo(this,a);return this.Ka.Jd(a)?(this.cc=null,this.O-=this.Ka.get(a).length,this.Ka.remove(a)):!1};n.clear=function(){this.Ka=this.cc=null;this.O=0};n.Jd=function(a){wo(this);a=xo(this,a);return this.Ka.Jd(a)};n.me=function(){wo(this);for(var a=this.Ka.bb(),b=this.Ka.me(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
n.bb=function(a){wo(this);var b=[];if(a)this.Jd(a)&&(b=ob(b,this.Ka.get(xo(this,a))));else{a=this.Ka.bb();for(var c=0;c<a.length;c++)b=ob(b,a[c])}return b};n.set=function(a,b){wo(this);this.cc=null;a=xo(this,a);this.Jd(a)&&(this.O-=this.Ka.get(a).length);this.Ka.set(a,[b]);this.O++;return this};n.get=function(a,b){var c=a?this.bb(a):[];return 0<c.length?String(c[0]):b};function so(a,b,c){a.remove(b);0<c.length&&(a.cc=null,a.Ka.set(xo(a,b),pb(c)),a.O+=c.length)}
n.toString=function(){if(this.cc)return this.cc;if(!this.Ka)return"";for(var a=[],b=this.Ka.me(),c=0;c<b.length;c++)for(var d=b[c],f=encodeURIComponent(String(d)),d=this.bb(d),g=0;g<d.length;g++){var h=f;""!==d[g]&&(h+="\x3d"+encodeURIComponent(String(d[g])));a.push(h)}return this.cc=a.join("\x26")};n.hb=function(){var a=new io;a.cc=this.cc;this.Ka&&(a.Ka=this.Ka.hb(),a.O=this.O);return a};function xo(a,b){var c=String(b);a.uc&&(c=c.toLowerCase());return c}
n.bo=function(a){a&&!this.uc&&(wo(this),this.cc=null,Jd(this.Ka,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),so(this,d,a))},this));this.uc=a};function yo(a,b){Lg.call(this,"navigate");this.Se=a;this.Eu=b}y(yo,Lg);function zo(a,b){O.call(this);this.W=a||window;this.gl=b||null;$g(this.W,"popstate",this.oi,!1,this);$g(this.W,"hashchange",this.oi,!1,this)}y(zo,O);function Ao(){var a=window;return!(!a.history||!a.history.pushState)}n=zo.prototype;n.xa=!1;n.Ti=!0;n.Gg="/";n.Ga=function(a){a!=this.xa&&(this.xa=a)&&this.dispatchEvent(new yo(this.ab(),!1))};n.ab=function(){if(this.Ti){var a=this.W.location.href,b=a.indexOf("#");return 0>b?"":a.substring(b+1)}return this.gl?this.gl.iz(this.Gg,this.W.location):this.W.location.pathname.substr(this.Gg.length)};
n.bs=function(a,b){a!=this.ab()&&(this.W.history.pushState(null,b||this.W.document.title||"",Bo(this,a)),this.dispatchEvent(new yo(a,!1)))};n.Rn=function(a,b){this.W.history.replaceState(null,b||this.W.document.title||"",Bo(this,a));this.dispatchEvent(new yo(a,!1))};n.k=function(){fh(this.W,"popstate",this.oi,!1,this);this.Ti&&fh(this.W,"hashchange",this.oi,!1,this)};n.og=e("Gg");function Bo(a,b){return a.Ti?"#"+b:a.gl?a.gl.Dy(b,a.Gg,a.W.location):a.Gg+b+a.W.location.search}
n.oi=function(){this.xa&&this.dispatchEvent(new yo(this.ab(),!0))};function zn(a,b,c){Hn.call(this,a,b);if(this.Uj="undefined"===typeof c?!0:c)if(b=Co(this),b.Jd("authToken")){a=b.get("authToken");b.remove("authToken");b=b.toString();try{var d=Ke(a,!1),f=ac(d),g=nm(f);this.Ze=g.sc();An(this,g)}catch(h){this.error(h,"Unable to parse auth credentials")}d=window.location.pathname;b&&(d=d+"?"+b);Ao()&&window.history.replaceState(null,"",d)}}y(zn,Hn);Ve("queryParamProvider",zn);
zn.prototype.yf=function(){if(this.sc()===this.oa()){var a=new G;a.n(function(a){"managed"===a?(Uh(this.L.M(),"recv:credentials",function(a){(a=a.Pa())?An(this,a):this.dispatchEvent(new Jh(new M("cancel")))},this),this.L.pb().Vc(new Lg(Do))):this.Uj&&!Co(this).Jd("authToken")&&(window.location.href=ej(this.L.I)+"/v1/auth/"+this.$f+"/"+this.Ze)},this).Mb(function(a){this.dispatchEvent(new Jh(a))},this);this.L.M().Ij().call("getAuthType",{}).n(function(b){(b=b.authType)?a.$(b):a.ma("NOT_FOUND")}).Mb(function(){a.ma(new M("AUTH_FAILED",
"AUTH_FAILED"in L?L.AUTH_FAILED(void 0):"AUTH_FAILED"))},this)}else this.Uj&&!Co(this).Jd("authToken")&&(window.location.href=ej(this.L.I)+"/v1/auth/"+this.$f+"/"+this.Ze)};function Co(a){a=a.Uj?window.location.search:"";xa(a,"?")&&(a=a.slice(1));return new io(a)};function Eo(a,b){a&&F(a,b,void 0)};function Fo(){zg.call(this);this.Rk={}}y(Fo,zg);Fo.prototype.gn=oe("goog.messaging.AbstractChannel");Fo.prototype.dg=function(a){a&&a()};Fo.prototype.vf=l(!0);
function Go(a,b,c){var d;d=a.Rk[b];d||(a.vp?d={$:ta(a.vp,b),qn:na(c)}:((d=a.gn)&&d.log(de,'Unknown service name "'+b+'"',void 0),d=null));if(d){var f;a:{var g=d.qn;if(g&&u(c))try{f=ac(c);break a}catch(h){(a=a.gn)&&a.log(de,"Expected JSON payload for "+b+', was "'+c+'"',void 0);f=null;break a}else if(!g&&!u(c)){f=bc(c);break a}f=c}null!=f&&d.$(f)}}Fo.prototype.k=function(){Fo.c.k.call(this);delete this.gn;delete this.Rk;delete this.vp};function Ho(){Fo.call(this)}y(Ho,Fo);Ho.prototype.G=null;Ve("MessageChannel",Ho);Ho.prototype.send=function(a,b){Go(this,a,b)};function Io(a,b){this.fy=new bo(a);this.bt=b?b:"callback";this.Qf=5E3}var Jo=0;Io.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(Jo++).toString(36)+ua().toString(36);q._callbacks_||(q._callbacks_={});var f=this.fy.hb();if(a)for(var g in a)a.hasOwnProperty&&!a.hasOwnProperty(g)||ro(f,g,a[g]);b&&(q._callbacks_[d]=Ko(d,b),ro(f,this.bt,"_callbacks_."+d));b=Ad(f.toString(),{timeout:this.Qf,ft:!0});b.vl(Lo(d,a,c));return{zb:d,Tl:b}};
Io.prototype.cancel=function(a){a&&(a.Tl&&a.Tl.cancel(),a.zb&&Mo(a.zb,!1))};function Lo(a,b,c){return function(){Mo(a,!1);c&&c(b)}}function Ko(a,b){return function(c){Mo(a,!0);b.apply(void 0,arguments)}}function Mo(a,b){q._callbacks_[a]&&(b?delete q._callbacks_[a]:q._callbacks_[a]=ga)};function No(){}No.prototype.$o=null;function Oo(a){var b;(b=a.$o)||(b={},Po(a)&&(b[0]=!0,b[1]=!0),b=a.$o=b);return b};var Qo;function Ro(){}y(Ro,No);function So(a){return(a=Po(a))?new ActiveXObject(a):new XMLHttpRequest}function Po(a){if(!a.iq&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.iq=d}catch(f){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.iq}Qo=new Ro;function To(a){O.call(this);this.headers=new Pd;this.pl=a||null;this.Vb=!1;this.nl=this.ea=null;this.xq=this.gk="";this.Xh=0;this.we="";this.uf=this.Mm=this.Vj=this.Yl=!1;this.Pi=0;this.al=null;this.Lr=Uo;this.jl=this.ky=!1}y(To,O);var Uo="";To.prototype.G=oe("goog.net.XhrIo");var Vo=/^https?$/i,Wo=["POST","PUT"],Xo=[];function Yo(a,b,c,d){var f=new To;Xo.push(f);b&&f.g("complete",b);f.jk("ready",f.et);f.send(a,"POST",c,d)}n=To.prototype;n.et=function(){this.F();mb(Xo,this)};
n.send=function(a,b,c,d){if(this.ea)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.gk+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.gk=a;this.we="";this.Xh=0;this.xq=b;this.Yl=!1;this.Vb=!0;this.ea=this.pl?So(this.pl):So(Qo);this.nl=this.pl?Oo(this.pl):Oo(Qo);this.ea.onreadystatechange=w(this.er,this);try{Eo(this.G,Zo(this,"Opening Xhr")),this.Mm=!0,this.ea.open(b,a,!0),this.Mm=!1}catch(f){Eo(this.G,Zo(this,"Error opening Xhr: "+f.message));$o(this,f);return}a=c||
"";var g=this.headers.hb();d&&Jd(d,function(a,b){g.set(b,a)});d=gb(g.me(),ap);c=q.FormData&&a instanceof q.FormData;!ib(Wo,b)||(d||c)||g.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");Jd(g,function(a,b){this.ea.setRequestHeader(b,a)},this);this.Lr&&(this.ea.responseType=this.Lr);"withCredentials"in this.ea&&(this.ea.withCredentials=this.ky);try{bp(this),0<this.Pi&&(this.jl=A&&D(9)&&la(this.ea.timeout)&&t(this.ea.ontimeout),Eo(this.G,Zo(this,"Will abort after "+this.Pi+"ms if incomplete, xhr2 "+
this.jl)),this.jl?(this.ea.timeout=this.Pi,this.ea.ontimeout=w(this.Qf,this)):this.al=H(this.Qf,this.Pi,this)),Eo(this.G,Zo(this,"Sending request")),this.Vj=!0,this.ea.send(a),this.Vj=!1}catch(h){Eo(this.G,Zo(this,"Send error: "+h.message)),$o(this,h)}};function ap(a){return"content-type"==a.toLowerCase()}n.Qf=function(){"undefined"!=typeof ea&&this.ea&&(this.we="Timed out after "+this.Pi+"ms, aborting",this.Xh=8,Eo(this.G,Zo(this,this.we)),this.dispatchEvent("timeout"),this.abort(8))};
function $o(a,b){a.Vb=!1;a.ea&&(a.uf=!0,a.ea.abort(),a.uf=!1);a.we=b;a.Xh=5;cp(a);dp(a)}function cp(a){a.Yl||(a.Yl=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}n.abort=function(a){this.ea&&this.Vb&&(Eo(this.G,Zo(this,"Aborting")),this.Vb=!1,this.uf=!0,this.ea.abort(),this.uf=!1,this.Xh=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dp(this))};n.k=function(){this.ea&&(this.Vb&&(this.Vb=!1,this.uf=!0,this.ea.abort(),this.uf=!1),dp(this,!0));To.c.k.call(this)};
n.er=function(){this.Ic||(this.Mm||this.Vj||this.uf?ep(this):this.vw())};n.vw=function(){ep(this)};
function ep(a){if(a.Vb&&"undefined"!=typeof ea)if(a.nl[1]&&4==fp(a)&&2==a.oe())Eo(a.G,Zo(a,"Local request error detected and ignored"));else if(a.Vj&&4==fp(a))H(a.er,0,a);else if(a.dispatchEvent("readystatechange"),4==fp(a)){Eo(a.G,Zo(a,"Request complete"));a.Vb=!1;try{if(gp(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Xh=6;var b;try{b=2<fp(a)?a.ea.statusText:""}catch(c){Eo(a.G,"Can not get status: "+c.message),b=""}a.we=b+" ["+a.oe()+"]";cp(a)}}finally{dp(a)}}}
function dp(a,b){if(a.ea){bp(a);var c=a.ea,d=a.nl[0]?ga:null;a.ea=null;a.nl=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){(c=a.G)&&c.log(ce,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function bp(a){a.ea&&a.jl&&(a.ea.ontimeout=null);la(a.al)&&(sh(a.al),a.al=null)}n.Pc=function(){return!!this.ea};
function gp(a){var b=a.oe(),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=$n(String(a.gk))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Vo.test(a?a.toLowerCase():"");c=b}return c}function fp(a){return a.ea?a.ea.readyState:0}n.oe=function(){try{return 2<fp(this)?this.ea.status:-1}catch(a){var b=this.G;b&&b.log(de,"Can not get status: "+a.message,void 0);return-1}};
function hp(a){if(a.ea)return ac(a.ea.responseText)}function Zo(a,b){return b+" ["+a.xq+" "+a.gk+" "+a.oe()+"]"};x("setDeobfuscateFunctionName",ba());function ip(){K.call(this,"transport","/local/transport");jp(this,"disconnected");this.Cd=1}y(ip,K);gf("transport",ip);ip.prototype.Ld=function(){return this.get("connectionState")};function jp(a,b){S(a,"connectionState",b)}ip.prototype.vf=function(){return"connected"===this.Ld()};ip.prototype.Tm=function(){return"connecting"===this.Ld()};function kp(a){this.gb={};this.O=0;if(a){for(var b=Id(a),c=Hd(a),d=0;d<b.length;d++)this.set(b[d],c[d]);this.O=a.ed()}}n=kp.prototype;n.ub=void 0;n.set=function(a,b){lp(this,a,b,!1)};n.add=function(a,b){lp(this,a,b,!0)};function lp(a,b,c,d){for(var f=a,g=0;g<b.length;g++){var h=b.charAt(g);f.gb[h]||(f.gb[h]=new kp);f=f.gb[h]}if(d&&void 0!==f.ub)throw Error('The collection already contains the key "'+b+'"');f.ub=c;d&&a.O++}
n.get=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.gb[d])return;b=b.gb[d]}return b.ub};function mp(a,b){var c=a,d={},f=0;void 0!==c.ub&&(d[f]=c.ub);for(;f<b.length;f++){var g=b.charAt(f);if(!(g in c.gb))break;c=c.gb[g];void 0!==c.ub&&(d[f]=c.ub)}return d}n.bb=function(){var a=[];np(this,a);return a};function np(a,b){void 0!==a.ub&&b.push(a.ub);for(var c in a.gb)np(a.gb[c],b)}
n.me=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.gb[f])return[];c=c.gb[f]}op(c,a,b)}else op(this,"",b);return b};function op(a,b,c){void 0!==a.ub&&c.push(b);for(var d in a.gb)op(a.gb[d],b+d,c)}n.Jd=function(a){return void 0!==this.get(a)};n.clear=function(){this.gb={};this.ub=void 0;this.O=0};
n.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.gb[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.gb[f]}a=b.ub;delete b.ub;for(this.O--;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],Nc(b.gb[f].gb))if(b.ub)break;else delete b.gb[f];else break;return a};n.hb=function(){return new kp(this)};n.ed=e("O");function pp(a,b,c){li.call(this,a.put("/local/transport","transport"));this.ci={};this.Mk={};this.Wc=new kp;this.Ig=[];this.V=a;this.Fc=b;this.I=c;this.kz=this.jj=0;this.pa("connect",this.sv);this.pa("disconnect",this.yv);this.pa("login",this.bw);this.pa("logout",this.cw);this.pa("get",this.Kv);this.pa("unsubscribe",this.gx);this.pa("put",this.Bn);this.pa("post",this.qw);this.pa("publish",this.tw);this.pa("delete",this.Fg);this.pa("join",this.Yv);this.pa("leave",this.vn)}y(pp,li);n=pp.prototype;
n.Q=e("H");n.G=Ie("vline.Transport");function qp(a,b,c,d,f){if(b=rp(a,b)){var g=a.Wc.get(b.l());g&&(g.response=!0);var h=0,k;c&&(k=c.seq)&&(h=k);d&&z(d,function(a){(k=a.seq)&&k>h&&(h=k)});h&&sp(a,g,h);nn(b,c,d,f)}else c&&tp(a,"put",Ye(c),c),d&&z(d,function(a){tp(this,"put",Ye(a),a)},a)}n.Ci=function(a,b,c){(a=rp(this,a))&&jn(a,b,c)};
n.jc=function(a){pp.c.jc.call(this,a);Ic(this.ci,function(a,c){if(this.ci.hasOwnProperty(c)){var d={};a.Hh().webrtcEnabled&&(d.webrtcEnabled=!0);var d=new ln(null,a.l(),a.oa(),a.sc(),a.ab(),d),f=a.Nc();d.sid=f;this.yf(d)}},this);Ic(this.Mk,function(a,c){if(this.Mk.hasOwnProperty(c)){var d=this.Mk[c];z(d,function(a){"join"===a.l()&&(a=new hn(null,a.X(),a.l(),gn(a)),this.join(a))},this);d&&delete this.Mk[c]}},this);z(this.Wc.bb(),function(a){if(a.response){var c=new mn(null,a.path,new Yl(a.je|(a.je&
7)<<4,void 0,void 0,void 0,a.ek||void 0));c.sid=a.Lx;this.h("reSubscribe",c);up(this,c,!0)}},this);a=this.Ig;this.Ig=[];z(a,function(a){try{Go(this.Fc,a.X(),a)}catch(c){this.error(c)}},this)};function vp(a,b){a.h(a.Bb?"request":"queue",b);a.Ig.push(b);return a.Bb}function rp(a,b){a.h("response","rid",b);var c=null,d=hb(a.Ig,function(a){return a.rid===b});0<=d&&(c=a.Ig[d],nb(a.Ig,d));return c}
function tp(a,b,c,d){var f,g=new hn(null,b,c,d);d&&(f=d.seq);var h=[];Ic(mp(a.Wc,c),function(a,b){Gm(c,Number(b)+1,a.je)&&wp(this,h,a,f)},a);z(h,function(a){a.send(g.X(),g)})}function wp(a,b,c,d){d&&sp(a,c,d);z(c.fj,function(a){lb(b,a)})}function sp(a,b,c){!c||b.an&&c<=b.an||(b.ek=b.an=c,a.h("updateLastSeq_","path",b.path,"seq",b.ek))}
function xp(a,b,c,d){a.h("addSubscription","session",d.Nc(),"path",b);if(1E3<=a.Wc.ed())throw a.error("SUBSCRIPTION_LIMIT_EXCEEDED");var f=a.Wc.get(b);f?((f.je&c)!==c&&(f.je|=c,f.ek=null),lb(f.fj,d.Xb())):(f={response:!1,path:b,Lx:d.Nc(),je:c,ek:null,an:null,fj:[d.Xb()]},a.Wc.add(b,f))}n.Kj=function(a,b,c){var d=0,f=mp(this.Wc,a),g=a.length;b&6?a+="/*/*":b&2&&(a+="/*");Ic(f,function(b,f){var m=Number(f)+1;c&&m===g||Gm(a,m,b.je)&&(d|=b.je)},this);b&=~d;b&6&&(b|=2);return b};
function yp(a,b,c){a.h("removeSubscription","session",c.Nc(),"path",b.path);mb(b.fj,c.Xb());return 0===b.fj.length?(a.Wc.remove(b.path),!0):!1}n.bw=function(a){xp(this,a.l(),1,a);xp(this,a.l()+"/msg",6,a);xp(this,a.l()+"/sessions",6,a);vp(this,a)&&this.yf(a)};n.cw=function(a){z(this.Wc.bb(),function(b){yp(this,b,a)},this);if(vp(this,a)){var b=a.Nc();delete this.ci[b];ei(this.Q(),t(void 0)?NaN:-1,void 0);this.Bb&&this.ic(a)}};
n.Yv=function(a){var b=Jk(a.l())+"/participant";xp(this,b,6,a);vp(this,a)&&this.join(a)};n.vn=function(a){var b=Jk(a.l())+"/participant";(b=this.Wc.get(b))&&yp(this,b,a);vp(this,a)&&this.Bb&&this.Ag(a)};n.Kv=function(a){vp(this,a)&&up(this,a)};function up(a,b,c){var d=b.ne();if(d.na&7){var d=d.hb(),f=a.Kj(b.l(),d.Kj(),c);c||xp(a,b.l(),d.Kj(),b);d.na=d.na&-8|f}c&&!f||a.get(b,d)}
n.gx=function(a){var b=this.Wc.get(a.l());b&&yp(this,b,a)&&this.Bb&&(a={op:zp(a),subscription:a.l()},this.Na.publish("/meta/unsubscribe",null,a))};n.Bn=function(a){vp(this,a)&&this.put(a)};n.qw=function(a){vp(this,a)&&this.qd(a)};n.tw=function(a){vp(this,a)&&this.Ra(a)};n.Fg=function(a){vp(this,a)&&this.remove(a)};n.Wq=function(){this.h("onConnecting");jp(this.Q(),"connecting");this.dg()};n.mi=function(){this.h("onDisconnected");jp(this.Q(),"disconnected");this.Ca(!1)};
function Ap(a){a.h("onDisconnecting");jp(a.Q(),"disconnecting");a.disconnect()}n.sv=function(){this.h("onConnect","connectCount",this.jj);0===this.jj++&&this.Wq()};n.yv=function(){this.h("onDisconnect","connectCount",this.jj);0===--this.jj&&Ap(this)};n.pa=function(a,b){var c=w(b,this);this.Fc.Rk[a]={$:c,qn:!0}};function Bp(){O.call(this);this.P=new Hh(this);Ig&&(Jg?this.P.g(Kg?document.body:window,["online","offline"],this.Yp):(this.pr=this.wg(),this.da=new qh(Cp),this.P.g(this.da,rh,this.ku),this.da.start()))}y(Bp,O);var Cp=250;Bp.prototype.wg=function(){return Ig?navigator.onLine:!0};Bp.prototype.ku=function(){var a=this.wg();a!=this.pr&&(this.pr=a,this.Yp())};Bp.prototype.Yp=function(){var a=this.wg()?"online":"offline";this.dispatchEvent(a)};
Bp.prototype.k=function(){Bp.c.k.call(this);this.P.F();this.P=null;this.da&&(this.da.F(),this.da=null)};function Dp(a,b,c){pp.call(this,a,b,c);this.Rl=null;this.dz=navigator.onLine?"online":"offline";this.tk=!1;this.pn=0;this.Qq=1E3;this.Lq=3E4;this.Wu=6E4;this.Zy=12E4;this.sn=null;Kg?null!=document.body?this.ln():eh(window,"load",this.ln,!1,this):this.ln();org.cometd.JSON.toJSON=bc;org.cometd.JSON.fromJSON=ac;this.Na=new org.cometd.Cometd;this.Gk=0;org.cometd.WebSocket&&(this.Na.websocketEnabled=!0,this.Na.registerTransport("websocket",new org.cometd.WebSocketTransport,0));this.Na.registerTransport("long-polling",
new Ep);this.Na.registerTransport("callback-polling",new Fp);this.Na.registerExtension("ackExt",new org.cometd.AckExtension);this.Na.registerExtension("timesync",new org.cometd.TimeSyncExtension);this.yo=this.Na.getExtension("timesync");this.Na.addListener("/meta/disconnect",w(this.ot,this));this.Na.addListener("/meta/connect",w(this.Yu,this));this.Na.addListener("/meta/subscribe",w(this.ay,this));this.Na.addListener("/meta/publish",w(this.Gx,this));this.Na.addListener("/meta/unsuccessful",w(this.ey,
this));this.Na.addListener("/**",w(this.$x,this))}y(Dp,pp);Ve("cometdTransport",Dp);function Ep(){var a=new org.cometd.LongPollingTransport,a=org.cometd.Transport.derive(a);a.xhrSend=function(a){var c=a.headers;c["Content-Type"]="application/json;charset\x3dUTF-8";Yo(a.url,function(c){c=c.target;if(gp(c))a.onSuccess(hp(c));else a.onError(u(c.we)?c.we:String(c.we))},a.body,c)};return a}
function Fp(){var a=new org.cometd.CallbackPollingTransport,a=org.cometd.Transport.derive(a);a.jsonpSend=function(a){(new Io(a.url,"jsonp")).send({message:a.body},function(c){a.onSuccess(c)},function(){a.onError("unknown JSONP error")})};return a}n=Dp.prototype;n.re=ba();n.ln=function(){this.sn=new Bp;$g(this.sn,["online","offline"],w(this.bv,this))};function Gp(a){if(a.tk){if(5E3>(new Date).getTime()-a.pn)return a.Qq;a.tk=!1;a.pn=0}return a.Lq+Math.floor(Math.random()*(a.Wu-a.Lq))}
n.yf=function(a){var b=zp(a),c={};c.appId=a.oa();c.authId=a.sc();c.token=a.ab();c.profile=a.Hh();this.kc("/service/login",c,b)};n.ic=function(a){a=zp(a);this.kc("/service/logout",{},a)};n.get=function(a,b){var c=zp(a);if(a.ne()){var d=hf(b);Sc(c,d)}this.kc("/service/get",{},c)};n.put=function(a){var b=zp(a),c=gn(a);null!=c?this.kc("/service/put",c,b):this.G.log(de,"Put with null data: "+a,void 0)};
n.Ra=function(a){var b=zp(a),c=gn(a);null!=c?(a=a.l(),this.kc(xa(a,"/service/")?a:"/service/publish",c,b)):this.G.log(de,"Publish with null data: "+a,void 0)};n.qd=function(a){var b=zp(a),c=gn(a);null!=c?this.kc("/service/post",c,b):this.G.log(de,"Post with null data: "+a,void 0)};n.remove=function(a){a=zp(a);this.kc("/service/delete",null,a)};n.join=function(a){var b=zp(a);this.kc("/service/join",gn(a),b)};n.Ag=function(a){a=zp(a);this.kc("/service/leave",{},a)};
function zp(a){var b={};b.sid=a.Nc();b.appId=a.oa();b.rid=a.rid;b.path=a.l();b.type=a.X();return b}n.kc=function(a,b,c){this.h("publish","channel",a,"payload",b,"op",c);this.Na.publish(a,b,{op:c})};n.$x=function(a){var b=a.channel;/^\/meta\//.test(b)||/^\/service\//.test(b)||th(function(){this.h("subscribeCallback",a);var c=a.data,d=a.op,f=d.type;d&&f&&tp(this,f,b,c)},this)};
n.bv=function(){var a=this.sn.wg();this.h("networkStateChanged - isOnline : ",a);a?(this.Na.resetBackOff(),this.tk=!0,this.pn=(new Date).getTime(),jp(this.Q(),"connecting"),this.dg(this.Qq)):("disconnected"!==this.Q().Ld()&&"disconnecting"!==this.Q().Ld()&&(Ap(this),this.mi()),this.tk=!1)};n.dg=function(){Hp(this);this.Na.handshake()};
function Hp(a){var b;b=Qi(8);b=za(R(a.I,"messageServer")||"https://%s.message."+a.I.get("env")+".vline.com/cometd",b);a.Rl=b;a.h("connect",a.Rl);b=a.I.get("autoBatch");var c=a.I.get("maxBackOff"),d=a.I.get("cometdLogLevel"),f=a.I.get("connectTimeout");a.Na.configure({url:a.Rl,autoBatch:b,backoffIncrement:Gp(a),maxBackoff:c,connectTimeout:f,logLevel:d})}n.disconnect=function(){this.h("disconnect");this.Na.disconnect()};
n.Yu=function(a){try{this.h("metaconnectHandler",a);this.yo&&this.yo.getTimeOffset()&&(De=this.yo.getTimeOffset());if(this.Na.isDisconnected()||!a.successful)this.Gk++,1<this.Gk&&(F(this.G,"Keep-Alive failed, trying to reconnect..."),this.Gk=0,this.mi(),Hp(this));a.successful&&!this.Na.isDisconnected()&&(this.Gk=0,this.h("Keep-Alive Timeoffset ",De),this.Q().vf()||(this.h("onConnected"),jp(this.Q(),"connected"),this.Ca(!0)))}catch(b){this.error(b)}};n.ot=function(){this.mi()};
n.ay=function(a){this.h("subscribeHandler",a)};
n.Gx=function(a){th(function(){this.h("responseHandler",a);var b=a.channel,c=Ip(this,a);c&&this.G.log(ce,c.message,c);if(!a.failure&&!Jp(c))if("/service/get"===b){var b=a.op.rid,d=a.data,f=null,g=[];d&&(f=d.root,g=d.results);qp(this,b,f,g,c)}else if("/service/login"===b)a:{f=a.op,d=f.sid;b=a.data;if(f=rp(this,f.rid))d=f.Nc(),this.ci[d]=f,ei(this.Q()),jn(f,null,c);else if(f=this.ci[d],c){f.Xb().send("login.err.resp",c);break a}f&&b&&tp(this,"put",f.l(),b)}else"/service/logout"===b?this.Ci(a.op.rid,
null,c):this.Ci(a.op.rid,a.data,c)},this)};n.ey=function(a){this.h("unsuccessfulHandler",a);"/meta/handshake"===a.channel&&!0===a.failure&&Hp(this);a=Ip(this,a);Jp(a)&&Kp(this)};function Jp(a){return a&&("402"===a.X()||"403"===a.X())}
var Lp={400:"BAD_PARAM",401:"AUTH_FAILED",403:"FORBIDDEN",500:"SERVER_ERROR",601:"BAD_CREDENTIALS",603:"ACCESS_DENIED",604:"NO_RELAY_FOUND",605:"RSC_EXISTS",610:"INVALID_EMAIL",611:"EMAIL_EXISTS",612:"SERVICEID_NOT_FOUND",613:"SERVICEID_EXISTS",614:"INVALID_PASSWORD",615:"USERID_NOT_FOUND",616:"INVALID_TOKEN",617:"INVALID_PAYLOAD",618:"ROOM_NOT_FOUND"};
function Ip(a,b){var c=b.error,d=b.errors;if(!c&&!d)return null;var f=Mp(c);d&&Ic(d,function(a,b){var c=Mp(a),d=f.map;d||(d=f.map={});d[b]=c},a);return f}function Mp(a){if(!a)return new M("NONE");var b=a.split(":");a=Wa(b[0]);var c=Wa(b[1]),b=Wa(b[2]);a in Lp&&(a=Lp[a]);var d=c;Ba(c)||Ba(b)||(d+=" - ");return new M(a,d+b)}function Kp(a){a.Q().vf()&&(Ap(a),Uh(a.Q(),"change:connectionState",w(function(){"disconnected"===this.Q().Ld()&&setTimeout(w(this.Wq,this),0)},a)))};function Np(a){O.call(this);this.W=a||window;this.kk=$g(this.W,"resize",this.bq,!1,this);this.ce=$c(this.W)}y(Np,O);n=Np.prototype;n.kk=null;n.W=null;n.ce=null;n.fc=function(){return this.ce?this.ce.hb():null};n.k=function(){Np.c.k.call(this);this.kk&&(hh(this.kk),this.kk=null);this.ce=this.W=null};n.bq=function(){var a=$c(this.W);Hc(a,this.ce)||(this.ce=a,this.dispatchEvent("resize"))};function Op(a){Np.call(this,a);this.nd=this.W.orientation;this.zk=$g(this.W,"orientationchange",this.iu,!1,this);this.ce=$c(this.W)}y(Op,Np);n=Op.prototype;n.zk=null;n.k=function(){Op.c.k.call(this);this.zk&&(hh(this.zk),this.zk=null)};n.Jl=function(){var a=$c(this.W);0==a.width||0==a.height?H(this.Jl,5E3,this):Hc(a,this.ce)||(this.ce=a,this.dispatchEvent("resize"))};n.bq=function(){this.Jl()};
n.iu=function(){null!=this.W.orientation&&this.nd!==this.W.orientation&&(this.nd=this.W.orientation,this.Jl(),this.dispatchEvent("orientationchange"))};function Pp(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function Qp(a,b,c,d){O.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var f;c?f=c:(f="history_state"+Rp,document.write(za(Sp,f,f)),f=u(f)?document.getElementById(f):f);this.Ph=f;this.W=c?bd(Wc(c)):window;this.Tj=b;A&&!b&&(this.Tj="https"==window.location.protocol?"https:///":'javascript:""');this.da=new qh(Tp);Dg(this,ta(Eg,this.da));this.Uf=!a;this.P=new Hh(this);if(a||Up)d?a=d:(a="history_iframe"+Rp,b=this.Tj?'src\x3d"'+Ga(this.Tj)+'"':"",document.write(za(Vp,
a,b)),a=u(a)?document.getElementById(a):a),this.cb=a,this.rs=!0;Up&&(this.P.g(this.W,"load",this.zv),this.cs=this.Ul=!1);this.Uf?Wp(this,this.ab(),!0):Xp(this,this.Ph.value);Rp++}y(Qp,O);Qp.prototype.xa=!1;Qp.prototype.Cg=!1;Qp.prototype.zg=null;
var Yp=function(a,b){var c=oa(a),d=b||Pp;return function(){var b=this||q,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),g=d(c,arguments);return b.hasOwnProperty(g)?b[g]:b[g]=a.apply(this,arguments)}}(function(){return A?8<=document.documentMode:"onhashchange"in q}),Up=A&&!Rb(8),Zp=Up;n=Qp.prototype;n.Bg=null;n.k=function(){Qp.c.k.call(this);this.P.F();this.Ga(!1)};
n.Ga=function(a){if(a!=this.xa)if(Up&&!this.Ul)this.cs=a;else if(a)if(Fb?this.P.g(this.W.document,$p,this.sx):B&&this.P.g(this.W,"pageshow",this.Cn),Yp()&&this.Uf)this.P.g(this.W,"hashchange",this.Mv),this.xa=!0,this.dispatchEvent(new yo(this.ab(),!1));else{if(!A||this.Ul)this.P.g(this.da,rh,w(this.Gc,this,!0)),this.xa=!0,Up||(this.zg=this.ab(),this.dispatchEvent(new yo(this.ab(),!1))),this.da.start()}else this.xa=!1,this.P.ud(),this.da.stop()};
n.zv=function(){this.Ul=!0;this.Ph.value&&Xp(this,this.Ph.value,!0);this.Ga(this.cs)};n.Cn=function(a){a.qc.persisted&&(this.Ga(!1),this.Ga(!0))};n.Mv=function(){var a=aq(this.W);a!=this.zg&&this.ge(a,!0)};n.ab=function(){return null!=this.Bg?this.Bg:this.Uf?aq(this.W):bq(this)||""};n.bs=function(a,b){cq(this,a,!1,b)};n.Rn=function(a,b){cq(this,a,!0,b)};function aq(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}
function cq(a,b,c,d){a.ab()!=b&&(a.Uf?(Wp(a,b,c),Yp()||A&&Xp(a,b,c,d),a.xa&&a.Gc(!1)):(Xp(a,b,c),a.Bg=a.zg=a.Ph.value=b,a.dispatchEvent(new yo(b,!1))))}function Wp(a,b,c){a=a.W.location;var d=a.href.split("#")[0],f=-1!=a.href.indexOf("#");if(Zp||f||b)d+="#"+b;d!=a.href&&(c?a.replace(d):a.href=d)}
function Xp(a,b,c,d){if(a.rs||b!=bq(a))if(a.rs=!1,b=encodeURIComponent(String(b)),A){var f=ld(a.cb);f.open("text/html",c?"replace":void 0);f.write(za(dq,Ga(d||a.W.document.title),b));f.close()}else if(b=a.Tj+"#"+b,a=a.cb.contentWindow)c?a.location.replace(b):a.location.href=b}
function bq(a){if(A)return a=ld(a.cb),a.body?Fa(a.body.innerHTML):null;var b=a.cb.contentWindow;if(b){var c;try{c=Fa(aq(b))}catch(d){return a.Cg||(!0!=a.Cg&&a.da.setInterval(eq),a.Cg=!0),null}a.Cg&&(!1!=a.Cg&&a.da.setInterval(Tp),a.Cg=!1);return c||null}return null}n.Gc=function(a){if(this.Uf){var b=aq(this.W);b!=this.zg&&this.ge(b,a)}if(!this.Uf||Up)if(b=bq(this)||"",null==this.Bg||b==this.Bg)this.Bg=null,b!=this.zg&&this.ge(b,a)};
n.ge=function(a,b){this.zg=this.Ph.value=a;this.Uf?(Up&&Xp(this,a),Wp(this,a)):Xp(this,a);this.dispatchEvent(new yo(this.ab(),b))};n.sx=function(){this.da.stop();this.da.start()};var $p=["mousedown","keydown","mousemove"],dq="\x3ctitle\x3e%s\x3c/title\x3e\x3cbody\x3e%s\x3c/body\x3e",Vp='\x3ciframe id\x3d"%s" style\x3d"display:none" %s\x3e\x3c/iframe\x3e',Sp='\x3cinput type\x3d"text" name\x3d"%s" id\x3d"%s" style\x3d"display:none"\x3e',Rp=0,Tp=150,eq=1E4;var fq;function gq(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function hq(a,b,c){ka(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(fq||(fq={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=fq,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};var iq=!!q.DOMTokenList,jq=iq?function(a){return a.classList}:function(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]},kq=iq?function(a,b){return a.classList.contains(b)}:function(a,b){return ib(jq(a),b)},lq=iq?function(a,b){a.classList.add(b)}:function(a,b){kq(a,b)||(a.className+=0<a.className.length?" "+b:b)},mq=iq?function(a,b){a.classList.remove(b)}:function(a,b){kq(a,b)&&(a.className=cb(jq(a),function(a){return a!=b}).join(" "))};function nq(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}n=nq.prototype;n.hb=function(){return new nq(this.top,this.right,this.bottom,this.left)};n.contains=function(a){return this&&a?a instanceof nq?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
n.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};n.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};n.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function oq(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}n=oq.prototype;n.hb=function(){return new oq(this.left,this.top,this.width,this.height)};function pq(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1}n.contains=function(a){return a instanceof oq?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
n.fc=function(){return new Gc(this.width,this.height)};n.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
n.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function qq(a,b,c){u(b)?rq(a,c,b):Ic(b,ta(rq,a))}function rq(a,b,c){(c=sq(a,c))&&(a.style[c]=b)}function sq(a,b){var c=Ya(b);if(void 0===a.style[c]){var d=(C?"Webkit":B?"Moz":A?"ms":Fb?"O":null)+Za(b);if(void 0!==a.style[d])return d}return c}function tq(a,b){var c=a.style[Ya(b)];return"undefined"!==typeof c?c:a.style[sq(a,b)]||""}function uq(a,b){var c=Wc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function vq(a,b){return uq(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function wq(a){return vq(a,"position")}function xq(a,b,c){var d,f=B&&(Ab||Ib)&&D("1.9");b instanceof E?(d=b.x,b=b.y):(d=b,b=c);a.style.left=yq(d,f);a.style.top=yq(b,f)}
function zq(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}A&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Aq(a){if(A&&!Rb(8))return a.offsetParent;var b=Wc(a),c=vq(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=vq(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Bq(a){for(var b=new nq(0,Infinity,Infinity,0),c=Uc(a),d=c.fa.body,f=c.fa.documentElement,g=ad(c.fa);a=Aq(a);)if(!(A&&0==a.clientWidth||C&&0==a.clientHeight&&a==d||a==d||a==f||"visible"==vq(a,"overflow"))){var h=Cq(a),k;k=a;if(B&&!D("1.9")){var m=parseFloat(uq(k,"borderLeftWidth"));if(Dq(k))var p=k.offsetWidth-k.clientWidth-m-parseFloat(uq(k,"borderRightWidth")),m=m+p;k=new E(m,parseFloat(uq(k,"borderTopWidth")))}else k=new E(k.clientLeft,k.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,
h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=$c(yd(c));b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}
function Cq(a){var b,c=Wc(a),d=vq(a,"position"),f=B&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new E(0,0),h;b=c?Wc(c):document;h=!A||Rb(9)||xd(Uc(b))?b.documentElement:b.body;if(a==h)return g;if(a.getBoundingClientRect)b=zq(a),a=zd(Uc(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;
b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(C&&"fixed"==wq(b)){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Fb||C&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=Aq(b))&&b!=c.body&&b!=h;)g.x-=b.scrollLeft,Fb&&"TR"==b.tagName||(g.y-=b.scrollTop)}return g}function Eq(a,b,c){if(b instanceof Gc)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");Fq(a,b);Gq(a,c)}
function yq(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Gq(a,b){a.style.height=yq(b,!0)}function Fq(a,b){a.style.width=yq(b,!0)}function Hq(a){return Iq(a)}function Iq(a){var b=Jq;if("none"!=vq(a,"display"))return b(a);var c=a.style,d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=f;return a}
function Jq(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;return t(b)&&!d||!a.getBoundingClientRect?new Gc(b,c):(a=zq(a),new Gc(a.right-a.left,a.bottom-a.top))}function Kq(a){var b=Cq(a);a=Iq(a);return new oq(b.x,b.y,a.width,a.height)}function Lq(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Z(a,b){a.style.display=b?"":"none"}function Dq(a){return"rtl"==vq(a,"direction")}
var Mq=B?"MozUserSelect":C?"WebkitUserSelect":null;function Nq(a,b,c){c=c?null:a.getElementsByTagName("*");if(Mq){if(b=b?"none":"",a.style[Mq]=b,c){a=0;for(var d;d=c[a];a++)d.style[Mq]=b}}else if(A||Fb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function Oq(a,b){var c=xd(Uc(Wc(a)));if(!A||c&&D("8")){var d=a.style;B?d.MozBoxSizing="border-box":C?d.WebkitBoxSizing="border-box":d.boxSizing="border-box";d.width=Math.max(b.width,0)+"px";d.height=Math.max(b.height,0)+"px"}else if(d=a.style,c){var c=Pq(a),f=Qq(a);d.pixelWidth=b.width-f.left-c.left-c.right-f.right;d.pixelHeight=b.height-f.top-c.top-c.bottom-f.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}
function Rq(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}function Sq(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Rq(a,c):0}
function Pq(a){if(A){var b=Sq(a,"paddingLeft"),c=Sq(a,"paddingRight"),d=Sq(a,"paddingTop");a=Sq(a,"paddingBottom");return new nq(d,c,a,b)}b=uq(a,"paddingLeft");c=uq(a,"paddingRight");d=uq(a,"paddingTop");a=uq(a,"paddingBottom");return new nq(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Tq={thin:2,medium:4,thick:6};function Uq(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Tq?Tq[c]:Rq(a,c)}
function Qq(a){if(A){var b=Uq(a,"borderLeft"),c=Uq(a,"borderRight"),d=Uq(a,"borderTop");a=Uq(a,"borderBottom");return new nq(d,c,a,b)}b=uq(a,"borderLeftWidth");c=uq(a,"borderRightWidth");d=uq(a,"borderTopWidth");a=uq(a,"borderBottomWidth");return new nq(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Vq=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Wq(){}ha(Wq);Wq.prototype.cv=0;Wq.Ja();function Xq(a){O.call(this);this.xb=a||Uc();this.Ie=Yq}y(Xq,O);Xq.prototype.uu=Wq.Ja();var Yq=null;function Zq(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}n=Xq.prototype;n.zb=null;n.J=!1;n.B=null;n.Ie=null;n.kn=null;n.wa=null;n.Ha=null;
n.Hc=null;n.Mo=!1;n.j=function(){return this.zb||(this.zb=":"+(this.uu.cv++).toString(36))};n.nb=function(a){this.wa&&this.wa.Hc&&(Oc(this.wa.Hc,this.zb),Pc(this.wa.Hc,a,this));this.zb=a};n.e=e("B");n.C=function(){return this.sg||(this.sg=new Hh(this))};n.Kf=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.wa&&this.zb&&$q(this.wa,this.zb)&&this.wa!=a)throw Error("Unable to set parent component");this.wa=a;Xq.c.Cb.call(this,a)};n.getParent=e("wa");
n.Cb=function(a){if(this.wa&&this.wa!=a)throw Error("Method not supported");Xq.c.Cb.call(this,a)};n.o=e("xb");n.w=function(){this.B=this.xb.createElement("div")};n.Qb=function(a){ar(this,a)};function ar(a,b,c){if(a.J)throw Error("Component already rendered");a.B||a.w();b?b.insertBefore(a.B,c||null):a.xb.fa.body.appendChild(a.B);a.wa&&!a.wa.J||a.v()}
n.la=function(a){if(this.J)throw Error("Component already rendered");if(a&&this.Gb(a)){this.Mo=!0;var b=Wc(a);this.xb&&this.xb.fa==b||(this.xb=Uc(a));this.Z(a);this.v()}else throw Error("Invalid element to decorate");};n.Gb=l(!0);n.Z=da("B");n.v=function(){this.J=!0;this.dc(function(a){!a.J&&a.e()&&a.v()})};n.ga=function(){this.dc(function(a){a.J&&a.ga()});this.sg&&this.sg.ud();this.J=!1};
n.k=function(){this.J&&this.ga();this.sg&&(this.sg.F(),delete this.sg);this.dc(function(a){a.F()});!this.Mo&&this.B&&id(this.B);this.wa=this.kn=this.B=this.Hc=this.Ha=null;Xq.c.k.call(this)};n.ye=function(a){return this.j()+"."+a};n.Cj=function(a){if(!this.J)throw Error("Operation not supported while component is not in document");return this.xb.e(this.ye(a))};n.ra=function(a,b){this.Fd(a,br(this),b)};
n.Fd=function(a,b,c){if(a.J&&(c||!this.J))throw Error("Component already rendered");if(0>b||b>br(this))throw Error("Child component index out of bounds");this.Hc&&this.Ha||(this.Hc={},this.Ha=[]);if(a.getParent()==this){var d=a.j();this.Hc[d]=a;mb(this.Ha,a)}else Pc(this.Hc,a.j(),a);a.Kf(this);rb(this.Ha,b,0,a);a.J&&this.J&&a.getParent()==this?(c=this.va(),c.insertBefore(a.e(),c.childNodes[b]||null)):c?(this.B||this.w(),b=cr(this,b+1),ar(a,this.va(),b?b.B:null)):this.J&&(!a.J&&a.B&&a.B.parentNode&&
1==a.B.parentNode.nodeType)&&a.v()};n.va=e("B");function dr(a){null==a.Ie&&(a.Ie=Dq(a.J?a.B:a.xb.fa.body));return a.Ie}n.Lf=function(a){if(this.J)throw Error("Component already rendered");this.Ie=a};function br(a){return a.Ha?a.Ha.length:0}function $q(a,b){var c;a.Hc&&b?(c=a.Hc,c=(b in c?c[b]:void 0)||null):c=null;return c}function cr(a,b){return a.Ha?a.Ha[b]||null:null}n.dc=function(a,b){this.Ha&&z(this.Ha,a,b)};function er(a,b){return a.Ha&&b?bb(a.Ha,b):-1}
n.removeChild=function(a,b){if(a){var c=u(a)?a:a.j();a=$q(this,c);c&&a&&(Oc(this.Hc,c),mb(this.Ha,a),b&&(a.ga(),a.B&&id(a.B)),a.Kf(null))}if(!a)throw Error("Child is not in parent component");return a};n.Qn=function(a){for(var b=[];this.Ha&&0!=this.Ha.length;)b.push(this.removeChild(cr(this,0),a));return b};function fr(a,b){Xq.call(this,b);this.Qc=a||""}y(fr,Xq);fr.prototype.bd=null;fr.prototype.Pu=10;var gr="placeholder"in document.createElement("input");n=fr.prototype;n.Oh=!1;n.w=function(){this.B=this.o().w("input",{type:"text"})};n.Z=function(a){fr.c.Z.call(this,a);this.Qc||(this.Qc=a.getAttribute("label")||"");var b;a:{var c=Wc(a);try{b=c&&c.activeElement;break a}catch(d){}b=null}b==a&&(this.Oh=!0,a=this.e(),mq(a,this.Yg));gr?this.e().placeholder=this.Qc:(a=this.e(),hq(a,"label",this.Qc))};
n.v=function(){fr.c.v.call(this);var a=new Hh(this);a.g(this.e(),"focus",this.$p);a.g(this.e(),"blur",this.Xt);if(gr)this.P=a;else{B&&a.g(this.e(),["keypress","keydown","keyup"],this.bu);var b=Wc(this.e());a.g(bd(b),"load",this.lu);this.P=a;hr(this)}this.Gc();this.e().Ou=this};n.ga=function(){fr.c.ga.call(this);this.P&&(this.P.F(),this.P=null);this.e().Ou=null};function hr(a){!a.Ft&&(a.P&&a.e().form)&&(a.P.g(a.e().form,"submit",a.cu),a.Ft=!0)}
n.k=function(){fr.c.k.call(this);this.P&&(this.P.F(),this.P=null)};n.Yg="label-input-label";n.$p=function(){this.Oh=!0;var a=this.e();mq(a,this.Yg);if(!gr&&!ir(this)&&!this.wu){var b=this,a=function(){b.e()&&(b.e().value="")};A?H(a,10):a()}};n.Xt=function(){gr||(this.P.tb(this.e(),"click",this.$p),this.bd=null);this.Oh=!1;this.Gc()};n.bu=function(a){27==a.keyCode&&("keydown"==a.type?this.bd=this.e().value:"keypress"==a.type?this.e().value=this.bd:"keyup"==a.type&&(this.bd=null),a.preventDefault())};
n.cu=function(){ir(this)||(this.e().value="",H(this.Wt,10,this))};n.Wt=function(){ir(this)||(this.e().value=this.Qc)};n.lu=function(){this.Gc()};function ir(a){return!!a.e()&&""!=a.e().value&&a.e().value!=a.Qc}n.clear=function(){this.e().value="";null!=this.bd&&(this.bd="")};n.reset=function(){ir(this)&&(this.clear(),this.Gc())};n.ta=function(a){null!=this.bd&&(this.bd=a);this.e().value=a;this.Gc()};n.ba=function(){return null!=this.bd?this.bd:ir(this)?this.e().value:""};n.fd=e("Qc");
n.Gc=function(){var a=this.e();gr?this.e().placeholder!=this.Qc&&(this.e().placeholder=this.Qc):(hr(this),hq(a,"label",this.Qc));ir(this)?(a=this.e(),mq(a,this.Yg)):(this.wu||this.Oh||(a=this.e(),lq(a,this.Yg)),gr||H(this.Hx,this.Pu,this))};n.Ga=function(a){this.e().disabled=!a;var b=this.e(),c=this.Yg+"-disabled";a?mq(b,c):lq(b,c)};n.isEnabled=function(){return!this.e().disabled};n.Hx=function(){!this.e()||(ir(this)||this.Oh)||(this.e().value=this.Qc)};function jr(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return!1;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return!1;case 0:return!B;default:return 166>a.keyCode||183<a.keyCode}}
function kr(a,b,c,d,f){if(!(A||C&&D("525")))return!0;if(Ab&&f)return lr(a);if(f&&!d||!c&&(17==b||18==b||Ab&&91==b))return!1;if(C&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(A&&d&&b==a)return!1;switch(a){case 13:return!(A&&Rb(9));case 27:return!C}return lr(a)}
function lr(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||C&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function mr(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function nr(a,b){O.call(this);a&&or(this,a,b)}y(nr,O);n=nr.prototype;n.B=null;n.bk=null;n.Ym=null;n.ck=null;n.hc=-1;n.ve=-1;n.yl=!1;
var pr={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qr={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},rr=A||C&&D("525"),sr=Ab&&B;n=nr.prototype;
n.du=function(a){C&&(17==this.hc&&!a.ctrlKey||18==this.hc&&!a.altKey||Ab&&91==this.hc&&!a.metaKey)&&(this.ve=this.hc=-1);-1==this.hc&&(a.ctrlKey&&17!=a.keyCode?this.hc=17:a.altKey&&18!=a.keyCode?this.hc=18:a.metaKey&&91!=a.keyCode&&(this.hc=91));rr&&!kr(a.keyCode,this.hc,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.ve=B?mr(a.keyCode):a.keyCode,sr&&(this.yl=a.altKey))};n.eu=function(a){this.ve=this.hc=-1;this.yl=a.altKey};
n.handleEvent=function(a){var b=a.qc,c,d,f=b.altKey;A&&"keypress"==a.type?(c=this.ve,d=13!=c&&27!=c?b.keyCode:0):C&&"keypress"==a.type?(c=this.ve,d=0<=b.charCode&&63232>b.charCode&&lr(c)?b.charCode:0):Fb?(c=this.ve,d=lr(c)?b.keyCode:0):(c=b.keyCode||this.ve,d=b.charCode||0,sr&&(f=this.yl),Ab&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in pr?g=pr[c]:25==c&&a.shiftKey&&(g=9):h&&h in qr&&(g=qr[h]);a=g==this.hc;this.hc=g;b=new tr(g,d,a,b);b.altKey=f;this.dispatchEvent(b)};n.e=e("B");
function or(a,b,c){a.ck&&a.detach();a.B=b;a.bk=$g(a.B,"keypress",a,c);a.Ym=$g(a.B,"keydown",a.du,c,a);a.ck=$g(a.B,"keyup",a.eu,c,a)}n.detach=function(){this.bk&&(hh(this.bk),hh(this.Ym),hh(this.ck),this.ck=this.Ym=this.bk=null);this.B=null;this.ve=this.hc=-1};n.k=function(){nr.c.k.call(this);this.detach()};function tr(a,b,c,d){d&&this.re(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}y(tr,Og);function ur(a,b,c,d,f,g,h,k,m){var p,r;if(p=c.offsetParent){var s="HTML"==p.tagName||"BODY"==p.tagName;s&&"static"==wq(p)||(r=Cq(p),s||(s=(s=Dq(p))&&B?-p.scrollLeft:!s||A&&D("8")||"visible"==vq(p,"overflowX")?p.scrollLeft:p.scrollWidth-p.clientWidth-p.scrollLeft,r=Fc(r,new E(s,p.scrollTop))))}p=r||new E;r=Kq(a);if(s=Bq(a)){var v=new oq(s.left,s.top,s.right-s.left,s.bottom-s.top),s=Math.max(r.left,v.left),N=Math.min(r.left+r.width,v.left+v.width);if(s<=N){var I=Math.max(r.top,v.top),v=Math.min(r.top+
r.height,v.top+v.height);I<=v&&(r.left=s,r.top=I,r.width=N-s,r.height=v-I)}}s=Uc(a);I=Uc(c);if(s.fa!=I.fa){var N=s.fa.body,I=yd(I),v=new E(0,0),ca=bd(Wc(N)),Na=N;do{var V;if(ca==I)V=Cq(Na);else{var kb=Na;V=void 0;if(kb.getBoundingClientRect)V=zq(kb),V=new E(V.left,V.top);else{V=zd(Uc(kb));var Cc=Cq(kb);V=new E(Cc.x-V.x,Cc.y-V.y)}if(B&&!D(12)){Cc=void 0;A?Cc="-ms-transform":C?Cc="-webkit-transform":Fb?Cc="-o-transform":B&&(Cc="-moz-transform");var Cg=void 0;Cc&&(Cg=vq(kb,Cc));Cg||(Cg=vq(kb,"transform"));
kb=Cg?(kb=Cg.match(Vq))?new E(parseFloat(kb[1]),parseFloat(kb[2])):new E(0,0):new E(0,0);V=new E(V.x+kb.x,V.y+kb.y)}}v.x+=V.x;v.y+=V.y}while(ca&&ca!=I&&(Na=ca.frameElement)&&(ca=ca.parent));N=Fc(v,Cq(N));A&&!xd(s)&&(N=Fc(N,zd(s)));r.left+=N.x;r.top+=N.y}a=(b&4&&Dq(a)?b^2:b)&-5;b=new E(a&2?r.left+r.width:r.left,a&1?r.top+r.height:r.top);b=Fc(b,p);f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var J;if(h)if(m)J=m;else if(J=Bq(c))J.top-=p.y,J.right-=p.x,J.bottom-=p.y,J.left-=p.x;a:{m=J;f=b.hb();J=0;a=
(d&4&&Dq(c)?d^2:d)&-5;d=Iq(c);k=k?k.hb():d.hb();if(g||0!=a)a&2?f.x-=k.width+(g?g.right:0):g&&(f.x+=g.left),a&1?f.y-=k.height+(g?g.bottom:0):g&&(f.y+=g.top);if(h&&(m?(g=f,J=0,65==(h&65)&&(g.x<m.left||g.x>=m.right)&&(h&=-2),132==(h&132)&&(g.y<m.top||g.y>=m.bottom)&&(h&=-5),g.x<m.left&&h&1&&(g.x=m.left,J|=1),g.x<m.left&&(g.x+k.width>m.right&&h&16)&&(k.width=Math.max(k.width-(g.x+k.width-m.right),0),J|=4),g.x+k.width>m.right&&h&1&&(g.x=Math.max(m.right-k.width,m.left),J|=1),h&2&&(J|=(g.x<m.left?16:0)|
(g.x+k.width>m.right?32:0)),g.y<m.top&&h&4&&(g.y=m.top,J|=2),g.y<=m.top&&(g.y+k.height<m.bottom&&h&32)&&(k.height=Math.max(k.height-(m.top-g.y),0),g.y=m.top,J|=8),g.y>=m.top&&(g.y+k.height>m.bottom&&h&32)&&(k.height=Math.max(k.height-(g.y+k.height-m.bottom),0),J|=8),g.y+k.height>m.bottom&&h&4&&(g.y=Math.max(m.bottom-k.height,m.top),J|=2),h&8&&(J|=(g.y<m.top?64:0)|(g.y+k.height>m.bottom?128:0)),h=J):h=256,J=h,J&496)){c=J;break a}xq(c,f);Hc(d,k)||Oq(c,k);c=J}return c};function vr(){}vr.prototype.Ge=ba();function wr(a,b,c){this.element=a;this.nj=b;this.tx=c}y(wr,vr);wr.prototype.Ge=function(a,b,c){ur(this.element,this.nj,a,b,void 0,c,this.tx)};function xr(a,b,c,d){wr.call(this,a,b);this.dk=c?5:0;this.Gn=d||void 0}y(xr,wr);xr.prototype.Kt=e("dk");xr.prototype.Ge=function(a,b,c,d){var f=ur(this.element,this.nj,a,b,null,c,10,d,this.Gn);if(f&496){var g=yr(f,this.nj);b=yr(f,b);f=ur(this.element,g,a,b,null,c,10,d,this.Gn);f&496&&(g=yr(f,g),b=yr(f,b),ur(this.element,g,a,b,null,c,this.dk,d,this.Gn))}};function yr(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};function zr(a,b,c,d){xr.call(this,a,b,c||d);if(c||d)this.dk=65|(d?32:132)}y(zr,xr);function Ar(){}var Br;ha(Ar);n=Ar.prototype;n.rc=ba();n.w=function(a){var b=a.o().w("div",this.le(a).join(" "),a.ka);Cr(this,a,b);return b};n.va=aa();n.qh=function(a,b,c){if(a=a.e?a.e():a)if(A&&!D("7")){var d=Dr(yc(a),b);d.push(b);ta(c?zc:Ac,a).apply(null,d)}else Ec(a,b,c)};n.Gb=l(!0);
n.la=function(a,b){b.id&&a.nb(b.id);var c=this.va(b);c&&c.firstChild?Er(a,c.firstChild.nextSibling?pb(c.childNodes):c.firstChild):a.ka=null;var d=0,f=this.K(),g=this.K(),h=!1,k=!1,c=!1,m=yc(b);z(m,function(a){h||a!=f?k||a!=g?d|=this.sm(a):k=!0:(h=!0,g==f&&(k=!0))},this);a.mc=d;h||(m.push(f),g==f&&(k=!0));k||m.push(g);var p=a.Kc;p&&m.push.apply(m,p);if(A&&!D("7")){var r=Dr(m);0<r.length&&(m.push.apply(m,r),c=!0)}h&&k&&!p&&!c||xc(b,m.join(" "));Cr(this,a,b);return b};
n.vg=function(a){dr(a)&&this.Lf(a.e(),!0);a.isEnabled()&&this.ae(a,a.R)};function Cr(a,b,c){b.R||hq(c,"hidden",!b.R);b.isEnabled()||a.oc(c,1,!b.isEnabled());b.Va&8&&a.oc(c,8,Fr(b,8));b.Va&16&&a.oc(c,16,Fr(b,16));b.Va&64&&a.oc(c,64,Fr(b,64))}n.Le=function(a,b){Nq(a,!b,!A&&!Fb)};n.Lf=function(a,b){this.qh(a,this.K()+"-rtl",b)};n.Qd=function(a){var b;return a.Va&32&&(b=a.$a())?rd(b):!1};
n.ae=function(a,b){var c;if(a.Va&32&&(c=a.$a())){if(!b&&Fr(a,32)){try{c.blur()}catch(d){}Fr(a,32)&&a.of(null)}rd(c)!=b&&sd(c,b)}};n.ha=function(a,b){Z(a,b);a&&hq(a,"hidden",!b)};n.Sb=function(a,b,c){var d=a.e();if(d){var f=this.zh(b);f&&this.qh(a,f,c);this.oc(d,b,c)}};n.oc=function(a,b,c){Br||(Br={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Br[b])&&hq(a,b,c)};
n.Rb=function(a,b){var c=this.va(a);if(c&&(hd(c),b))if(u(b))md(c,b);else{var d=function(a){if(a){var b=Wc(c);c.appendChild(u(a)?b.createTextNode(a):a)}};ja(b)?z(b,d):!ka(b)||"nodeType"in b?d(b):z(pb(b),d)}};n.$a=function(a){return a.e()};n.K=l("vl-control");n.le=function(a){var b=this.K(),c=[b],d=this.K();d!=b&&c.push(d);b=a.mc;for(d=[];b;){var f=b&-b;d.push(this.zh(f));b&=~f}c.push.apply(c,d);(a=a.Kc)&&c.push.apply(c,a);A&&!D("7")&&c.push.apply(c,Dr(c));return c};
function Dr(a,b){var c=[];b&&(a=a.concat([b]));z([],function(d){!fb(d,ta(ib,a))||b&&!ib(d,b)||c.push(d.join("_"))});return c}n.zh=function(a){this.gj||Gr(this);return this.gj[a]};n.sm=function(a){if(!this.ns){this.gj||Gr(this);var b=this.gj,c={},d;for(d in b)c[b[d]]=d;this.ns=c}a=parseInt(this.ns[a],10);return isNaN(a)?0:a};function Gr(a){var b=a.K();a.gj={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Hr(){}y(Hr,Ar);ha(Hr);n=Hr.prototype;n.rc=l("button");n.oc=function(a,b,c){switch(b){case 8:case 16:hq(a,"pressed",c);break;default:case 64:case 1:Hr.c.oc.call(this,a,b,c)}};n.w=function(a){var b=Hr.c.w.call(this,a);this.zd(b,a.rg());var c=a.ba();c&&this.ta(b,c);a.Va&16&&this.oc(b,16,Fr(a,16));return b};n.la=function(a,b){b=Hr.c.la.call(this,a,b);var c=this.ba(b);a.ub=c;a.zo=this.rg(b);a.Va&16&&this.oc(b,16,Fr(a,16));return b};n.ba=ga;n.ta=ga;n.rg=function(a){return a.title};
n.zd=function(a,b){a&&b&&(a.title=b)};n.K=l("vl-button");function Ir(a,b){if(!a)throw Error("Invalid class name "+a);if(!ma(b))throw Error("Invalid decorator function "+b);Jr[a]=b}function Kr(a){for(var b=yc(a),c=0,d=b.length;c<d;c++)if(a=b[c]in Jr?Jr[b[c]]():null)return a;return null}var Lr={},Jr={};function Mr(a,b,c){Xq.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=oa(b);if(d=Lr[d])break;b=b.c?b.c.constructor:null}b=d?ma(d.Ja)?d.Ja():new d:null}this.U=b;this.ka=a}y(Mr,Xq);n=Mr.prototype;n.ka=null;n.mc=0;n.Va=39;n.Gd=255;n.Li=0;n.R=!0;n.Kc=null;n.Bm=!0;n.$i=!1;n.Hf=null;function Nr(a,b){a.J&&b!=a.Bm&&Or(a,b);a.Bm=b}n.$a=function(){return this.U.$a(this)};n.Ch=function(){return this.wc||(this.wc=new nr)};function Pr(a,b){b&&(a.Kc?ib(a.Kc,b)||a.Kc.push(b):a.Kc=[b],a.U.qh(a,b,!0))}
n.qh=function(a,b){b?Pr(this,a):a&&(this.Kc&&mb(this.Kc,a))&&(0==this.Kc.length&&(this.Kc=null),this.U.qh(this,a,!1))};n.w=function(){var a=this.U.w(this);this.B=a;var b=this.Hf||this.U.rc();b&&gq(a,b);this.$i||this.U.Le(a,!1);this.R||this.U.ha(a,!1)};n.Yr=da("Hf");n.va=function(){return this.U.va(this.e())};n.Gb=function(a){return this.U.Gb(a)};n.Z=function(a){this.B=a=this.U.la(this,a);var b=this.Hf||this.U.rc();b&&gq(a,b);this.$i||this.U.Le(a,!1);this.R="none"!=a.style.display};
n.v=function(){Mr.c.v.call(this);this.U.vg(this);if(this.Va&-2&&(this.Bm&&Or(this,!0),this.Va&32)){var a=this.$a();if(a){var b=this.Ch();or(b,a);this.C().g(b,"key",this.Oc).g(a,"focus",this.Lj).g(a,"blur",this.of)}}};
function Or(a,b){var c=a.C(),d=a.e();b?(c.g(d,"mouseover",a.Dm).g(d,"mousedown",a.pf).g(d,"mouseup",a.qf).g(d,"mouseout",a.Cm),a.Mh!=ga&&c.g(d,"contextmenu",a.Mh),A&&c.g(d,"dblclick",a.Zp)):(c.tb(d,"mouseover",a.Dm).tb(d,"mousedown",a.pf).tb(d,"mouseup",a.qf).tb(d,"mouseout",a.Cm),a.Mh!=ga&&c.tb(d,"contextmenu",a.Mh),A&&c.tb(d,"dblclick",a.Zp))}n.ga=function(){Mr.c.ga.call(this);this.wc&&this.wc.detach();this.R&&this.isEnabled()&&this.U.ae(this,!1)};
n.k=function(){Mr.c.k.call(this);this.wc&&(this.wc.F(),delete this.wc);delete this.U;this.Kc=this.ka=null};n.Rb=function(a){this.U.Rb(this.e(),a);this.ka=a};function Er(a,b){a.ka=b}n.mg=function(){var a=this.ka;if(!a)return"";a=u(a)?a:ja(a)?db(a,vd).join(""):td(a);return Ca(a)};n.Lf=function(a){Mr.c.Lf.call(this,a);var b=this.e();b&&this.U.Lf(b,a)};n.Le=function(a){this.$i=a;var b=this.e();b&&this.U.Le(b,a)};
n.ha=function(a,b){if(b||this.R!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.e();c&&this.U.ha(c,a);this.isEnabled()&&this.U.ae(this,a);this.R=a;return!0}return!1};n.isEnabled=function(){return!Fr(this,1)};n.Ga=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Qr(this,1,!a)||(a||(this.setActive(!1),this.Uc(!1)),this.R&&this.U.ae(this,a),this.Sb(1,!a))};n.Uc=function(a){Qr(this,2,a)&&this.Sb(2,a)};n.Pc=function(){return Fr(this,4)};
n.setActive=function(a){Qr(this,4,a)&&this.Sb(4,a)};n.jo=function(a){Qr(this,8,a)&&this.Sb(8,a)};function Rr(a,b){Qr(a,16,b)&&a.Sb(16,b)}n.Sa=function(a){Qr(this,64,a)&&this.Sb(64,a)};function Fr(a,b){return!!(a.mc&b)}n.Sb=function(a,b){this.Va&a&&b!=Fr(this,a)&&(this.U.Sb(this,a,b),this.mc=b?this.mc|a:this.mc&~a)};function Sr(a,b,c){if(a.J&&Fr(a,b)&&!c)throw Error("Component already rendered");!c&&Fr(a,b)&&a.Sb(b,!1);a.Va=c?a.Va|b:a.Va&~b}function Tr(a,b){return!!(a.Gd&b)&&!!(a.Va&b)}
function Qr(a,b,c){return!!(a.Va&b)&&Fr(a,b)!=c&&(!(a.Li&b)||a.dispatchEvent(Zq(b,c)))&&!a.Ic}n.Dm=function(a){!Ur(a,this.e())&&(this.dispatchEvent("enter")&&this.isEnabled()&&Tr(this,2))&&this.Uc(!0)};n.Cm=function(a){!Ur(a,this.e())&&this.dispatchEvent("leave")&&(Tr(this,4)&&this.setActive(!1),Tr(this,2)&&this.Uc(!1))};n.Mh=ga;function Ur(a,b){return!!a.relatedTarget&&kd(b,a.relatedTarget)}
n.pf=function(a){this.isEnabled()&&(Tr(this,2)&&this.Uc(!0),Qg(a)&&(Tr(this,4)&&this.setActive(!0),this.U.Qd(this)&&this.$a().focus()));!this.$i&&Qg(a)&&a.preventDefault()};n.qf=function(a){this.isEnabled()&&(Tr(this,2)&&this.Uc(!0),this.Pc()&&(this.Ef(a)&&Tr(this,4))&&this.setActive(!1))};n.Zp=function(a){this.isEnabled()&&this.Ef(a)};
n.Ef=function(a){Tr(this,16)&&Rr(this,!Fr(this,16));Tr(this,8)&&this.jo(!0);Tr(this,64)&&this.Sa(!Fr(this,64));var b=new Lg("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Kn=a.Kn);return this.dispatchEvent(b)};n.Lj=function(){Tr(this,32)&&Qr(this,32,!0)&&this.Sb(32,!0)};n.of=function(){Tr(this,4)&&this.setActive(!1);Tr(this,32)&&Qr(this,32,!1)&&this.Sb(32,!1)};
n.Oc=function(a){return this.R&&this.isEnabled()&&this.tc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};n.tc=function(a){return 13==a.keyCode&&this.Ef(a)};if(!ma(Mr))throw Error("Invalid component class "+Mr);if(!ma(Ar))throw Error("Invalid renderer class "+Ar);var Vr=oa(Mr);Lr[Vr]=Ar;Ir("vl-control",function(){return new Mr(null)});function Wr(){}y(Wr,Hr);ha(Wr);n=Wr.prototype;n.rc=ba();n.w=function(a){Nr(a,!1);a.Gd&=-256;Sr(a,32,!1);return a.o().w("button",{"class":this.le(a).join(" "),disabled:!a.isEnabled(),title:a.rg()||"",value:a.ba()||""},a.mg()||"")};n.Gb=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};n.la=function(a,b){Nr(a,!1);a.Gd&=-256;Sr(a,32,!1);b.disabled&&zc(b,this.zh(1));return Wr.c.la.call(this,a,b)};n.vg=function(a){a.C().g(a.e(),"click",a.Ef)};
n.Le=ga;n.Lf=ga;n.Qd=function(a){return a.isEnabled()};n.ae=ga;n.Sb=function(a,b,c){Wr.c.Sb.call(this,a,b,c);(a=a.e())&&1==b&&(a.disabled=c)};n.ba=function(a){return a.value};n.ta=function(a,b){a&&(a.value=b)};n.oc=ga;function Xr(a,b,c){Mr.call(this,a,b||Wr.Ja(),c)}y(Xr,Mr);n=Xr.prototype;n.ba=e("ub");n.ta=function(a){this.ub=a;this.U.ta(this.e(),a)};n.rg=e("zo");n.zd=function(a){this.zo=a;this.U.zd(this.e(),a)};n.k=function(){Xr.c.k.call(this);delete this.ub;delete this.zo};n.v=function(){Xr.c.v.call(this);if(this.Va&32){var a=this.$a();a&&this.C().g(a,"keyup",this.tc)}};n.tc=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.Ef(a):32==a.keyCode};Ir("vl-button",function(){return new Xr(null)});function Yr(){}ha(Yr);n=Yr.prototype;n.rc=ba();function Zr(a,b){a&&(a.tabIndex=b?0:-1)}n.w=function(a){return a.o().w("div",this.le(a).join(" "))};n.va=aa();n.Gb=function(a){return"DIV"==a.tagName};n.la=function(a,b){b.id&&a.nb(b.id);var c=this.K(),d=!1,f=yc(b);f&&z(f,function(b){b==c?d=!0:b&&(b==c+"-disabled"?a.Ga(!1):b==c+"-horizontal"?$r(a,as):b==c+"-vertical"&&$r(a,bs))},this);d||zc(b,c);cs(this,a,this.va(b));return b};
function cs(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.Ah(d);g&&(g.B=d,b.isEnabled()||g.Ga(!1),b.ra(g),g.la(d))}else d.nodeValue&&""!=Da(d.nodeValue)||c.removeChild(d);d=f}}n.Ah=function(a){return Kr(a)};n.vg=function(a){a=a.e();Nq(a,!0,B);A&&(a.hideFocus=!0);var b=this.rc();b&&gq(a,b)};n.$a=function(a){return a.e()};n.K=l("vl-container");
n.le=function(a){var b=this.K(),c=[b,a.nd==as?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};n.Op=function(){return bs};function ds(a,b,c){Xq.call(this,c);this.U=b||Yr.Ja();this.nd=a||this.U.Op()}y(ds,Xq);var as="horizontal",bs="vertical";n=ds.prototype;n.Zm=null;n.wc=null;n.U=null;n.nd=null;n.R=!0;n.xa=!0;n.cm=!0;n.yb=-1;n.mb=null;n.Vd=!1;n.Ss=!1;n.rx=!0;n.Hd=null;n.$a=function(){return this.Zm||this.U.$a(this)};n.Ch=function(){return this.wc||(this.wc=new nr(this.$a()))};n.w=function(){this.B=this.U.w(this)};n.va=function(){return this.U.va(this.e())};n.Gb=function(a){return this.U.Gb(a)};
n.Z=function(a){this.B=this.U.la(this,a);"none"==a.style.display&&(this.R=!1)};n.v=function(){ds.c.v.call(this);this.dc(function(a){a.J&&es(this,a)},this);var a=this.e();this.U.vg(this);this.ha(this.R,!0);this.C().g(this,"enter",this.ym).g(this,"highlight",this.zm).g(this,"unhighlight",this.Em).g(this,"open",this.hu).g(this,"close",this.Zt).g(a,"mousedown",this.pf).g(Wc(a),"mouseup",this.au).g(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Yt);this.Qd()&&fs(this,!0)};
function fs(a,b){var c=a.C(),d=a.$a();b?c.g(d,"focus",a.Lj).g(d,"blur",a.of).g(a.Ch(),"key",a.Oc):c.tb(d,"focus",a.Lj).tb(d,"blur",a.of).tb(a.Ch(),"key",a.Oc)}n.ga=function(){this.Me(-1);this.mb&&this.mb.Sa(!1);this.Vd=!1;ds.c.ga.call(this)};n.k=function(){ds.c.k.call(this);this.wc&&(this.wc.F(),this.wc=null);this.U=this.mb=this.Hd=this.Zm=null};n.ym=l(!0);
n.zm=function(a){var b=er(this,a.target);if(-1<b&&b!=this.yb){var c=cr(this,this.yb);c&&c.Uc(!1);this.yb=b;c=cr(this,this.yb);this.Vd&&c.setActive(!0);this.rx&&(this.mb&&c!=this.mb)&&(c.Va&64?c.Sa(!0):this.mb.Sa(!1))}b=this.e();null!=a.target.e()&&hq(b,"activedescendant",a.target.e().id)};n.Em=function(a){a.target==cr(this,this.yb)&&(this.yb=-1);this.e().removeAttribute("aria-activedescendant")};n.hu=function(a){(a=a.target)&&(a!=this.mb&&a.getParent()==this)&&(this.mb&&this.mb.Sa(!1),this.mb=a)};
n.Zt=function(a){a.target==this.mb&&(this.mb=null)};n.pf=function(a){this.xa&&(this.Vd=!0);var b=this.$a();b&&rd(b)?b.focus():a.preventDefault()};n.au=function(){this.Vd=!1};n.Yt=function(a){var b;a:{b=a.target;if(this.Hd)for(var c=this.e();b&&b!==c;){var d=b.id;if(d in this.Hd){b=this.Hd[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.pf(a);break;case "mouseup":b.qf(a);break;case "mouseover":b.Dm(a);break;case "mouseout":b.Cm(a);break;case "contextmenu":b.Mh(a)}};n.Lj=ba();
n.of=function(){this.Me(-1);this.Vd=!1;this.mb&&this.mb.Sa(!1)};n.Oc=function(a){return this.isEnabled()&&this.R&&(0!=br(this)||this.Zm)&&this.tc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
n.tc=function(a){var b=cr(this,this.yb);if(b&&"function"==typeof b.Oc&&b.Oc(a)||this.mb&&this.mb!=b&&"function"==typeof this.mb.Oc&&this.mb.Oc(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Qd())this.$a().blur();else return!1;break;case 36:gs(this);break;case 35:hs(this);break;case 38:if(this.nd==bs)is(this);else return!1;break;case 37:if(this.nd==as)dr(this)?js(this):is(this);else return!1;break;case 40:if(this.nd==bs)js(this);else return!1;break;
case 39:if(this.nd==as)dr(this)?is(this):js(this);else return!1;break;default:return!1}return!0};function es(a,b){var c=b.e(),c=c.id||(c.id=b.j());a.Hd||(a.Hd={});a.Hd[c]=b}n.ra=function(a,b){ds.c.ra.call(this,a,b)};n.Fd=function(a,b,c){a.Li|=2;a.Li|=64;!this.Qd()&&this.Ss||Sr(a,32,!1);Nr(a,!1);ds.c.Fd.call(this,a,b,c);a.J&&this.J&&es(this,a);b<=this.yb&&this.yb++};
n.removeChild=function(a,b){if(a=u(a)?$q(this,a):a){var c=er(this,a);-1!=c&&(c==this.yb?a.Uc(!1):c<this.yb&&this.yb--);(c=a.e())&&(c.id&&this.Hd)&&Oc(this.Hd,c.id)}a=ds.c.removeChild.call(this,a,b);Nr(a,!0);return a};function $r(a,b){if(a.e())throw Error("Component already rendered");a.nd=b}n.ha=function(a,b){if(b||this.R!=a&&this.dispatchEvent(a?"show":"hide")){this.R=a;var c=this.e();c&&(Z(c,a),this.Qd()&&Zr(this.$a(),this.xa&&this.R),b||this.dispatchEvent(this.R?"aftershow":"afterhide"));return!0}return!1};
n.isEnabled=e("xa");n.Ga=function(a){this.xa!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.xa=!0,this.dc(function(a){a.ws?delete a.ws:a.Ga(!0)})):(this.dc(function(a){a.isEnabled()?a.Ga(!1):a.ws=!0}),this.Vd=this.xa=!1),this.Qd()&&Zr(this.$a(),a&&this.R))};n.Qd=e("cm");n.ae=function(a){a!=this.cm&&this.J&&fs(this,a);this.cm=a;this.xa&&this.R&&Zr(this.$a(),a)};n.Me=function(a){(a=cr(this,a))?a.Uc(!0):-1<this.yb&&cr(this,this.yb).Uc(!1)};n.Uc=function(a){this.Me(er(this,a))};
function gs(a){ks(a,function(a,c){return(a+1)%c},br(a)-1)}function hs(a){ks(a,function(a,c){a--;return 0>a?c-1:a},0)}function js(a){ks(a,function(a,c){return(a+1)%c},a.yb)}function is(a){ks(a,function(a,c){a--;return 0>a?c-1:a},a.yb)}function ks(a,b,c){c=0>c?er(a,a.mb):c;var d=br(a);c=b.call(a,c,d);for(var f=0;f<=d;){var g=cr(a,c);if(g&&a.ap(g)){a.Me(c);break}f++;c=b.call(a,c,d)}}n.ap=function(a){return a.R&&a.isEnabled()&&!!(a.Va&2)};function ls(){}y(ls,Ar);ha(ls);ls.prototype.K=l("vl-menuheader");function ms(a,b,c){Mr.call(this,a,c||ls.Ja(),b);Sr(this,1,!1);Sr(this,2,!1);Sr(this,4,!1);Sr(this,32,!1);this.mc=1}y(ms,Mr);Ir("vl-menuheader",function(){return new ms(null)});function ns(){this.cp=[]}y(ns,Ar);ha(ns);function os(a,b){var c=a.cp[b];if(!c){switch(b){case 0:c=a.K()+"-highlight";break;case 1:c=a.K()+"-checkbox";break;case 2:c=a.K()+"-content"}a.cp[b]=c}return c}n=ns.prototype;n.rc=l("menuitem");n.w=function(a){var b=a.o().w("div",this.le(a).join(" "),ps(this,a.ka,a.o()));qs(this,a,b,!!(a.Va&8)||!!(a.Va&16));Cr(this,a,b);return b};n.va=function(a){return a&&a.firstChild};
n.la=function(a,b){var c=jd(b),d=os(this,2);c&&ib(yc(c),d)||b.appendChild(ps(this,b.childNodes,a.o()));ib(yc(b),"vl-option")&&(a.Tk(!0),this.Tk(a,b,!0));return ns.c.la.call(this,a,b)};n.Rb=function(a,b){var c=this.va(a),d=rs(this,a)?c.firstChild:null;ns.c.Rb.call(this,a,b);d&&!rs(this,a)&&c.insertBefore(d,c.firstChild||null)};function ps(a,b,c){a=os(a,2);return c.w("div",a,b)}n.Tk=function(a,b,c){b&&(gq(b,c?"menuitemcheckbox":this.rc()),qs(this,a,b,c))};
function rs(a,b){var c=a.va(b);if(c){var c=c.firstChild,d=os(a,1);return!!c&&ib(yc(c),d)}return!1}function qs(a,b,c,d){d!=rs(a,c)&&(Ec(c,"vl-option",d),c=a.va(c),d?(a=os(a,1),c.insertBefore(b.o().w("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}n.zh=function(a){switch(a){case 2:return os(this,0);case 16:case 8:return"vl-option-selected";default:return ns.c.zh.call(this,a)}};
n.sm=function(a){var b=os(this,0);switch(a){case "vl-option-selected":return 16;case b:return 2;default:return ns.c.sm.call(this,a)}};n.K=l("vl-menuitem");function ss(a,b,c,d){Mr.call(this,a,d||ns.Ja(),c);this.ta(b)}y(ss,Mr);n=ss.prototype;n.ba=function(){var a=this.kn;return null!=a?a:this.mg()};n.ta=da("kn");n.Tk=function(a){Sr(this,16,a);var b=this.e();b&&this.U.Tk(this,b,a)};n.mg=function(){var a=this.ka;return ja(a)?(a=db(a,function(a){var c=yc(a);return ib(c,"vl-menuitem-accel")||ib(c,"vl-menuitem-mnemonic-separator")?"":vd(a)}).join(""),Ca(a)):ss.c.mg.call(this)};
n.qf=function(a){var b=this.getParent();if(b){var c=b.sr;b.sr=null;if(b=c&&la(a.clientX))b=new E(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}ss.c.qf.call(this,a)};n.tc=function(a){return a.keyCode==this.Mq&&this.Ef(a)?!0:ss.c.tc.call(this,a)};n.Pt=e("Mq");Ir("vl-menuitem",function(){return new ss(null)});function ts(){}y(ts,Ar);ha(ts);ts.prototype.w=function(a){return a.o().w("div",this.K())};ts.prototype.la=function(a,b){b.id&&a.nb(b.id);if("HR"==b.tagName){var c=b;b=this.w(a);c.parentNode&&c.parentNode.insertBefore(b,c);id(c)}else zc(b,this.K());return b};ts.prototype.Rb=ba();ts.prototype.K=l("vl-menuseparator");function us(a,b){Mr.call(this,null,a||ts.Ja(),b);Sr(this,1,!1);Sr(this,2,!1);Sr(this,4,!1);Sr(this,32,!1);this.mc=1}y(us,Mr);us.prototype.v=function(){us.c.v.call(this);var a=this.e();gq(a,"separator")};Ir("vl-menuseparator",function(){return new us});function vs(){}y(vs,Yr);ha(vs);n=vs.prototype;n.rc=l("menu");n.Gb=function(a){return"UL"==a.tagName||vs.c.Gb.call(this,a)};n.Ah=function(a){return"HR"==a.tagName?new us:vs.c.Ah.call(this,a)};n.bf=function(a,b){return kd(a.e(),b)};n.K=l("vl-menu");n.vg=function(a){vs.c.vg.call(this,a);a=a.e();hq(a,"haspopup","true")};Ir("vl-menuseparator",function(){return new us});function ws(a,b){ds.call(this,bs,b||vs.Ja(),a);this.ae(!1)}y(ws,ds);n=ws.prototype;n.xl=!0;n.Ts=!1;n.K=function(){return this.U.K()};n.bf=function(a){if(this.U.bf(this,a))return!0;for(var b=0,c=br(this);b<c;b++){var d=cr(this,b);if("function"==typeof d.bf&&d.bf(a))return!0}return!1};n.We=function(a){this.ra(a,!0)};n.Zf=function(a,b){this.Fd(a,b,!0)};n.removeItem=function(a){(a=this.removeChild(a,!0))&&a.F()};n.Bh=function(a){return cr(this,a)};n.mm=function(){return br(this)};
n.ha=function(a,b,c){(b=ws.c.ha.call(this,a,b))&&(a&&this.J&&this.xl)&&this.$a().focus();this.sr=a&&c&&la(c.clientX)?new E(c.clientX,c.clientY):null;return b};n.ym=function(a){this.xl&&this.$a().focus();return ws.c.ym.call(this,a)};n.ap=function(a){return(this.Ts||a.isEnabled())&&a.R&&!!(a.Va&2)};n.Z=function(a){var b=this.U,c;c=this.o();c=Xc(c.fa,"div",b.K()+"-content",a);for(var d=c.length,f=0;f<d;f++)cs(b,this,c[f]);ws.c.Z.call(this,a)};
n.tc=function(a){var b=ws.c.tc.call(this,a);b||this.dc(function(c){!b&&(c.Pt&&c.Mq==a.keyCode)&&(this.isEnabled()&&this.Uc(c),b=c.Oc(a))},this);return b};n.Me=function(a){ws.c.Me.call(this,a);if(a=cr(this,a)){var b=a.e();a=this.e();var c=Cq(b),d=Cq(a),f=Qq(a),g=c.x-d.x-f.left,c=c.y-d.y-f.top,d=a.clientHeight-b.offsetHeight,f=a.scrollLeft,h=a.scrollTop,f=f+Math.min(g,Math.max(g-(a.clientWidth-b.offsetWidth),0)),h=h+Math.min(c,Math.max(c-d,0)),b=new E(f,h);a.scrollLeft=b.x;a.scrollTop=b.y}};function xs(){}y(xs,Hr);ha(xs);n=xs.prototype;n.w=function(a){var b={"class":"vl-inline-block "+this.le(a).join(" ")},b=a.o().w("div",b,this.kh(a.ka,a.o()));this.zd(b,a.rg());Cr(this,a,b);return b};n.rc=l("button");n.va=function(a){return a&&a.firstChild.firstChild};n.kh=function(a,b){return b.w("div","vl-inline-block "+(this.K()+"-outer-box"),b.w("div","vl-inline-block "+(this.K()+"-inner-box"),a))};n.Gb=function(a){return"DIV"==a.tagName};
n.la=function(a,b){ys(b,!0);ys(b,!1);var c;a:{c=a.o().Pp(b);var d=this.K()+"-outer-box";if(c&&ib(yc(c),d)&&(c=a.o().Pp(c),d=this.K()+"-inner-box",c&&ib(yc(c),d))){c=!0;break a}c=!1}c||b.appendChild(this.kh(b.childNodes,a.o()));zc(b,"vl-inline-block",this.K());return xs.c.la.call(this,a,b)};n.K=l("vl-custom-button");
function ys(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Da(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):Ea(f);break}}else break;c=d}};function zs(){}y(zs,xs);ha(zs);B&&(zs.prototype.Rb=function(a,b){var c=zs.c.va.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,Uc(a)),f=c.parentNode;f&&f.replaceChild(d,c)}});n=zs.prototype;n.va=function(a){a=zs.c.va.call(this,a&&a.firstChild);B&&(a&&a.__goog_wrapper_div)&&(a=a.firstChild);return a};n.oc=function(a,b,c){64!=b&&zs.c.oc.call(this,a,b,c)};
n.la=function(a,b){var c=Xc(document,"*","vl-menu",b)[0];if(c){Z(c,!1);Wc(c).body.appendChild(c);var d=new ws;d.la(c);a.Ei(d)}return zs.c.la.call(this,a,b)};n.kh=function(a,b){return zs.c.kh.call(this,[this.createCaption(a,b),b.w("div","vl-inline-block "+(this.K()+"-dropdown"),"Â ")],b)};n.createCaption=function(a,b){return b.w("div","vl-inline-block "+(this.K()+"-caption"),a)};n.K=l("vl-menu-button");function As(a,b,c,d){Xr.call(this,a,c||zs.Ja(),d);Sr(this,64,!0);this.qk=new zr(null,5);b&&this.Ei(b);this.Xu=null;this.da=new qh(500);!Ei&&!Fi||D("533.17.9")||(this.Zj=!0)}y(As,Xr);n=As.prototype;n.Zj=!1;n.Fx=!1;n.v=function(){As.c.v.call(this);this.N&&Bs(this,this.N,!0);hq(this.B,"haspopup",!!this.N)};n.ga=function(){As.c.ga.call(this);if(this.N){this.Sa(!1);this.N.ga();Bs(this,this.N,!1);var a=this.N.e();a&&id(a)}};
n.k=function(){As.c.k.call(this);this.N&&(this.N.F(),delete this.N);delete this.wr;this.da.F()};n.pf=function(a){As.c.pf.call(this,a);this.Pc()&&(this.Sa(!Fr(this,64),a),this.N&&(this.N.Vd=Fr(this,64)))};n.qf=function(a){As.c.qf.call(this,a);this.N&&!this.Pc()&&(this.N.Vd=!1)};n.Ef=function(){this.setActive(!1);return!0};n.$t=function(a){this.N&&(this.N.R&&!this.bf(a.target))&&this.Sa(!1)};n.bf=function(a){return a&&kd(this.e(),a)||this.N&&this.N.bf(a)||!1};
n.tc=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.N&&this.N.R){var b=this.N.Oc(a);return 27==a.keyCode?(this.Sa(!1),!0):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.Sa(!0),!0):!1};n.Am=function(){this.Sa(!1)};n.fu=function(){this.Pc()||this.Sa(!1)};n.of=function(a){this.Zj||this.Sa(!1);As.c.of.call(this,a)};function Cs(a){a.N||a.Ei(new ws(a.o()));return a.N||null}
n.Ei=function(a){var b=this.N;if(a!=b&&(b&&(this.Sa(!1),this.J&&Bs(this,b,!1),delete this.N),this.J&&hq(this.B,"haspopup",!!a),a)){this.N=a;a.Kf(this);a.ha(!1);var c=this.Zj;(a.xl=c)&&a.ae(!0);this.J&&Bs(this,a,!0)}return b};function Ds(a,b){a.wr=b;Es(a)}n.We=function(a){Cs(this).ra(a,!0)};n.Zf=function(a,b){Cs(this).Fd(a,b,!0)};n.removeItem=function(a){(a=Cs(this).removeChild(a,!0))&&a.F()};n.Bh=function(a){return this.N?cr(this.N,a):null};n.mm=function(){return this.N?br(this.N):0};
n.ha=function(a,b){var c=As.c.ha.call(this,a,b);c&&!this.R&&this.Sa(!1);return c};n.Ga=function(a){As.c.Ga.call(this,a);this.isEnabled()||this.Sa(!1)};
n.Sa=function(a,b){As.c.Sa.call(this,a);if(this.N&&Fr(this,64)==a){if(a)this.N.J||(this.Fx?this.N.Qb(this.e().parentNode):this.N.Qb()),this.Vf=Bq(this.e()),this.Zo=Kq(this.e()),Es(this),this.N.Me(-1);else{this.setActive(!1);this.N.Vd=!1;var c=this.e();c&&hq(c,"activedescendant","");null!=this.Ak&&(this.Ak=void 0,(c=this.N.e())&&Eq(c,"",""))}this.N.ha(a,!1,b);if(!this.Ic){var c=this.C(),d=a?c.g:c.tb;d.call(c,wd(this.o()),"mousedown",this.$t,!0);this.Zj&&d.call(c,this.N,"blur",this.fu);d.call(c,this.da,
rh,this.Xw);a?this.da.start():this.da.stop()}}};function Es(a){if(a.N.J){var b=a.wr||a.e(),c=a.qk;a.qk.element=b;b=a.N.e();a.N.R||(b.style.visibility="hidden",Z(b,!0));!a.Ak&&(a.qk.Kt&&a.qk.dk&32)&&(a.Ak=Iq(b));c.Ge(b,c.nj^1,a.Xu,a.Ak);a.N.R||(Z(b,!1),b.style.visibility="visible")}}n.Xw=function(){var a=Kq(this.e()),b=Bq(this.e());pq(this.Zo,a)&&(this.Vf==b||this.Vf&&b&&this.Vf.top==b.top&&this.Vf.right==b.right&&this.Vf.bottom==b.bottom&&this.Vf.left==b.left)||(this.Zo=a,this.Vf=b,Es(this))};
function Bs(a,b,c){var d=a.C();c=c?d.g:d.tb;c.call(d,b,"action",a.Am);c.call(d,b,"highlight",a.zm);c.call(d,b,"unhighlight",a.Em)}n.zm=function(a){var b=this.e();null!=a.target.e()&&hq(b,"activedescendant",a.target.e().id)};n.Em=function(){if(!cr(this.N,this.N.yb)){var a=this.e();hq(a,"activedescendant","")}};Ir("vl-menu-button",function(){return new As(null)});function Fs(){}y(Fs,zs);ha(Fs);Fs.prototype.va=function(a){return a?Xc(document,"*",this.K()+"-caption",a)[0]:null};Fs.prototype.Gb=function(a){return"DIV"==a.tagName};Fs.prototype.kh=function(a,b){var c=this.K();return b.w("div","vl-inline-block ",b.w("div",[c+"-caption","vl-inline-block"],a),b.w("div",[c+"-dropdown","vl-inline-block"]))};Fs.prototype.K=l("vl-css3-button");Ir("vl-css3-menu-button",function(){return new As(null,null,Fs.Ja())});function Gs(a,b,c,d,f){Xq.call(this,f);this.width=a;this.height=b;this.df=c||null;this.Nl=d||null}y(Gs,Xq);n=Gs.prototype;n.jh=null;n.lj=0;n.mj=0;n.fc=function(){return this.lf()};n.lf=function(){return this.J?Hq(this.e()):la(this.width)&&la(this.height)?new Gc(this.width,this.height):null};function Hs(a){var b=a.lf();return b?b.width/(a.df?new Gc(a.df,a.Nl):a.lf()).width:0};function Is(a,b){O.call(this);this.B=a;this.xm=b;this[Rg]=!1}y(Is,O);n=Is.prototype;n.xm=null;n.B=null;n.e=e("B");n.addEventListener=function(a,b,c,d){$g(this.B,a,b,c,d)};n.removeEventListener=function(a,b,c,d){fh(this.B,a,b,c,d)};n.k=function(){Is.c.k.call(this);jh(this.B)};function Js(a,b,c,d){Is.call(this,a,b);this.Zx=c;a=this.xm;b=this.e();c?(b.setAttribute("stroke",c.gt),c=c.Wp(),u(c)&&-1!=c.indexOf("px")?b.setAttribute("stroke-width",parseFloat(c)/Hs(a)):b.setAttribute("stroke-width",c)):b.setAttribute("stroke","none");this.fill=d;c=this.xm;a=this.e();if(d instanceof Ks){b="lg-"+d.xs+"-"+d.zs+"-"+d.ys+"-"+d.As+"-"+d.ep+"-"+d.fp;var f=b in c.ef?c.ef[b]:null;if(!f){var f=Ls(c,"linearGradient",{x1:d.xs,y1:d.zs,x2:d.ys,y2:d.As,gradientUnits:"userSpaceOnUse"}),g="stop-color:"+
d.ep;la(d.qr)&&(g+=";stop-opacity:"+d.qr);g=Ls(c,"stop",{offset:"0%",style:g});f.appendChild(g);g="stop-color:"+d.fp;la(d.rr)&&(g+=";stop-opacity:"+d.rr);d=Ls(c,"stop",{offset:"100%",style:g});f.appendChild(d);b in c.ef?f=c.ef[b]:(d="_svgdef_"+Ms++,f.setAttribute("id",d),c.ef[b]=d,c.rj.appendChild(f),f=d)}a.setAttribute("fill","url(#"+f+")")}else a.setAttribute("fill","none")}y(Js,Is);Js.prototype.fill=null;Js.prototype.Zx=null;function Ns(a,b){Is.call(this,a,b)}y(Ns,Is);function Os(a,b,c,d){Js.call(this,a,b,c,d)}y(Os,Js);function Ps(){};function Ks(a,b,c,d,f,g,h,k){this.xs=a;this.zs=b;this.ys=c;this.As=d;this.ep=f;this.fp=g;this.qr=t(h)?h:null;this.rr=t(k)?k:null}y(Ks,Ps);function Qs(a,b){this.jy=a;this.gt=b}Qs.prototype.Wp=e("jy");function Rs(a,b){Is.call(this,a,b)}y(Rs,Ns);Rs.prototype.clear=function(){hd(this.e())};function Ss(a,b,c,d){Js.call(this,a,b,c,d)}y(Ss,Os);function Ts(a,b,c,d,f){Gs.call(this,a,b,c,d,f);this.ef={};this.Eo=C&&!D(526);this.gc=new Hh(this)}var Us;y(Ts,Gs);var Ms=0;function Ls(a,b,c){a=a.xb.fa.createElementNS("http://www.w3.org/2000/svg",b);if(c)for(var d in c)a.setAttribute(d,c[d]);return a}n=Ts.prototype;
n.w=function(){var a=Ls(this,"svg",{width:this.width,height:this.height,overflow:"hidden"}),b=Ls(this,"g");this.rj=Ls(this,"defs");this.jh=new Rs(b,this);a.appendChild(this.rj);a.appendChild(b);this.B=a;if(this.df||this.lj||this.mj)this.e().setAttribute("preserveAspectRatio","none"),this.Eo?this.il():this.e().setAttribute("viewBox",this.lj+" "+this.mj+" "+(this.df?this.df+" "+this.Nl:""))};
n.il=function(){if(this.J&&(this.df||this.lj||!this.mj)){var a=this.lf();if(0==a.width)this.e().style.visibility="hidden";else{this.e().style.visibility="";var b=-this.lj,c=-this.mj,d=a.width/this.df,a=a.height/this.Nl;this.jh.e().setAttribute("transform","scale("+d+" "+a+") translate("+b+" "+c+")")}}};
n.lf=function(){if(!B)return this.J?Hq(this.e()):Ts.c.lf.call(this);var a=this.width,b=this.height,c=u(a)&&-1!=a.indexOf("%"),d=u(b)&&-1!=b.indexOf("%");if(!this.J&&(c||d))return null;var f,g;c&&(f=this.e().parentNode,g=Iq(f),a=parseFloat(a)*g.width/100);d&&(f=f||this.e().parentNode,g=g||Iq(f),b=parseFloat(b)*g.height/100);return new Gc(a,b)};n.clear=function(){this.jh.clear();hd(this.rj);this.ef={}};
n.v=function(){var a=this.lf();Ts.c.v.call(this);a||this.dispatchEvent("resize");if(this.Eo){var a=this.width,b=this.height;"string"==typeof a&&(-1!=a.indexOf("%")&&"string"==typeof b&&-1!=b.indexOf("%"))&&this.gc.g(Vs(),rh,this.il);this.il()}};n.ga=function(){Ts.c.ga.call(this);this.Eo&&this.gc.tb(Vs(),rh,this.il)};n.k=function(){delete this.ef;delete this.rj;delete this.jh;Ts.c.k.call(this)};function Vs(){Us||(Us=new qh(400),Us.start());return Us};try{eval("document.namespaces")}catch(Ws){};function Xs(a,b){this.size=a;this.wt=b}Xs.prototype.bold=!1;Xs.prototype.Lu=!1;function Ys(){}y(Ys,Ar);ha(Ys);n=Ys.prototype;n.rc=ba();n.la=function(a,b){Nr(a,!1);a.Gd&=-256;Sr(a,32,!1);Ys.c.la.call(this,a,b);a.Rb(b.value);return b};n.w=function(a){Nr(a,!1);a.Gd&=-256;Sr(a,32,!1);return a.o().w("textarea",{"class":this.le(a).join(" "),disabled:!a.isEnabled()},a.ka||"")};n.Gb=function(a){return"TEXTAREA"==a.tagName};n.Lf=ga;n.Qd=function(a){return a.isEnabled()};n.ae=ga;n.Sb=function(a,b,c){Ys.c.Sb.call(this,a,b,c);(a=a.e())&&1==b&&(a.disabled=c)};n.oc=ga;
n.Rb=function(a,b){a&&(a.value=b)};n.K=l("vl-textarea");function Zs(a,b,c){Mr.call(this,a,b||Ys.Ja(),c);Nr(this,!1);this.Le(!0);a||(this.ka="")}y(Zs,Mr);var $s=B||C;n=Zs.prototype;n.xg=!1;n.pe=0;n.Gq=0;n.Kq=0;n.dq=!1;n.sk=!1;n.Wn=!1;n.Vn=!1;function at(a){return a.ri.top+a.ri.bottom+a.Yo.top+a.Yo.bottom}function bt(a){var b=a.Kq,c=a.e();b&&(c&&a.sk)&&(b-=at(a));return b}function ct(a){var b=a.Gq,c=a.e();b&&(c&&a.sk)&&(b-=at(a));return b}n.ta=function(a){this.Rb(String(a))};n.ba=function(){return this.e().value};
n.Rb=function(a){Zs.c.Rb.call(this,a);this.e()&&this.tg()};n.Ga=function(a){Zs.c.Ga.call(this,a);this.e().disabled=!a};n.v=function(){Zs.c.v.call(this);var a=this.e();qq(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.ri=Pq(a);this.Yo=Qq(a);this.C().g(a,"scroll",this.tg).g(a,"focus",this.tg).g(a,"keyup",this.tg).g(a,"mouseup",this.$u);this.e()&&this.tg()};
function dt(a){if(!a.dq){var b=a.e().cloneNode(!1);qq(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});wd(a.o()).body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Wn=d>c;b.style.borderWidth="10px";a.Vn=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.sk=!0);id(b);a.dq=!0}var b=a.e(),c=a.e().scrollHeight,f=a.e(),d=f.offsetHeight-f.clientHeight;if(!a.Wn)var g=a.ri,d=d-(g.top+g.bottom);
a.Vn||(f=Qq(f),d-=f.top+f.bottom);c+=0<d?d:0;a.sk?c-=at(a):(a.Wn||(d=a.ri,c+=d.top+d.bottom),a.Vn||(a=Qq(b),c+=a.top+a.bottom));return c}function et(a,b){a.pe!=b&&(a.pe=b,a.e().style.height=b+"px")}function ft(a){a=a.e();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.tg=function(){if(!this.xg){var a=!1;this.xg=!0;var b=this.e(),c=this.pe;if(b.scrollHeight){var d=!1,f=!1,g=dt(this),h=b.offsetHeight,k=bt(this),m=ct(this);k&&g<k?(et(this,k),d=!0):m&&g>m?(et(this,m),b.style.overflowY="",f=!0):h!=g?et(this,g):this.pe||(this.pe=g);d||(f||!$s)||(a=!0)}else ft(this);this.xg=!1;a&&(a=this.e(),this.xg||(this.xg=!0,(d=a.scrollHeight)?(f=dt(this),b=bt(this),g=ct(this),b&&f<=b||g&&f>=g||(g=this.ri,a.style.paddingBottom=g.bottom+1+"px",dt(this)==f&&(a.style.paddingBottom=
g.bottom+d+"px",a.scrollTop=0,d=dt(this)-d,d>=b?et(this,d):et(this,b)),a.style.paddingBottom=g.bottom+"px")):ft(this),this.xg=!1));c!=this.pe&&this.dispatchEvent("resize")}};n.$u=function(){var a=this.e(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.pe&&(this.pe=this.Kq=b)};function gt(a,b,c,d){Mr.call(this,"",null,d);this.ca=a;this.D=null;this.xa=!0;null!=b&&(this.xa=b);this.mq=c;this.Bi=this.Db=null;this.Qm="";this.wm=new nr;Pr(this,"vl-msg-input")}y(gt,Mr);n=gt.prototype;n.Vr=function(a){this.D=a;this.Db&&this.J&&this.Db.Rb(a.zp)};n.Qx=function(a){this.ca.qb(a).n(function(a){this.Vr(a)},this)};n.w=function(){gt.c.w.call(this);this.lh()};
n.lh=function(){var a=this.Db=new Zs("",null,this.o());a.Gq=300;a.e()&&a.tg();this.ra(this.Db,!0);this.Bi=new Xr("Send",null,this.o());Pr(this.Bi,"vl-textarea-submit");this.ra(this.Bi,!0)};
n.v=function(){Nr(this,!1);gt.c.v.call(this);this.C().g(this,"action",this.Kw,!1,this).g(this,"resize",this.lb,!1,this).g(this.wm,"key",this.Lv,!0,this);or(this.wm,this.xb.fa,!0);Mi()||this.Db.e().focus();this.Qm=Hq(this.Db.e()).height+"px";this.xa||(this.Db.Ga(!1),this.Db.Le(!1),this.Bi.Ga(!1),this.Bi.ha(!1));this.mq?this.Db.ta(this.mq):this.D&&this.Db.Rb(this.D.zp);var a=this.Qm;Gq(this.Db.e(),a);this.lb()};n.ga=function(){gt.c.ga.call(this);this.wm.detach()};
n.Kw=function(){var a=this.Db.ba();this.D&&!Ba(Wa(a))&&(this.D.postMessage(a),this.Db.ta(""),a=this.Qm,Gq(this.Db.e(),a),this.lb())};n.lb=function(){var a=this.e(),b=Hq(this.Db.e()).height;Gq(a,b);!wc||A&&D("9")&&!D("10")&&q.SVGElement&&a instanceof q.SVGElement?(a=a.parentNode,a=na(a)&&1==a.nodeType?a:null):a=a.parentElement;Gq(a,b)};n.Lv=function(a){!jr(a)||a.ctrlKey&&67===a.keyCode||a.ctrlKey&&86===a.keyCode||Mi()||this.Db.e().focus()};
n.tc=function(a){this.D&&jr(a)&&this.D.kq();return a.shiftKey?!1:gt.c.tc.call(this,a)};function ht(a,b){this.dp=a;this.dp.Bo=this;if(this.Lb=b)b.L=this;this.I=new dj(null,a.I);var c;if(Ao()){c=new zo;var d=this.I.get("pathPrefix")||"";c.Gg=String(d);this.I.get("html5History")&&(d=c,!1!=d.Ti&&(fh(d.W,"hashchange",d.oi,!1,d),d.Ti=!1))}else c=new Qp;this.tu=c;this.Ki=new Op}n=ht.prototype;n.M=function(){return this.dp.M()};n.pb=e("Lb");n.ec=e("tu");function en(a){return a.Ki}n.jt=function(a,b,c){return new gt(a,b,c)};
n.lt=function(a,b){var c,d,f=new Ts("100%","100%");f.w();var g=new Ks(0,0,0,80,"#26A2DF","#2A87Cb");d=new Xs(80,"Helvetica");d.bold=!0;var h;h=0+d.size/2;c=null;var k=180*Math.atan2(h-h,0)/Math.PI%360,k=Math.round(0>360*k?k+360:k),m=h-h;Math.round(Math.sqrt(0+m*m));var p=d.size,m={"font-family":d.wt,"font-size":p},r=Math.round(0.85*p),p=Math.round(h-p/2+r);m.x=0;m.y=p;d.bold&&(m["font-weight"]="bold");d.Lu&&(m["font-style"]="italic");0!=k&&(m.transform="rotate("+k+" 0 "+h+")");d=Ls(f,"text",m);d.appendChild(f.xb.fa.createTextNode(a));
null==c&&(B&&Ab)&&(c=new Qs(1,"black"));c=new Ss(d,f,c,g);f.jh.e().appendChild(c.e());g=document.getElementById(b);f.Qb(g);d=c.e().getBBox();c=d.width;d=d.height;qq(g,{width:c+"px",height:d+"px"});return f};Ir("vl-label-input",function(){return new fr});Ir("vl-single-label-input",function(){return new fr});var Do="cmd:signin",Al="cmd:outgoingcall",wl="cmd:incomingcall";function it(a,b,c){P.call(this,"cmd:nav",c);this.href=a;this.replaceState=b||!1}y(it,P);function jt(a,b,c){P.call(this,"cmd:edituser",c);this.Da=a;this.hy=b}y(jt,P);function kt(a,b,c){P.call(this,a,c);this.map=b||null}y(kt,P);kt.prototype.get=function(a){return this.map?this.map.get(a):null};function lt(a,b){P.call(this,"cmd:signupexists",b);this.ig=a}y(lt,P);function mt(a,b,c){O.call(this);this.target=a;this.handle=b||a;this.hk=c||new oq(NaN,NaN,NaN,NaN);this.fa=Wc(a);this.P=new Hh(this);Dg(this,ta(Eg,this.P));$g(this.handle,["touchstart","mousedown"],this.js,!1,this)}y(mt,O);var nt=A||B&&D("1.9.3");n=mt.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.ls=0;n.ms=0;n.fg=0;n.gg=0;n.xa=!0;n.hf=!1;n.gq=0;n.Zu=0;n.vu=!1;n.Fo=!1;n.C=e("P");n.Ga=da("xa");
n.k=function(){mt.c.k.call(this);fh(this.handle,["touchstart","mousedown"],this.js,!1,this);this.P.ud();nt&&this.fa.releaseCapture();this.handle=this.target=null};function ot(a){t(a.Ie)||(a.Ie=Dq(a.target));return a.Ie}
n.js=function(a){var b="mousedown"==a.type;if(!this.xa||this.hf||b&&!Qg(a))this.dispatchEvent("earlycancel");else{pt(a);if(0==this.gq)if(this.dispatchEvent(new qt("start",this,a.clientX,a.clientY,a)))this.hf=!0,a.preventDefault();else return;else a.preventDefault();var b=this.fa,c=b.documentElement,d=!nt;this.P.g(b,["touchmove","mousemove"],this.gu,d);this.P.g(b,["touchend","mouseup"],this.uj,d);nt?(c.setCapture(!1),this.P.g(c,"losecapture",this.uj)):this.P.g(bd(b),"blur",this.uj);A&&this.vu&&this.P.g(b,
"dragstart",Mg);this.Jx&&this.P.g(this.Jx,"scroll",this.Jw,d);this.clientX=this.ls=a.clientX;this.clientY=this.ms=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Fo?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=wq(a)||(c=Wc(a).documentElement),c?(B?(d=Qq(c),b+=d.left):Rb(8)&&(d=Qq(c),b-=d.left),a=Dq(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.fg=a;this.gg=this.target.offsetTop;this.Hn=zd(Uc(this.fa));this.Zu=ua()}};
n.uj=function(a,b){this.P.ud();nt&&this.fa.releaseCapture();if(this.hf){pt(a);this.hf=!1;var c=rt(this,this.fg),d=st(this,this.gg);this.dispatchEvent(new qt("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function pt(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.re(a.qc.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.re(a.qc.changedTouches[0],a.currentTarget)}
n.gu=function(a){if(this.xa){pt(a);var b=(this.Fo&&ot(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.hf){var d=this.ls-this.clientX,f=this.ms-this.clientY;if(d*d+f*f>this.gq)if(this.dispatchEvent(new qt("start",this,a.clientX,a.clientY,a)))this.hf=!0;else{this.Ic||this.uj(a);return}}c=tt(this,b,c);b=c.x;c=c.y;this.hf&&this.dispatchEvent(new qt("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(ut(this,a,b,c),a.preventDefault())}};function tt(a,b,c){var d=zd(Uc(a.fa));b+=d.x-a.Hn.x;c+=d.y-a.Hn.y;a.Hn=d;a.fg+=b;a.gg+=c;b=rt(a,a.fg);a=st(a,a.gg);return new E(b,a)}n.Jw=function(a){var b=tt(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ut(this,a,b.x,b.y)};function ut(a,b,c,d){a.Fo&&ot(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new qt("drag",a,b.clientX,b.clientY,b,c,d))}
function rt(a,b){var c=a.hk,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function st(a,b){var c=a.hk,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function qt(a,b,c,d,f,g,h,k){Lg.call(this,a);this.clientX=c;this.clientY=d;this.wy=f;this.left=t(g)?g:b.fg;this.top=t(h)?h:b.gg;this.Ly=b;this.Ky=!!k}y(qt,Lg);function vt(a){O.call(this);this.B=a;a=A?"focusout":"blur";this.Ru=$g(this.B,A?"focusin":"focus",this,!A);this.Su=$g(this.B,a,this,!A)}y(vt,O);vt.prototype.handleEvent=function(a){var b=new Og(a.qc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};vt.prototype.k=function(){vt.c.k.call(this);hh(this.Ru);hh(this.Su);delete this.B};function wt(a,b){Xq.call(this,b);this.gy=!!a;this.Yh=null}y(wt,Xq);n=wt.prototype;n.bm=null;n.R=!1;n.ac=null;n.Fb=null;n.Dc=null;n.El=!1;n.K=l("vl-modalpopup");n.jf=e("ac");n.w=function(){wt.c.w.call(this);var a=this.e();zc(a,this.K());sd(a,!0);Z(a,!1);xt(this);yt(this)};
function xt(a){if(a.gy&&!a.Fb){var b;b=a.o().w("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.Fb=b;a.Fb.className=a.K()+"-bg";Z(a.Fb,!1);Lq(a.Fb,0)}a.ac||(a.ac=a.o().w("div",a.K()+"-bg"),Z(a.ac,!1))}function yt(a){a.Dc||(a.Dc=a.o().createElement("span"),Z(a.Dc,!1),sd(a.Dc,!0),a.Dc.style.position="absolute")}n.Ir=function(){this.El=!1};n.Gb=function(a){return!!a&&"DIV"==a.tagName};
n.Z=function(a){wt.c.Z.call(this,a);zc(this.e(),this.K());xt(this);yt(this);Z(this.e(),!1)};n.v=function(){if(this.Fb){var a=this.e();a.parentNode&&a.parentNode.insertBefore(this.Fb,a)}a=this.e();a.parentNode&&a.parentNode.insertBefore(this.ac,a);wt.c.v.call(this);a=this.e();a.parentNode&&a.parentNode.insertBefore(this.Dc,a.nextSibling);this.bm=new vt(wd(this.o()));this.C().g(this.bm,"focusin",this.un);zt(this,!1)};
n.ga=function(){this.R&&this.ha(!1);Eg(this.bm);wt.c.ga.call(this);id(this.Fb);id(this.ac);id(this.Dc)};
n.ha=function(a){if(a!=this.R)if(this.Gf&&this.Gf.stop(),this.bg&&this.bg.stop(),this.Ff&&this.Ff.stop(),this.ag&&this.ag.stop(),this.J&&zt(this,a),a){if(this.dispatchEvent("beforeshow")){try{this.Yh=wd(this.o()).activeElement}catch(b){}this.Tn();this.Ge();this.C().g(yd(this.o()),"resize",this.Tn);At(this,!0);this.focus();this.R=!0;this.Gf&&this.bg?(eh(this.Gf,"end",this.xk,!1,this),this.bg.play(),this.Gf.play()):this.xk()}}else if(this.dispatchEvent("beforehide")){this.C().tb(yd(this.o()),"resize",
this.Tn);this.R=!1;this.Ff&&this.ag?(eh(this.Ff,"end",this.wk,!1,this),this.ag.play(),this.Ff.play()):this.wk();try{var c=wd(this.o()).body,d=wd(this.o()).activeElement||c;this.Yh&&(d==c&&this.Yh!=c)&&this.Yh.focus()}catch(f){}this.Yh=null}};function zt(a,b){for(var c=wd(a.o()).body.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var d=c;b?hq(d,"hidden",b):d.removeAttribute("aria-hidden")}c=a.B;(d=!b)?hq(c,"hidden",d):c.removeAttribute("aria-hidden")}
function Bt(a,b,c,d,f){a.Gf=b;a.Ff=c;a.bg=d;a.ag=f}function At(a,b){a.Fb&&Z(a.Fb,b);a.ac&&Z(a.ac,b);Z(a.e(),b);Z(a.Dc,b)}n.xk=function(){this.dispatchEvent("show")};n.wk=function(){At(this,!1);this.dispatchEvent("hide")};n.focus=function(){this.Hp()};
n.Tn=function(){this.Fb&&Z(this.Fb,!1);this.ac&&Z(this.ac,!1);var a=wd(this.o()),b=$c(bd(a)||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.Fb&&(Z(this.Fb,!0),Eq(this.Fb,c,a));this.ac&&(Z(this.ac,!0),Eq(this.ac,c,a))};
n.Ge=function(){var a=wd(this.o()),b=bd(a)||window;if("fixed"==wq(this.e()))var c=a=0;else c=zd(this.o()),a=c.x,c=c.y;var d=Hq(this.e()),b=$c(b),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);xq(this.e(),a,c);xq(this.Dc,a,c)};n.un=function(a){this.El?this.Ir():a.target==this.Dc&&H(this.Hp,0,this)};n.Hp=function(){try{A&&wd(this.o()).body.focus(),this.e().focus()}catch(a){}};
n.k=function(){Eg(this.Gf);this.Gf=null;Eg(this.Ff);this.Ff=null;Eg(this.bg);this.bg=null;Eg(this.ag);this.ag=null;wt.c.k.call(this)};function Ct(a,b,c){wt.call(this,b,c);this.Hb=a||"modal-dialog";this.Xa=Dt(Dt(new Et,Ft,!0),Gt,!1,!0)}y(Ct,wt);n=Ct.prototype;n.ut=!0;n.Im=!0;n.Nq=!0;n.qt=!0;n.cj=0.5;n.Qi="";n.ka="";n.ie=null;n.pt=!1;n.Eb=null;n.Bd=null;n.bl=null;n.fe=null;n.pc=null;n.Wa=null;n.Hf="dialog";n.K=e("Hb");n.Ta=function(a){this.Qi=a;this.Bd&&md(this.Bd,a)};n.qg=e("Qi");n.Rb=function(a){this.ka=a;this.pc&&(this.pc.innerHTML=a)};n.Yr=da("Hf");n.va=function(){this.e()||this.Qb();return this.pc};
n.jf=function(){this.e()||this.Qb();return Ct.c.jf.call(this)};function Ht(a,b){a.cj=b;if(a.e()){var c=a.jf();c&&Lq(c,a.cj)}}n.mp=function(){return new mt(this.e(),this.Eb)};function It(a,b){a.e()&&Ec(a.Eb,a.Hb+"-title-draggable",b);b&&!a.ie?(a.ie=a.mp(),zc(a.Eb,a.Hb+"-title-draggable"),$g(a.ie,"start",a.Nx,!1,a)):!b&&a.ie&&(a.ie.F(),a.ie=null)}
n.w=function(){Ct.c.w.call(this);var a=this.e(),b=this.o();this.Eb=b.w("div",{className:this.Hb+"-title",id:this.j()},this.Bd=b.w("span",this.Hb+"-title-text",this.Qi),this.fe=b.w("span",this.Hb+"-title-close"));gd(a,this.Eb,this.pc=b.w("div",this.Hb+"-content"),this.Wa=b.w("div",this.Hb+"-buttons"));this.bl=this.Eb.id;gq(a,this.Hf);hq(a,"labelledby",this.bl||"");this.ka&&(this.pc.innerHTML=this.ka);Z(this.fe,this.Im);this.Xa&&Jt(this.Xa,this.Wa);Z(this.Wa,!!this.Xa);Ht(this,this.cj)};
n.Z=function(a){Ct.c.Z.call(this,a);a=this.e();var b=this.Hb+"-content";(this.pc=Xc(document,null,b,a)[0])?this.ka=this.pc.innerHTML:(this.pc=this.o().w("div",b),this.ka&&(this.pc.innerHTML=this.ka),a.appendChild(this.pc));var b=this.Hb+"-title",c=this.Hb+"-title-text",d=this.Hb+"-title-close";(this.Eb=Xc(document,null,b,a)[0])?(this.Bd=Xc(document,null,c,this.Eb)[0],this.fe=Xc(document,null,d,this.Eb)[0],this.Eb.id||(this.Eb.id=this.j())):(this.Eb=this.o().w("div",{className:b,id:this.j()}),a.insertBefore(this.Eb,
this.pc));this.bl=this.Eb.id;this.Bd?this.Qi=td(this.Bd):(this.Bd=this.o().w("span",c,this.Qi),this.Eb.appendChild(this.Bd));hq(a,"labelledby",this.bl||"");this.fe||(this.fe=this.o().w("span",d),this.Eb.appendChild(this.fe));Z(this.fe,this.Im);b=this.Hb+"-buttons";(this.Wa=Xc(document,null,b,a)[0])?(this.Xa=new Et(this.o()),this.Xa.la(this.Wa)):(this.Wa=this.o().w("div",b),a.appendChild(this.Wa),this.Xa&&Jt(this.Xa,this.Wa),Z(this.Wa,!!this.Xa));Ht(this,this.cj)};
n.v=function(){Ct.c.v.call(this);this.C().g(this.e(),"keydown",this.$q).g(this.e(),"keypress",this.$q);this.C().g(this.Wa,"click",this.nv);It(this,this.qt);this.C().g(this.fe,"click",this.Yw);var a=this.e();gq(a,this.Hf);""!==this.Bd.id&&hq(a,"labelledby",this.Bd.id);if(!this.Nq&&(this.Nq=!1,this.J)){var a=this.o(),b=this.jf();a.removeNode(this.Fb);a.removeNode(b)}};n.ga=function(){this.R&&this.ha(!1);It(this,!1);Ct.c.ga.call(this)};
n.ha=function(a){a!=this.R&&(this.J||this.Qb(),Ct.c.ha.call(this,a))};n.xk=function(){Ct.c.xk.call(this);this.dispatchEvent(Kt)};n.wk=function(){Ct.c.wk.call(this);this.dispatchEvent(Lt);this.pt&&this.F()};
n.focus=function(){Ct.c.focus.call(this);if(this.Xa){var a=this.Xa.pj;if(a)for(var b=wd(this.o()),c=this.Wa.getElementsByTagName("button"),d=0,f;f=c[d];d++)if(f.name==a&&!f.disabled){try{if(C||Fb){var g=b.createElement("input");g.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.e().appendChild(g);g.focus();this.e().removeChild(g)}f.focus()}catch(h){}break}}};
n.Nx=function(){var a=wd(this.o()),b=$c(bd(a)||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=Hq(this.e());"fixed"==wq(this.e())?(b=new oq(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height)),this.ie.hk=b||new oq(NaN,NaN,NaN,NaN)):this.ie.hk=new oq(0,0,c-d.width,a-d.height)||new oq(NaN,NaN,NaN,NaN)};n.Yw=function(){if(this.Im){var a=this.Xa,b=a&&a.Il;b?(a=a.get(b),this.dispatchEvent(new Mt(b,a))&&this.ha(!1)):this.ha(!1)}};
n.k=function(){this.Wa=this.fe=null;Ct.c.k.call(this)};n.nv=function(a){a:{for(a=a.target;null!=a&&a!=this.Wa;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.Xa.get(a);this.dispatchEvent(new Mt(a,b))&&this.ha(!1)}};
n.$q=function(a){var b=!1,c=!1,d=this.Xa,f=a.target;if("keydown"==a.type)if(this.ut&&27==a.keyCode){var g=d&&d.Il,f="SELECT"==f.tagName&&!f.disabled;g&&!f?(c=!0,b=d.get(g),b=this.dispatchEvent(new Mt(g,b))):f||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&f==this.e()){this.El=!0;try{this.Dc.focus()}catch(h){}H(this.Ir,0,this)}}else if(13==a.keyCode){if("BUTTON"==f.tagName&&!f.disabled)g=f.name;else if(d){var k=d.pj,m;if(m=k)a:{m=d.B.getElementsByTagName("BUTTON");for(var p=0,r;r=m[p];p++)if(r.name==k||
r.id==k){m=r;break a}m=null}f=("TEXTAREA"==f.tagName||"SELECT"==f.tagName||"A"==f.tagName)&&!f.disabled;!m||(m.disabled||f)||(g=k)}g&&d&&(c=!0,b=this.dispatchEvent(new Mt(g,String(d.get(g)))))}if(b||c)a.stopPropagation(),a.preventDefault();b&&this.ha(!1)};function Mt(a,b){this.type=Nt;this.key=a;this.caption=b}y(Mt,Lg);var Nt="dialogselect",Lt="afterhide",Kt="aftershow";function Et(a){this.xb=a||Uc();Pd.call(this)}y(Et,Pd);n=Et.prototype;n.Hb="vl-buttonset";n.pj=null;n.B=null;n.Il=null;
n.set=function(a,b,c,d){Pd.prototype.set.call(this,a,b);c&&(this.pj=a);d&&(this.Il=a);return this};function Dt(a,b,c,d){return a.set(b.key,b.caption,c,d)}function Jt(a,b){a.B=b;a.Qb()}n.Qb=function(){if(this.B){this.B.innerHTML="";var a=Uc(this.B);Jd(this,function(b,c){var d=a.w("button",{name:c},b);c==this.pj&&(d.className=this.Hb+"-default");this.B.appendChild(d)},this)}};
n.la=function(a){if(a&&1==a.nodeType){this.B=a;a=this.B.getElementsByTagName("button");for(var b=0,c,d,f;c=a[b];b++)if(d=c.name||c.id,f=td(c)||c.value,d){var g=0==b;this.set(d,f,g,c.name==Ot);g&&zc(c,this.Hb+"-default")}}};n.e=e("B");n.o=e("xb");var Ot="cancel",Pt=va("OK"),Qt=va("Cancel"),Rt=va("Yes"),St=va("No"),Tt=va("Save"),Ut=va("Continue"),Ft={key:"ok",caption:Pt},Gt={key:Ot,caption:Qt},Vt={key:"yes",caption:Rt},Wt={key:"no",caption:St},Xt={key:"save",caption:Tt},Yt={key:"continue",caption:Ut};
"undefined"!=typeof document&&(Dt(new Et,Ft,!0,!0),Dt(Dt(new Et,Ft,!0),Gt,!1,!0),Dt(Dt(new Et,Vt,!0),Wt,!1,!0),Dt(Dt(Dt(new Et,Vt),Wt,!0),Gt,!1,!0),Dt(Dt(Dt(new Et,Yt),Xt),Gt,!0,!0));function Zt(a,b){Ct.call(this,a||"vl-dialog",!1,b);this.cf=null;this.wi=this.lk=!1;this.hj=void 0;this.gc=null}y(Zt,Ct);function $t(a,b){a.ra(b,!1);if(a.lk){var c=a.e();b.load().n(function(){return b.Ic?new G("disposed"):au(c,!1,"fade",0.25)},a).n(function(){return b.Ic?new G("disposed"):bu(this,b)},a).n(function(){b.Ic||(au(c,!0,"fade",0.25),b.focus())})}else bu(a,b)}n=Zt.prototype;n.um=function(){for(var a=this.getParent();a&&!(a instanceof $);)a=a.getParent();return a};
n.ia=function(){var a=this.um();return a&&a.ia()};function bu(a,b){a.cf&&a.removeChild(a.cf,!0);a.cf=b;var c=b.qg();c&&a.Ta(c);a.e()&&(b.Qb(a.va()),a.Ge())}
n.show=function(a){function b(a){f.F();g.gc=null;!d.Lc&&d.$(a)}function c(){f.F();g.gc=null;!d.Lc&&d.ma(te)}a&&a!==this.hj&&(this.hj=a,this.dispatchEvent(a));if(this.wi)return new G(this);this.wi=!0;var d=new G,f=this.gc=new Hh(this),g=this;f.g(this,Nt,function(a){a.key===te?c():b(a.key)});this.Vk&&f.g(this,"action",function(a){a=a.key||a.target&&a.target.ba();b(a)});f.g(this,"hide",c);f.g(this,"cmd:nav",function(a){b(a.type)});this.ia()&&(a=new Op(yd(this.o())),f.g(a,"resize",this.Ge));this.Xa||
(a=new cu,Dt(a,Gt,!1,!0),this.Xa=a,this.Wa&&(this.Xa?Jt(this.Xa,this.Wa):this.Wa.innerHTML="",Z(this.Wa,!!this.Xa)));this.lk?this.ha(!0):this.load().n(function(){H(function(){this.ha(this.wi)},0,this)},this);return d};n.Qh=function(){this.wi=!1;this.ha(!1)};n.ha=function(a){Zt.c.ha.call(this,a);a||(this.wi=!1)};n.k=function(){Zt.c.k.call(this);this.gc&&(this.gc.F(),this.gc=null)};n.load=function(){var a=null;this.lk||(this.lk=!0,a=this.Y());return a||new G(this)};n.Y=function(){return du(this)};
n.w=function(){Zt.c.w.call(this);this.cf&&this.cf.Qb(this.va());if(this.Xa&&this.Vk){var a=this.o();Jd(this.Xa,function(b,c){var g=new Xr(b,new eu,a);g.ta(c);this.ra(g,!1);g.Qb(this.Wa)},this)}else Z(this.Wa,!1);var b=this.jf(),c=this.e();Bt(this,fu(c,0.25),gu(c,0.25),fu(b,0.25),gu(b,0.25))};
n.Ge=function(){var a=wd(this.o()),b=bd(a)||window,a=this.e();if("fixed"==wq(a))var c=0,d=0;else d=zd(this.o()),c=d.x,d=d.y;var f=Iq(a),b=$c(b);Mi()&&(600>b.width||600>b.height)?(f.width=b.width,f.height=b.height,Oq(a,f)):a.style.width=a.style.height="";c=Math.max(c+b.width/2-f.width/2,0);d=Math.max(d+b.height/2-f.height/2,0);d=Math.min(d,b.height/5);xq(a,c,d);xq(this.Dc,c,d)};n.focus=function(){Zt.c.focus.call(this);this.cf&&this.cf.focus()};function cu(a){Et.call(this,a)}y(cu,Et);
cu.prototype.Qb=ga;function eu(){}y(eu,Hr);ha(eu);n=eu.prototype;n.va=aa();n.w=function(a){var b={"class":"vl-inline-block "+this.le(a).join(" "),title:a.rg()||""};return a.o().w("div",b,a.ka)};n.Gb=function(a){return"DIV"==a.tagName};n.la=function(a,b){zc(b,"vl-inline-block",this.K());return eu.c.la.call(this,a,b)};n.K=l("vl-css3-button");Ir("vl-css3-button",function(){return new Xr(null,eu.Ja())});Ir("vl-css3-toggle-button",function(){var a=new Xr(null,eu.Ja());Sr(a,16,!0);return a});function hu(a,b,c){Xr.call(this,a,b||xs.Ja(),c)}y(hu,Xr);Ir("vl-custom-button",function(){return new hu(null)});function iu(){O.call(this);this.mc=ju;this.st=this.startTime=null}y(iu,O);var ju=0;var ku;function lu(a,b){ja(b)||(b=[b]);var c=db(b,function(a){return u(a)?a:a.xr+" "+a.duration+"s "+a.timing+" "+a.wp+"s"});mu(a,c.join(","))}function mu(a,b){qq(a,"transition",b)};function nu(a,b,c,d,f){iu.call(this);this.B=a;this.rt=b;this.yu=c;this.Dp=d;this.cy=ja(f)?f:[f]}y(nu,iu);n=nu.prototype;
n.play=function(){if(1==this.mc)return!1;this.dispatchEvent("begin");this.dispatchEvent("play");this.startTime=ua();this.mc=1;if(!t(ku))if(A)ku=D("10.0");else{var a=document.createElement("div"),b=C?"-webkit":B?"-moz":A?"-ms":Fb?"-o":null;a.innerHTML='\x3cdiv style\x3d"'+(b?b+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;"\x3e';ku=""!=tq(a.firstChild,"transition")}if(ku)return qq(this.B,this.yu),this.Re=H(this.vx,void 0,this),!0;this.so(!1);return!1};
n.vx=function(){lu(this.B,this.cy);qq(this.B,this.Dp);this.Re=H(w(this.so,this,!1),1E3*this.rt)};n.stop=function(){1==this.mc&&this.so(!0)};n.so=function(a){mu(this.B,"");sh(this.Re);qq(this.B,this.Dp);this.st=ua();this.mc=ju;a?this.dispatchEvent("stop"):this.dispatchEvent("finish");this.dispatchEvent("end")};n.k=function(){this.stop();nu.c.k.call(this)};function ou(a,b,c,d,f){return new nu(a,b,{opacity:d},{opacity:f},{xr:"opacity",duration:b,timing:c,wp:0})}function fu(a,b){return ou(a,b,"ease-out",0,1)}function gu(a,b){return ou(a,b,"ease-in",1,0)};var pu=!1;function qu(a){a=a.match(/[\d]+/g);a.length=3;a.join(".")}
if(navigator.plugins&&navigator.plugins.length){var ru=navigator.plugins["Shockwave Flash"];ru&&(pu=!0,ru.description&&qu(ru.description));navigator.plugins["Shockwave Flash 2.0"]&&(pu=!0)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var su=navigator.mimeTypes["application/x-shockwave-flash"];(pu=su&&su.enabledPlugin)&&qu(su.enabledPlugin.description)}else try{var tu=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),pu=!0;qu(tu.GetVariable("$version"))}catch(uu){try{tu=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
pu=!0}catch(vu){try{tu=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),pu=!0,qu(tu.GetVariable("$version"))}catch(wu){}}};function xu(a,b,c){a=a.firstChild;for(var d=c||q;a;){if(na(a)&&1==a.nodeType){var f=a;b.call(d,f)||xu(f,b,c)}a=a.nextSibling}}function yu(a,b){return a.querySelectorAll&&a.querySelector?a.querySelector("#"+b):nd(a,function(a){return na(a)&&1==a.nodeType&&a.id===b})}function zu(a,b){return gb(a.anchors,function(a){return a.name===b})}function Au(a){return"none"!==tq(a,"display")&&"hidden"!==tq(a,"visibility")}function Bu(a,b){var c=a.getAttribute(b);Ba(Wa(c))&&(c=null);return c}
function Cu(a,b){return"perspective(400) translateZ(-"+b+"px) rotateY("+a+"rad)"}function aj(a){qq(a,A?"-ms-transform":C?"-webkit-transform":Fb?"-o-transform":B?"-moz-transform":"transform","scaleX(-1)")}function Du(a,b){qq(a,A?"transition":C?"-webkit-transition":"transition",b)}
function au(a,b,c,d){var f,g=new G;if(Au(a)!==b){d=t(d)?d:0.25;switch(c){case "fade":b?(qq(a,"opacity",0),Z(a,!0),f=fu(a,d)):f=gu(a,d);break;case "slide":f=b?Eu(a,d,"ease-out",!0):Eu(a,d,"ease-in",!1)}b&&f||g.Yf(function(){Z(a,b);qq(a,"visibility","")})}f?(eh(f,"end",function(){g.$(a)}),H(f.play,10,f)):g.$(a);return g}
function Eu(a,b,c,d){d&&qq(a,{display:"",height:"0"});qq(a,{overflow:"hidden",position:"relative"});var f="",g;g=a||document;g.querySelectorAll&&g.querySelector?g=g.querySelector(".vl-content"):(g=a||document,g=(g.querySelectorAll&&g.querySelector?g.querySelectorAll(".vl-content"):g.getElementsByClassName?g.getElementsByClassName("vl-content"):Xc(document,"*","vl-content",a))[0]);if(g=g||null)f=g.offsetHeight;var h;d?(g=0,h=1,d=0):(g=1,h=0,d=f,f=0);return new nu(a,b,{height:d+"px",opacity:g},{height:f+
"px",opacity:h},{xr:"all",duration:b,timing:c,wp:0})}function Fu(a){var b=a.getAttribute("vl-fx");if(Ba(Wa(b))){if("absolute"===uq(a,"position"))return"fade";if("DIV"===a.tagName)return"slide"}else return b;return"none"};function $(a){Xq.call(this,a);this.L=this.Zb=null;this.m={};this.ji=null;this.H=new K;this.nb("vl-"+oa(this))}y($,Xq);n=$.prototype;n.Ma=null;n.G=Ie("vline.ui");n.Kg=null;n.mn=!1;n.bn=null;n.Xg=null;n.k=function(){this.m=this.Lb=null;this.H.ja();this.H=null;this.Xg&&(this.Xg.F(),this.Xg=null);this.Kg&&(z(this.Kg,function(a){a.ja()}),this.Kg=null);$.c.k.call(this)};n.nb=function(a){this.m.id=a;$.c.nb.call(this,a)};n.ia=e("L");n.getData=e("m");n.Q=e("H");n.qg=function(){return this.m.title};
n.Ta=function(a){this.m.title=a};function Gu(a){var b;b=a.H.get("r");b=null!=b&&b instanceof K?b:null;if(!b){var c=b=new K;a.H.set("r",c);a.m.Mg=c&&c.j();b.ja()}return b}n.M=function(){return this.L.M()};n.pb=function(){return this.L.pb()};n.ec=function(){return this.L.ec()};n.r=function(){return this.pb().r()};n.Kf=function(a){$.c.Kf.call(this,a);(a=this.um())&&Hu(this,a)};function Hu(a,b){a.L=b.ia();a.m=Re(b.getData(),a.m);ai(a.H,b.Q())}n.ye=function(a){return this.j()+"-"+a};
n.um=function(){for(var a=this.getParent();a&&!(a instanceof $);)a=a.getParent();return a};n.se=function(){return!(!this.Zb||!this.Zb.Lc)};n.load=function(a,b){function c(){this.J?this.show():f&&(b?this.la(f):(this.B=f,this.v()))}if(this.Zb)return new G(this);var d,f;a&&(this.B=f=u(a)?document.getElementById(a):a);(d=this.Y())?(this.Zb=d,d.n(c,this),a&&!this.getParent()?d.Mb(c,this):d.Mb(function(a){this.Zb.ma(a);this.Zb=null},this)):(this.Zb=new G(this),c.call(this));return this.Zb};n.Y=function(){return du(this)};
function du(a){var b=[];a.dc(function(a){a instanceof $?b.push(a.load()):du(a)});return 0<b.length?Ah.apply(null,b):new G(a)}function Iu(a,b){a.ra(b);return b.getData()}function Ju(a,b){var c=a.ye("form");b.nb(c);a.ra(b,!1)}n.Fd=function(a,b,c){$.c.Fd.call(this,a,b,c);a instanceof $||Ku(this,a)};function Ku(a,b){b.dc(function(b){b instanceof $?Hu(b,a):Ku(a,b)})}n.navigate=function(a,b){this.dispatchEvent(new it(a,b))};
function Lu(a,b,c){u(c)&&(c=a.Cj(c));Mu(a,b,null,c);Nu(a,b,function(a){return Mu(this,b,a.oldVal,c)},a)}function Mu(a,b,c,d){b=b.split(".");for(var f=a.H.ua,g=0;g<b.length&&(f=f[b[g]],null!=f);g++);b=f||"";if("INPUT"===d.tagName)d.setAttribute("value",b);else{f=!Ba(b);g=d;1===d.parentNode.childNodes.length&&(g=d.parentNode);var h=!Ba(td(d));if(f||null!=c||!h)if(Au(g)===f)md(d,b);else{var k;a.J&&(k=Fu(g));f&&md(d,b);au(g,f,k)}}}
function Nu(a,b,c,d){a.Xg||(a.Xg=new Hh);a.Xg.g(a.Q(),"change:"+b,c,!1,d||a)}n.show=function(a,b,c){var d=this.e();return d?au(d,a,b,c):Ch()};n.w=function(){this.Z(Ou(this))};n.la=function(a){Pu(this,a)};function Pu(a,b){if(a.J)throw Error("Component already rendered");if(b&&a.Gb(b)){a.Mo=!0;a.xb&&a.xb.fa==Wc(b)||(a.xb=Uc(b));a.Z(b);var c=a.getParent();c&&!c.J||a.v()}else throw Error("Invalid element to decorate");}n.Z=function(a){$.c.Z.call(this,a);Qu(this,this,a);this.se()||this.show(!1)};
n.v=function(){$.c.v.call(this);this.mn&&(this.ji=new Np(yd(this.o())),this.C().g(this.ji,"resize",this.lb),this.lb());this.H.Ca(!0,!1)};n.ga=function(){this.ji&&(this.ji.F(),this.ji=null);$.c.ga.call(this)};function Qu(a,b,c){xu(c,function(c){var f;a:{f=c;if(u(f)&&(f=b.Cj(f),!f)){f=null;break a}var g=f.getAttribute("id"),h=$q(a,g)||Kr(f);h?(h.e()||(g&&h.nb(g),h.getParent()!=a&&a.ra(h,!1),h instanceof Ru?Qu(h,b,f):Su(b,f),Pu(h,f)),f=h):f=null}g=b;f&&f instanceof $&&(g=f);Tu(g,c);return!!f})}
function Su(a,b){xu(b,function(b){Tu(a,b)})}function Tu(a,b){var c=b.getAttribute("vl-bind");c&&Lu(a,c,b)}function Ou(a){var b=a.o().createElement("DIV"),c=a.Ma;c&&(c=c(a.m),xa(c,"\x3ctr")&&(b=a.o().createElement("TBODY")),b.innerHTML=c,1===b.childNodes.length&&(b=b.firstChild));b.id=a.j();return b}n.focus=function(){return Mi()?!1:Uu(this)};function Uu(a){var b=null;a.Ha&&(b=gb(a.Ha,function(a){return a instanceof $?a.focus():Uu(a)}));return!!b}
n.Cj=function(a){var b;a=this.ye(a);return this.J?this.o().e(a):(b=this.e())?yu(b,a):null};n.getElementById=function(a){return nd(this.e(),function(b){return b.id===a})};n.lb=function(){var a;a=this.e();a=new Gc(a.offsetWidth,a.offsetHeight);this.bn&&Hc(this.bn,a)||(this.bn=a,this.Jr(a))};n.Jr=ba();function Vu(a,b){a.Kg||(a.Kg=[]);a.Kg.push(b)};function Wu(a){$.call(this,a);this.fn=null;this.yc="";this.Un={}}y(Wu,$);Wu.prototype.Nr=!1;Wu.prototype.Ne=function(a,b,c){this.fn=a;this.Un=b;this.H.set(b);return this.load(c,!0)};Wu.prototype.v=function(){Wu.c.v.call(this);Mi()||this.focus()};function Xu(a){var b=a.Un.appId;if(b)return a.m.Da=b,a.m.path=a.Un.path,b="/app/"+b,a.r().get(b).n(function(a){this.m.appName=R(a,"displayName");a.ja();return null},a);a.m.appName="Create New App";return new G("done")};function Yu(a){Wu.call(this,a);this.od=this.jd=this.fb=null;this.Ai=[];this.mt=[];this.Ql=null;this.Za=new bo("/");this.Br=this.Ar=this.ti=null;this.Ty="vl-"}y(Yu,Wu);n=Yu.prototype;n.Nr=!0;n.qg=function(){return this.fb&&this.fb.qg()||Yu.c.qg.call(this)};n.Ne=function(a,b,c){return Yu.c.Ne.call(this,a,b,c).n(function(){return this.Si(this.fn)},this)};n.Z=function(a){Yu.c.Z.call(this,a);this.fb&&!this.fb.J&&Zu(this)};
n.Si=function(a,b){this.fn=a;if(A&&!Li(10)){var c=window.location.hash||"";if("/developer/app/"===to(window.location.href).l()||xa(c,"#_vline_"))return this.dispatchEvent(new P("cmd:unsupportedbrowser")),new G("NONE")}if(!(0<this.Ai.length))return this.Za=a,new G("NONE");var d=a.l(),d=d.substr(this.yc.length),f,g=this.M().Vh()&&!this.M().Xj();if((c=gb(this.Ai,function(a){f=a.test(d,g);return!!f}))&&c.Uy()&&!g)if($u(this.pb()))c=null;else return Ch("LOGIN_REQUIRED");if(!c)if(c=gb(this.mt,function(a){return a.oz(g)}))c.lz()&&
this.ec().Rn(this.yc+c.l());else return window.location=a,new G(this);f=f||{};f.path=a.l();return c?av(this,c,a,f||{},b):Ch("NOT_FOUND")};
function av(a,b,c,d,f){if(a.Ql===b&&a.fb&&a.fb.Nr&&!f)return a.fb.Ne(c,d).n(function(){this.Za=c;this.Ql=b},a);if(a.jd||a.ti)return a.ti=b,a.Ar=d,a.Br=c,new G(a);a.fb&&(a.fb.nb("out-"+a.fb.j()),a.od=a.fb,a.fb=null);a.jd=b.Ey();a.ra(a.jd,!1);f=null;if(!a.od&&a.e()){var g=a.e();g&&(f=yu(g,a.jd.j()))}return a.jd.Ne(c,d,f).n(function(){this.Za=c;this.Ql=b;this.jd&&(this.fb=this.jd,this.jd=null,this.e()&&Zu(this))},a).Mb(function(a){var b=this.jd;b&&(this.removeChild(b,!1),b.F());this.jd=null;if(this.fb=
this.od)this.fb.nb(this.fb.j().substr(4)),this.od=null;if("NOT_FOUND"===a.type)return this.Ne("",{})},a).Ye(function(){H(function(){if(this.ti){var a=this.ti;this.ti=null;av(this,a,this.Br,this.Ar)}},0,this)},a)}function Zu(a){a.od&&a.removeChild(a.od,!1);if(!a.fb.e()){a.fb.w();var b=a.e(),c=b.firstChild,d=a.fb.e();c?(b.replaceChild(d,c),C&&H(function(){qq(d,"border-color","transparent")})):b.appendChild(d)}a.od&&(a.od.F(),a.od=null);a.J&&a.fb.v()}
n.Rr=function(){var a,b=this.o(),c=ad(b.fa),d=0,f=0,g=this.Za.Wb;!Ba(g)&&(a=zu(b.fa,g))&&(a=Cq(a),d=a.x,f=a.y);c.scrollTop=f;c.scrollLeft=d};function bv(a,b){this.ki=b||"";this.Zi=a||""}var cv=/[()<>@,;:\\\".\[\]]/,dv=/\"/g,ev=/\\\"/g,fv=/\\/g,gv=/\\\\/g;bv.prototype.getName=e("ki");bv.prototype.eo=da("ki");bv.prototype.toString=function(){var a=this.getName(),a=a.replace(dv,"");cv.test(a)&&(a='"'+a.replace(fv,"\\\\")+'"');return""==a?this.Zi:""==this.Zi?a:a+" \x3c"+this.Zi+"\x3e"};bv.prototype.yg=function(){return/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,6}$/.test(this.Zi)};
function hv(a,b){if('"'!=a.charAt(b))return!1;for(var c=0,d=b-1;0<=d&&"\\"==a.charAt(d);d--)c++;return 0!=c%2};function iv(a){O.call(this);this.te=[];jv(this,a)}y(iv,O);n=iv.prototype;n.yd=null;n.Sr=null;n.mm=function(){return this.te.length};n.Bh=function(a){return this.te[a]||null};function jv(a,b){b&&(z(b,function(a){kv(this,a,!1)},a),qb(a.te,b))}n.We=function(a){this.Zf(a,this.mm())};n.Zf=function(a,b){a&&(kv(this,a,!1),rb(this.te,b,0,a))};n.removeItem=function(a){a&&mb(this.te,a)&&a==this.yd&&(this.yd=null,this.dispatchEvent("select"))};n.Jh=e("yd");
n.Mf=function(a){a!=this.yd&&(kv(this,this.yd,!1),this.yd=a,kv(this,a,!0));this.dispatchEvent("select")};n.qm=function(){return this.yd?bb(this.te,this.yd):-1};n.$r=function(a){this.Mf(this.Bh(a))};n.clear=function(){jb(this.te);this.yd=null};n.k=function(){iv.c.k.call(this);delete this.te;this.yd=null};function kv(a,b,c){b&&("function"==typeof a.Sr?a.Sr(b,c):"function"==typeof b.jo&&b.jo(c))};function lv(a,b,c,d){As.call(this,a,b,c,d);this.qj=a;mv(this)}y(lv,As);n=lv.prototype;n.qa=null;n.qj=null;n.v=function(){lv.c.v.call(this);mv(this);nv(this)};n.Z=function(a){lv.c.Z.call(this,a);(a=this.mg())?(this.qj=a,mv(this)):this.$r(0)};n.k=function(){lv.c.k.call(this);this.qa&&(this.qa.F(),this.qa=null);this.qj=null};n.Am=function(a){this.Mf(a.target);lv.c.Am.call(this,a);a.stopPropagation();this.dispatchEvent("action")};n.ju=function(){var a=this.Jh();lv.c.ta.call(this,a&&a.ba());mv(this)};
n.Ei=function(a){var b=lv.c.Ei.call(this,a);a!=b&&(this.qa&&this.qa.clear(),a&&(this.qa?a.dc(function(a){ov(a);this.qa.We(a)},this):pv(this,a)));return b};n.We=function(a){ov(a);lv.c.We.call(this,a);this.qa?this.qa.We(a):pv(this,Cs(this))};n.Zf=function(a,b){ov(a);lv.c.Zf.call(this,a,b);this.qa?this.qa.Zf(a,b):pv(this,Cs(this))};n.removeItem=function(a){lv.c.removeItem.call(this,a);this.qa&&this.qa.removeItem(a)};n.Mf=function(a){if(this.qa){var b=this.Jh();this.qa.Mf(a);a!=b&&this.dispatchEvent("change")}};
n.$r=function(a){this.qa&&this.Mf(this.qa.Bh(a))};n.ta=function(a){if(null!=a&&this.qa)for(var b=0,c;c=this.qa.Bh(b);b++)if(c&&"function"==typeof c.ba&&c.ba()==a){this.Mf(c);return}this.Mf(null)};n.Jh=function(){return this.qa?this.qa.Jh():null};n.qm=function(){return this.qa?this.qa.qm():-1};function pv(a,b){a.qa=new iv;b&&b.dc(function(a){ov(a);this.qa.We(a)},a);nv(a)}function nv(a){a.qa&&a.C().g(a.qa,"select",a.ju)}function mv(a){var b=a.Jh();a.Rb(b?b.mg():a.qj)}
function ov(a){a.Yr(a instanceof ss?"option":"separator")}n.Sa=function(a,b){lv.c.Sa.call(this,a,b);Fr(this,64)&&Cs(this).Me(this.qm())};Ir("vl-select",function(){return new lv(null)});function Ru(a,b){Mr.call(this,a||"",null,b);this.L=null}y(Ru,Mr);Ru.prototype.r=function(){return this.M().kf()};Ru.prototype.M=function(){return this.L.M()};Ru.prototype.ia=e("L");Ru.prototype.v=function(){Nr(this,!1);Ru.c.v.call(this);var a=this.$a();if(a){var b=this.Ch();or(b,a);this.C().g(b,"key",this.Oc)}};function qv(a){return"\x3cdiv"+(a.id?' id\x3d"'+a.id+'"':"")+'class\x3d"vl-css3-button'+(a.className?" "+a.className:"")+'"'+(a.Id?'vl-event\x3d"cmd:'+a.Id+'"':"")+"\x3e"+a.label+"\x3c/div\x3e"}function rv(a){return"\x3cdiv value\x3d"+a.label+(a.id?' id\x3d"'+a.id+'"':"")+'class\x3d"vl-css3-button vl-css3-button-green-flat '+(a.className?" "+a.className:"")+'"'+(a.Id?'vl-event\x3d"cmd:'+a.Id+'"':"")+"\x3e"+a.label+"\x3c/div\x3e"}
function sv(a){return'\x3cdiv id\x3d"'+a.id+'-err" class\x3d"'+a.className+'"'+(a.hm?'vl-fx\x3d"'+a.hm+'"':"")+'\x3e\x3cdiv class\x3d"vl-content vl-err-text" vl-bind\x3d"'+a.bind+'"\x3e\x3c/div\x3e\x3c/div\x3e'}
function tv(a){var b='\x3cdiv id\x3d"'+a.id+'" class\x3d"vl-form-wrap vl-'+a.Oa+'-form-wrap"\x3e'+(a.Gt?'\x3cform id\x3d"'+a.id+'-form" class\x3d"'+a.Gt+" vl-"+a.Oa+'-form" vl-event\x3d"cmd:submit"\x3e':'\x3cform id\x3d"'+a.id+'-form" class\x3d"vl-form vl-'+a.Oa+'-form" vl-event\x3d"cmd:submit"\x3e');if(a.heading||a.Lk){b+='\x3ch2 id\x3d"'+a.id+'-heading" class\x3d"vl-form-heading vl-'+a.Oa+'-form-heading"\x3e';if(a.heading)b+=a.heading;else if(a.Lk)switch(a.mode){case "edit":b+="Edit "+a.Lk;break;
case "new":b+="Create "+a.Lk}b+="\x3c/h2\x3e"}var c="vl-form-field-label vl-"+a.Oa+"-form-field-label",b=b+"",d;a.Rg?d="":(d=pf(a,{className:"vl-form-info",bind:"formInfo"}),d='\x3ccaption class\x3d"vl-form-caption"\x3e'+('\x3cdiv id\x3d"'+d.id+'-info" class\x3d"'+d.className+'"'+(d.hm?'vl-fx\x3d"'+d.hm+'"':"")+'\x3e\x3cdiv class\x3d"vl-content vl-info-text" vl-bind\x3d"'+d.bind+'"\x3e\x3c/div\x3e\x3c/div\x3e')+sv(pf(a,{className:"vl-form-err vl-"+a.Oa+"-form-err",bind:"formErr"}))+"\x3c/caption\x3e");
b+='\x3ctable class\x3d"vl-form-controls"\x3e'+d+'\x3ctbody class\x3d"vl-form-fields vl-'+a.Oa+'-form-fields"\x3e';if(a.Rg)b+="\x3ctr\x3e"+uv(pf(a.am[0],{Nb:a.Nb,vq:c,Rg:!0,nc:a.nc}))+"\x3c/tr\x3e";else{d=a.am;for(var f=d.length,g=0;g<f;g++)b+=uv(pf(d[g],{Nb:a.Nb,vq:c,$m:g==f-1}))}if(!1==a.buttons||a.Rg)a="";else{c='\x3ctd colspan\x3d"'+(a.Nb?1:2)+'" class\x3d"vl-form-buttons vl-'+a.Oa+'-form-buttons"\x3e'+(a.uh?'\x3cp class\x3d"vl-form-footer vl-'+a.Oa+'-form-footer"\x3e'+a.uh+"\x3c/p\x3e":"")+(a.vj?
a.vj:"");if("view"==a.mode)c+=qv({id:a.id+"-edit",className:"vl-form-edit-button vl-"+a.Oa+"-form-edit-button",Id:a.bc?a.bc:"edit",label:"Edit"});else{c+="edit"==a.mode?qv({id:a.id+"-cancel",className:"vl-form-cancel-button vl-"+a.Oa+"-form-cancel-button",Id:a.bc?a.bc:"cancel",label:"Cancel"}):"";d="";if(a.nc)d+=a.nc;else switch(a.mode){case "edit":d+="Save";break;case "new":d+="Create"}c+=qv({id:a.id+"-submit",className:"vl-css3-button-primary vl-form-submit-button vl-"+a.Oa+"-form-submit-button",
Id:a.bc?a.bc:"submit",label:d})}a="\x3ctfoot\x3e\x3ctr\x3e"+(c+"\x3c/td\x3e")+"\x3c/tr\x3e\x3c/tfoot\x3e"}return b+="\x3c/tbody\x3e"+a+"\x3c/table\x3e\x3c/form\x3e\x3c/div\x3e"}
function uv(a){var b='\x3ctr id\x3d"'+a.id+'" class\x3d"vl-form-field vl-'+a.Oa+'-form-field"\x3e'+(a.Nb?"":'\x3ctd class\x3d"'+a.vq+'"\x3e'+a.label+'\x3cspan style\x3d"font-weight:normal;"\x3e:\x3c/span\x3e\x3c/td\x3e'),c='\x3ctd id\x3d"'+a.id+'-val" class\x3d"vl-form-field-val '+(a.Rg?"vl-single-form-field-val":"")+" vl-"+a.Oa+'-form-field-val"\x3e';if("view"==a.mode)c+="url"==a.type?'\x3ca href\x3d"#_link_" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/a\x3e':'\x3cspan vl-bind\x3d"r.'+a.key+'"\x3e\x3c/span\x3e';
else if("edit"!=a.mode||a.ph){c+='\x3cdiv id\x3d"'+a.id+'-input-wrap" class\x3d"vl-input-wrap vl-'+a.Oa+"-form-input-wrap"+(a.$m?"":" vl-input-wrap-internal")+'"\x3e';if("select"==a.type){c+=(a.Nb?'\x3cspan class\x3d"vl-select-label"\x3e'+a.label+":\x3c/span\x3e":"")+'\x3cdiv id\x3d"'+a.id+'-select" class\x3d"vl-select"\x3e\x3cul class\x3d"vl-menu"\x3e';a=a.Mu;for(var d=a.length,f=0;f<d;f++)var g=a[f],c=c+("\x3cli class\x3d'vl-menuitem' value\x3d\""+g.id+'"\x3e'+g.name+"\x3c/li\x3e");c+="\x3c/ul\x3e\x3c/div\x3e"}else{if(a.Rg)if(d=
(a.uh?'\x3cp class\x3d"vl-form-footer vl-'+a.Oa+'-form-footer"\x3e'+a.uh+"\x3c/p\x3e":"")+(a.vj?a.vj:""),"view"==a.mode)d+=rv({id:a.id+"-edit",className:"vl-form-edit-button vl-"+a.Oa+"-form-edit-button",Id:a.bc?a.bc:"edit",label:"Edit"});else{d+="edit"==a.mode?rv({id:a.id+"-cancel",className:"vl-form-cancel-button vl-"+a.Oa+"-form-cancel-button",Id:a.bc?a.bc:"cancel",label:"Cancel"}):"";f="";if(a.nc)f+=a.nc;else switch(a.mode){case "edit":f+="Save";break;case "new":f+="Create"}d+=rv({id:a.id+"-submit",
className:"vl-form-inline-button vl-"+a.Oa+"-form-submit-button",Id:a.bc?a.bc:"submit",label:f})}else d="";c+='\x3cinput id\x3d"'+a.id+'-input" type\x3d"'+a.type+'" class\x3d"'+(a.Rg?"vl-single-label-input":"vl-label-input")+" vl-form-input vl-"+a.Oa+'-form-input" name\x3d"key"'+("edit"==a.mode&&"password"==a.type?'label\x3d"\x26bull;\x26bull;\x26bull;\x26bull;\x26bull;\x26bull;"':a.Nb?'label\x3d"'+a.label+'"':a.pq?'label\x3d"'+a.pq+'"':"")+'vl-bind\x3d"r.'+a.key+'"\x3e'+d+sv(pf(a,{className:"vl-form-field-err vl-"+
a.Oa+"-form-field-err",bind:"fieldErr"}))}c+="\x3c/div\x3e"}else c+="url"!=a.type||a.ph?'\x3cdiv class\x3d"'+(a.$m?"":" vl-input-wrap-internal")+'" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/div\x3e':'\x3cdiv class\x3d"'+(a.$m?"":" vl-input-wrap-internal")+'"\x3e\x3ca href\x3d"#_link_" vl-bind\x3d"r.'+a.key+'"\x3e\x3c/a\x3e\x3c/div\x3e';return b+(c+"\x3c/td\x3e")+"\x3c/tr\x3e"};function vv(a,b,c){b=a="";for(var d=0;d<c.length;){var f;f=c.charAt(d);var g='"\x3c(['.indexOf(f);if(-1!=g&&!hv(c,d)){for(var g='"\x3e)]'.charAt(g),h=c.indexOf(g,d+1);0<=h&&hv(c,h);)h=c.indexOf(g,h+1);f=0<=h?c.substring(d,h+1):f}"\x3c"==f.charAt(0)&&-1!=f.indexOf("\x3e")?b=f.substring(1,f.indexOf("\x3e")):""==b&&(a+=f);d+=f.length}""==b&&-1!=a.indexOf("@")&&(b=a,a="");a=Aa(a);a=Ra(a,"'");a=Ra(a,'"');a=a.replace(ev,'"');a=a.replace(gv,"\\");b=Aa(b);if(!(new bv(b,a)).yg())return"INVALID_EMAIL"}
function wv(a,b,c){if(6>c.length)return"INVALID_PASSWORD"}function xv(){}function yv(a,b,c){a=zv(this.Ip,"password");if(null!=a&&c!==a.ba())return"PASSWORDS_DONT_MATCH"}function Av(a,b,c){if(Ga(c)!==c)return"INVALID_FIELD"}function Bv(a,b,c){a=new bo(c);b=a.toString();if(!a.wd||b!==c)return"INVALID_URL"}function Cv(a,b,c,d,f){$.call(this,f);this.Ip=a;this.Yc=[];this.m.key=b;this.m.label=c||b;this.m.pq=void 0;this.m.name=this.m.label;this.m.type=d||"text";this.m.ph=!0;this.m.required=!1}y(Cv,$);
n=Cv.prototype;n.Ma=uv;n.getKey=function(){return this.m.key};n.Oe=function(a){this.m.type=a;"email"===a?lb(this.Yc,vv):"password"===a&&lb(this.Yc,wv)};n.fd=function(){return this.m.label};n.getName=function(){return this.m.name};n.eo=function(a){this.m.name=a};function Dv(a,b){a.Q().set("valid",b);a.m.mz&&a.tj("vl-form-field-valid","vl-form-input-valid",b)}function Ev(a,b){a.Q().set("invalid",b);a.tj("vl-form-field-invalid","vl-form-input-invalid",b)}n.tj=function(a,b,c){(b=this.e())&&Ec(b,a,c)};
function Fv(a){return"new"===Gv(a.Ip)||a.m.ph}n.clear=function(){this.ta("");this.Jf();Dv(this,!1);Ev(this,!1)};n.Jf=function(a){var b=!Ba(Wa(a));a=b&&(a in L?L[a](this.m):a);this.H.set("fieldErr",a);Ev(this,b);b&&Dv(this,!1)};n.lv=function(){this.Wg(!0)};n.nx=function(a){this.ta(a.ba())};n.Y=function(){Dv(this,!1);Ev(this,!1);return new G(this)};function Hv(a,b,c,d,f){Cv.call(this,a,b,c,d,f);this.vc=null;this.m.Hq=void 0}y(Hv,Cv);n=Hv.prototype;
n.tj=function(a,b,c){Hv.c.tj.call(this,a,b,c);(a=this.vc&&this.vc.e())&&Ec(a,b,c)};n.Z=function(a){Hv.c.Z.call(this,a);this.vc=$q(this,this.ye("input"))};n.v=function(){Hv.c.v.call(this);if(this.vc){Nu(this,"value",this.nx);var a=this.vc.e();this.C().g(a,"blur",this.lv,!1,this)}};n.ba=function(){return this.vc?Ca(this.vc.ba()):""};n.ta=function(a){this.vc&&this.vc.ta(a)};
n.Wg=function(a){var b=!0,c=!1;if(this.vc){var d,f=this.ba(),g=this.fd();Ba(f)?!a&&this.m.required&&(d="FIELD_REQUIRED",c=b=!1):(a=this.m.Hq,null!=a&&f.length>a&&(d="FIELD_MAX_LENGTH_EXCEEDED",b=!1),b&&eb(this.Yc,function(a){(d=a.call(this,this.j(),g,f))&&(b=!1);return!b},this),c=b);this.Jf(d);Dv(this,c)}return b};n.focus=function(){if(Fv(this)){if(this.vc){var a=this.vc.e();a.focus();a.select()}return!0}return!1};
function Iv(a,b,c,d,f,g,h,k){Cv.call(this,a,b,g,h,k);this.xd=null;this.Yn=d||null;this.Kx=f;this.m.Mu=c}y(Iv,Cv);n=Iv.prototype;n.Z=function(a){Iv.c.Z.call(this,a);this.xd=$q(this,this.ye("select"))};n.v=function(){Iv.c.v.call(this);this.xd&&(this.C().g(this.xd,"action",function(a){this.Kx(a)}),this.Yn&&this.xd.ta(this.Yn))};n.ba=function(){return this.xd?this.xd.ba():""};n.ta=function(a){this.xd?this.xd.ta(a):this.Yn=a};n.Wg=l(!0);
n.focus=function(){return Fv(this)?(this.xd&&this.xd.e().focus(),!0):!1};function Jv(a,b){$.call(this,b);this.dy="entity";this.Ni=this.lg=this.Oy=null;this.sh=[];this.m.am=[];this.m.Oa=a}y(Jv,$);n=Jv.prototype;n.Ma=tv;n.og=l(null);function Gv(a){return a.m.mode||"new"}n.Oe=da("dy");n.Jf=function(a){a=a&&(a in L?L[a](void 0):a);this.H.set("formErr",a)};function Kv(a,b){a.H.set("formInfo",b)}
function Lv(a,b,c,d,f,g,h){b=new Hv(a,b,d,c,a.o());b.m.ph=t(g)?g:!0;f&&(b.m.required=!0);h&&lb(b.Yc,h);a.sh.push(b);a.se()&&Mv(a,b);return b}function Mv(a,b){a.lg.ra(b);a.m.am.push(b.getData())}function Nv(a,b,c,d){b=new Iv(a,"dummy",b,c,d,"Thumbnail","select",a.o());b.m.ph=!0;b.m.required=!0;a.sh.push(b);a.se()&&Mv(a,b);return b}function Ov(a,b,c,d){a=Lv(a,b,"text",c,!0,d,void 0);lb(a.Yc,Av)}function Pv(a,b,c,d,f){a=Lv(a,"password","password",b,c,d,f);null==f&&lb(a.Yc,wv);return a}
function Qv(a,b,c){a=Lv(a,b,"password","Confirm Password",c,void 0,void 0);lb(a.Yc,yv)}function Rv(a,b,c,d){a=Lv(a,b,"email",c,d,void 0,void 0);lb(a.Yc,vv);return a}function Sv(a,b){var c=Lv(a,"thumbnailUrl","url","Thumbnail URL",!0,b,void 0);lb(c.Yc,Bv);return c}function zv(a,b){return gb(a.sh,function(a){return a.getKey()===b})}function Tv(a,b,c){var d=c||a;z(a.sh,function(a){b.call(d,a)})}n.ba=function(a){if(a=zv(this,a))return a.ba()};n.ta=function(a,b){Gu(this).set(a,b);var c=zv(this,a);c&&c.ta(b)};
n.bb=function(){var a={};Tv(this,function(b){if(Fv(b)){var c=b.ba();Ba(Wa(c))&&(c=void 0);a[b.getKey()]=c}},this);return a};n.Y=function(){this.lg=new Ru("");this.lg.Le(!0);Sr(this.lg,32,!1);Ju(this,this.lg);z(this.sh,function(a){Mv(this,a)},this);return Jv.c.Y.call(this)};n.Z=function(a){Jv.c.Z.call(this,a);this.Ni=$q(this.lg||this,this.ye("submit"))};n.v=function(){Jv.c.v.call(this);this.C().g(this,"cmd:edit",this.Av).g(this,"cmd:submit",this.lr).g(this,"cmd:cancel",this.ov);this.Wg(!0)};
n.Av=function(a){a.stopPropagation();this.navigate(this.ec().ab()+"/edit")};n.lr=function(a){a.stopPropagation();this.Wg()&&(this.Ni&&this.Ni.Ga(!1),Gu(this).set(this.bb()),this.Ad().$k(this.Yd,this.Xd,this).Ye(this.Hw,this))};n.ov=function(a){a.stopPropagation();a=this.ec().ab();ya(a,"/edit")&&(a=a.substr(0,a.length-5));this.navigate(a)};n.Yd=ba();
n.Xd=function(a){a instanceof M?"NONE"!==a.X()&&this.Jf(a.X()):this.Jf(a.message);Tv(this,function(a){Dv(a,!1)});this.focus();if(a=a.map){var b=!1;Ic(a,function(a,d){var f=zv(this,d);f.Jf(a.X());b||(b=f.focus())},this)}};n.Hw=function(){this.Ni&&this.Ni.Ga(!0)};n.Ad=function(){var a=this.og();if(a){var b=Gu(this);switch(Gv(this)){case "new":return this.r().qd(a,b,b.j());case "edit":return this.r().put(b.l(),b)}}return new G({})};n.Wg=function(a){var b=!0;Tv(this,function(c){c.Wg(a)||(b=!1)});return b};
n.clear=function(){Tv(this,function(a){a.clear()});this.Jf()};n.Xr=function(a){this.m.mode=a};function Uv(a){return tv(pf(a,{nc:"Create",Nb:!0}))}function Vv(a){return"view"==a.mode?tv(pf(a,{bc:"edituserlaunchpopup"})):"edit"==a.mode?tv(a):tv(pf(a,{nc:"Create",Nb:!0}))};function Wv(a){Jv.call(this,"signin",a);this.Oe("authRequest");this.Ta("Sign in")}y(Wv,Jv);Wv.prototype.Ma=function(a){return a=""+tv(pf(a,{nc:"Sign in",Nb:!0,vj:"vline"==a.Us.Da?'\x3cdiv class\x3d"vl-css3-button vl-signin-signup" vl-cmd\x3d"register"\x3eSign up\x3c/div\x3e':"",uh:'\x3ca class\x3d"vl-signin-forgot" href\x3d"#_vline_forgotpassword"\x3eForgot password?\x3c/a\x3e'}))};Wv.prototype.Y=function(){Rv(this,"email",qf(),!0);Pv(this,"Password",!0,!0,xv);return Wv.c.Y.call(this)};
Wv.prototype.Ad=function(){return wn(this.r(),Gu(this))};Wv.prototype.Yd=ba();function Xv(a){Jv.call(this,"register",a);this.Oe("register");this.Ta("Sign Up")}y(Xv,Jv);Xv.prototype.Ma=function(a){return tv(pf(a,{nc:"Sign up",Nb:!0,uh:'\x3ca class\x3d"vl-signin-forgot" href\x3d"#_vline_signin"\x3eAlready have an account?\x3c/a\x3e'}))};Xv.prototype.Y=function(){this.m.Da=this.M().oa();var a=Rv(this,"email","Enter your email address to sign up",!0);a.eo(qf());a.focus();return Xv.c.Y.call(this)};Xv.prototype.Ad=function(){return this.r().call("register",Gu(this))};
Xv.prototype.Yd=function(){this.dispatchEvent("cmd:registersuccess");this.clear()};function Yv(a){Jv.call(this,"forgotpassword",a);this.Ta("Forgot Password")}y(Yv,Jv);Yv.prototype.Ma=function(a){return tv(pf(a,{Nb:!0,Lk:"Forgot Password",nc:"Submit"}))};Yv.prototype.Y=function(){this.m.Da=this.M().oa();Rv(this,"email","Enter your email address to reset password",!0).eo(qf());return Yv.c.Y.call(this)};Yv.prototype.Ad=function(){return this.r().call("resetPassword",Gu(this))};Yv.prototype.Yd=function(){this.dispatchEvent("cmd:forgotpasswordsuccess");this.clear()};function Zv(a,b){Jv.call(this,"accountexists",b);this.Ta("Account Exists");Kv(this,"There is already an account associated with "+a+".")}y(Zv,Jv);Zv.prototype.Ma=function(a){return tv(pf(a,{nc:"Sign in",bc:"signin",Nb:!0}))};function $v(a,b,c){Jv.call(this,b||"account",c);this.m.Da=a;this.Oe("account");this.Xc=null;this.Je=aw;this.Xn=null;this.Ta("Create User")}y($v,Jv);$v.prototype.Ma=Uv;var aw="Gravatar",bw={oy:aw,my:"Custom Image"};n=$v.prototype;n.Z=function(a){$v.c.Z.call(this,a);"edit"===Gv(this)&&(a=this.Xc.ba(),xa(a,"https://www.gravatar.com/avatar/")||(this.Je="Custom Image"));cw(this,this.Je)};n.Y=function(){this.zq();return $v.c.Y.call(this)};n.v=function(){$v.c.v.call(this);this.Xn&&this.Xn.ta(this.Je)};
n.zq=function(){Ov(this,"displayName","Full Name");Rv(this,"email",qf(),!0);var a=Gv(this);if("view"!==a){a="new"===a;Pv(this,"Password",a);Qv(this,"_passwordConfirm",a);var b=[];Ic(bw,function(a,d){b.push({id:d,name:a})});a=w(function(a){this.Je=a.target.ba();cw(this,this.Je)},this);this.Xn=Nv(this,b,this.Je,a);this.Xc=Sv(this,!0)}else this.Xc=Sv(this,!1),Ov(this,"id","User ID",!1)};
function cw(a,b){"view"!==Gv(a)&&a.Xc&&(b===aw?(a.Xc.show(!1),a.Xc.m.required=!1):(a.Xc.show(!0),a.Xc.m.required=!0))}n.Ad=function(){if("view"!==Gv(this)&&this.Je===aw){var a=Pe(zv(this,"email").ba());this.Xc.ta(a)}return $v.c.Ad.call(this)};n.og=function(){return"edit"===Gv(this)?Ek(this.m.Da,Gu(this).j()):Ek(this.m.Da)};n.Yd=function(){"edit"==Gv(this)?this.dispatchEvent("cmd:editusersuccess"):this.dispatchEvent("cmd:addusersuccess")};
n.bb=function(){if("view"!==Gv(this)&&this.Xc&&this.Je===aw){var a=Pe(zv(this,"email").ba());this.Xc.ta(a)}var a=$v.c.bb.call(this),b=this.m.Da,c=a.id;c&&-1==c.indexOf(":")&&(a.id=b+":"+c);a.dummy&&delete a.dummy;return a};function dw(a,b,c){$v.call(this,b,"signup",c);this.m.Se=a;this.Ta("Create Account")}y(dw,$v);n=dw.prototype;n.Ma=Uv;n.zq=function(){this.m.Da=this.M().oa();if("vline"===this.m.Da){var a=this.pb();a.Qj="/developer/firstuse/app"}else a=this.pb(),a.Qj="/testcall";a.aa="/";a=Fn(new En(this.m.Se,!0)).email;this.m.ig=a;Kv(this," Email:  "+a);Ov(this,"displayName","Full Name");a=Pv(this,"Password",!0);lb(a.Yc,wv);Qv(this,"_confirmPassword",!0)};
n.Ad=function(){var a=Gu(this);a.set("token",this.m.Se);this.og();switch(Gv(this)){case "new":return yn(this.r(),a);case "edit":return this.r().put(a.l(),a)}return new G({})};n.Yd=function(){this.dispatchEvent("cmd:signupsuccess")};n.Xd=function(a){a instanceof M&&"EMAIL_EXISTS"===a.X()?this.dispatchEvent(new lt(this.m.ig)):dw.c.Xd.call(this,a)};function ew(a,b,c){Jv.call(this,b||"invite",c);a&&(this.m.Da=a);this.Oe("account");this.Ta("Invite Users")}y(ew,Jv);n=ew.prototype;n.Ma=function(a){return tv(pf(a,{nc:"Send Invitations",Nb:!0}))};n.Y=function(){Rv(this,"_email1",qf(),!1);Rv(this,"_email2",qf(),!1);Rv(this,"_email3",qf(),!1);Rv(this,"_email4",qf(),!1);return ew.c.Y.call(this)};n.og=function(){return Ek(this.m.Da)};n.Yd=function(){this.dispatchEvent("cmd:inviteusersuccess")};
n.bb=function(){var a=ew.c.bb.call(this),b=a.email;b&&(a.displayName=b.substring(0,b.indexOf("@")));return a};function fw(a,b){var c=a.og();if(c&&null!=b){var d={email:b};d.displayName=b.substring(0,b.indexOf("@"));d.thumbnailUrl=Pe(b);return a.r().qd(c,d)}return new G({})}n.Ad=function(){var a=this.bb();return Ah(fw(this,a._email1),fw(this,a._email2),fw(this,a._email3),fw(this,a._email4))};function gw(a,b){Jv.call(this,"updatepassword",b);this.m.Se=a;this.Ta("Reset Password")}y(gw,Jv);n=gw.prototype;n.Ma=function(a){return tv(pf(a,{nc:"Submit",Nb:!0}))};n.Y=function(){var a=Fn(new En(this.m.Se,!0)).email;Kv(this," Email:  "+a);this.m.Da=this.M().oa();a=Pv(this,"Enter new password",!0);lb(a.Yc,wv);Qv(this,"_confirmPassword",!0);return gw.c.Y.call(this)};n.Ad=function(){Gu(this).set("token",this.m.Se);return this.r().call("updatePassword",Gu(this))};n.Yd=function(){this.dispatchEvent("cmd:resetpasswordsuccess")};
n.Xd=function(a){gw.c.Xd.call(this,a)};function hw(a,b){Jv.call(this,"updateemail",b);this.m.Se=a;this.Ta("Update email");Kv(this,"Updating your email...")}y(hw,Jv);hw.prototype.Ma=function(a){return'\x3cdiv style\x3d"min-width: 300px"\x3e'+tv(pf(a,{buttons:!1}))+"\x3c/div\x3e"};hw.prototype.Y=function(){this.lr(new Lg("cmd:submit"));return hw.c.Y.call(this)};hw.prototype.Ad=function(){Gu(this).set("token",this.m.Se);return this.r().call("updateEmail",Gu(this))};hw.prototype.Yd=function(){this.dispatchEvent("cmd:updateemailsuccess")};function iw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour account is ready. Sign in to get started.\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eSign in\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'}
function jw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour password has been updated!\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eSign in\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'}
function kw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv\x3eYour email has been updated!\x3c/div\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-primary vl-form-button-padding vl-form-submit-button" style\x3d"float:right;" vl-cmd\x3d"appsignin"\x3eOK\x3c/div\x3e\x3cdiv style\x3d"clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e'};function lw(a){Wu.call(this,a);this.m.mode="new"}y(lw,Wu);lw.prototype.Ne=function(a,b){this.m.mode=b.mode||"new";this.m.Kr=b.resourceName;this.m.Kr&&(this.m.Mg=b[this.m.Kr+"Id"]);return lw.c.Ne.call(this,a,b)};lw.prototype.Y=function(){var a=this.m.Mg;if(a){var b=mw(this).n(function(c){c||b.ma(new M("NOT_FOUND",a));this.H.set("r",c);this.m.Mg=c&&c.j();c.ja();Wu.prototype.Y.call(this)},this);return b}return lw.c.Y.call(this)};function nw(a,b,c){$v.call(this,a,b||"account",c)}y(nw,$v);nw.prototype.Ma=Vv;nw.prototype.Y=function(){Yh(Gu(this),"_editable")||(this.m.buttons=!1);return nw.c.Y.call(this)};function ow(a){lw.call(this,a);this.dn=null}y(ow,lw);
ow.prototype.Ma=function(a){return("view"==a.mode?'\x3cdiv class\x3d"vl-app-title"\x3e\x3ca href\x3d"/developer/app/"\x3eMy Services\x3c/a\x3e\x3cspan\x3e \x3e  \x3c/span\x3e\x3ca href\x3d"'+("/developer/app/"+a.Da+"/user/")+'"\x3e'+a.Da+"\x3c/a\x3e\x3cspan\x3e \x3e  \x3c/span\x3e"+(a.hg?"\x3cspan\x3e"+a.hg+"\x3c/span\x3e":a.ig?"\x3cspan\x3e"+a.ig+"\x3c/span\x3e":"\x3cspan\x3e"+a.uid+"\x3c/span\x3e")+"\x3c/div\x3e":"")+'\x3cdiv id\x3d"'+a.id+'"\x3e'+Vv(pf(a.Go,{mode:a.mode,Go:a.Go}))+"\x3c/div\x3e"};
ow.prototype.Y=function(){this.dn&&(this.m.mode=this.dn);var a=new nw;this.m.Go=Iu(this,a);this.m.uid=this.m.Mg;return Xu(this).n(function(){return lw.prototype.Y.call(this)},this)};ow.prototype.Xr=da("dn");ow.prototype.v=function(){ow.c.v.call(this);this.C().g(this,"cmd:edituserlaunchpopup",w(function(){var a=new jt(this.m.Da,this.m.uid);this.dispatchEvent(a)},this))};
function mw(a){var b=a.m.Da,c=a.m.uid=a.m.Mg,d=Ek(a.m.Da,c),f=Hk(b,b);return Ah(a.r().qb(c),a.r().get(f)).n(function(a,f){var k=a.Q(),m=new K;m.$b(d);ci(m,k,"displayName");ci(m,k,"thumbnailUrl");this.m.hg=R(k,"displayName");Vu(this,a);Oe(c)===b&&"managed"===R(f,"authType")&&m.set("_editable",!0);return Dn(this.r(),b,c).n(function(a){this.m.ig=R(a,"email");ci(m,a,"email");ci(m,a,"id");Vu(this,a)},this).Ye(function(){return m})},a)};function pw(a,b){Zt.call(this,a,b);this.Xi=this.Te=this.ty=this.oh=this.Th=this.eh=this.Ji=this.be=this.Of=this.He=this.Ue=this.Ri=this.xi=this.ke=this.vh=this.Fe=this.vi=this.Hi=null;this.Xe()}y(pw,Zt);n=pw.prototype;n.Vk=!1;n.k=function(){this.ff();pw.c.k.call(this)};
n.Xe=function(){this.C().g(this,"hide",this.ff).g(this,Do,this.Mw).g(this,"cmd:register",this.xw).g(this,"cmd:registersuccess",this.ww).g(this,"cmd:signup",this.Qw).g(this,"cmd:signupsuccess",this.Pw).g(this,"cmd:signupexists",this.Ow).g(this,"cmd:resetpassword",this.Fw).g(this,"cmd:resetpasswordsuccess",this.Ew).g(this,"cmd:updateemail",this.Ns).g(this,"cmd:updateemailsuccess",this.ix).g(this,"cmd:forgotpassword",this.Gv).g(this,"cmd:adduser",this.jv).g(this,"cmd:edituser",this.Xq).g(this,"cmd:inviteuser",
this.Xv).g(this,"cmd:inviteusersuccess",this.Wv).g(this,"cmd:addusersuccess",this.iv).g(this,"cmd:edituser",this.Xq).g(this,"cmd:editusersuccess",this.Qh).g(this,"cmd:forgotpasswordsuccess",this.Fv).g(this,"cmd:unsupportedbrowser",this.hx)};n.Mw=function(a){var b=this.Hi||(this.Hi=new Wv);qw(this,a,b)};n.xw=function(a){var b=this.vi||(this.vi=new Xv);qw(this,a,b)};n.Qw=function(a){var b=a.get("token"),b=this.Of||(this.Of=new dw(b));qw(this,a,b)};
n.Fw=function(a){var b=a.get("token"),b=this.xi||(this.xi=new gw(b));qw(this,a,b)};n.Ns=function(a){var b=a.get("token"),b=this.Ri||(this.Ri=new hw(b));qw(this,a,b)};n.jv=function(a){var b=this.eh||(this.eh=new $v(a.Da));qw(this,a,b)};n.Xv=function(a){var b=this.Th||(this.Th=new ew(a.Da));qw(this,a,b)};n.Xq=function(a){var b=this.oh||(this.oh=new ow(this.o()));b.Xr("edit");var c=a.hy;b.m.Da=a.Da;b.m.Mg=c;b.Ta("Edit User");qw(this,a,b)};
n.ww=function(a){this.Fe||(this.Fe=new $,this.Fe.Ma=rw,this.Fe.Ta("Thank You!"));qw(this,a,this.Fe)};n.Gv=function(a){var b=this.vh||(this.vh=new Yv);qw(this,a,b)};n.Fv=function(a){this.ke||(this.ke=new $,this.ke.Ma=sw,this.ke.Ta("Reset Password"));qw(this,a,this.ke)};n.hx=function(a){this.Te||(this.Te=new $,this.Te.Ma=tw,this.Te.Ta("Browser Not Supported"));qw(this,a,this.Te)};n.Pw=function(a){this.be||(this.be=new $,this.be.Ma=iw,this.be.Ta("Account Created"));qw(this,a,this.be)};
n.Ow=function(a){var b=this.Ji||(this.Ji=new Zv(a.ig));qw(this,a,b)};n.Ew=function(a){this.He||(this.He=new $,this.He.Ma=jw,this.He.Ta("Password Reset"));qw(this,a,this.He)};n.ix=function(a){this.Ue||(this.Ue=new $,this.Ue.Ma=kw,this.Ue.Ta("Email updated"));qw(this,a,this.Ue)};n.iv=function(){this.Qh()};n.Wv=function(){this.Qh()};function qw(a,b,c){b.stopPropagation();a.hj=b.type;c instanceof Jv&&(a.Xi&&(b=a.Xi.ba("email"))&&c.ta("email",b),a.Xi=c);$t(a,c)}
n.ff=function(a){if(!a||a.target===this){this.hj=void 0;this.Xi=null;this.Hi&&(this.Hi.F(),this.Hi=null);this.vi&&(this.vi.F(),this.vi=null);this.Of&&(this.Of.F(),this.Of=null);this.xi&&(this.xi.F(),this.xi=null);this.eh&&(this.eh.F(),this.eh=null);this.Th&&(this.Th.F(),this.Th=null);this.oh&&(this.oh.F(),this.oh=null);this.Fe&&(this.Fe.F(),this.Fe=null);this.vh&&(this.vh.F(),this.vh=null);this.ke&&(this.ke.F(),this.ke=null);this.Of&&(this.Of.F(),this.be=null);this.be&&(this.be.F(),this.be=null);
this.Ji&&(this.Ji.F(),this.Ji=null);this.He&&(this.He.F(),this.He=null);this.Ri&&(this.Ri.F(),this.Ri=null);this.Ue&&(this.Ue.F(),this.Ue=null);this.Te&&(this.Te.F(),this.Te=null);var b=this.getParent();b&&b instanceof uw&&b.execute(function(){b.show(!1)})}};function rw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cp class\x3d"vl-dialog-msg"\x3eCheck your email to complete your signup.\x3c/p\x3e\x3c/div\x3e'}function sw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3ch2 class\x3d"vl-dialog-heading"\x3ePassword reset instruction sent!\x3c/h2\x3e\x3cp class\x3d"vl-dialog-msg"\x3eCheck your email and follow the link to reset your password.\x3c/p\x3e\x3c/div\x3e'}
function tw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cp class\x3d"vl-dialog-msg"\x3e Please upgrade \x3ca href\x3d"http://windows.microsoft.com/en-us/internet-explorer/download-ie" target\x3d"_blank"\x3eInternet Explorer\x3ca/\x3e or download \x3ca href\x3d"https://www.google.com/chrome" target\x3d"_blank"\x3eGoogle Chrome\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e'}
function vw(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv class\x3d"vl-call-dialog-top"\x3e\x3cdiv class\x3d"vl-call-dialog-avatar"\x3e\x3cimg class\x3d"vl-avatar-huge-img" src\x3d"'+a.xo+'" alt\x3d""/\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-text"\x3e\x3cdiv class\x3d"vl-call-dialog-heading" vl-bind\x3d"callDialogHeading"\x3e\x3c/div\x3e\x3cspan class\x3d"vl-call-dialog-name"\x3e'+a.hg+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-controls"\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-red vl-call-dialog-control-btn" vl-cmd\x3d"declinecall"\x3e\x3cspan class\x3d"btn-icon-phone-hang-up"\x3e\x26#57382;\x3c/span\x3e Decline\x3c/div\x3e\x3cdiv id\x3d"'+
a.id+'-accept" class\x3d"vl-css3-button vl-accept-button vl-css3-button-green vl-call-dialog-control-btn vl-left" vl-cmd\x3d"acceptcall"\x3e\x3cspan class\x3d"btn-icon-camera"\x3e\x26#57383;\x3c/span\x3e Accept\x3c/div\x3e\x3cdiv id\x3d"'+a.id+'-menudrop" class\x3d"vl-menu-button vl-accept-menu-button vl-menu-button-green vl-menu-button-collapse-left vl-inline-block vl-call-dialog-control-btn vl-right" \x3e\x3cdiv class\x3d"vl-menu vl-menu-vertical"\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57383;\x3c/span\x3e Accept Video\x3c/div\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57383;\x3c/span\x3e Accept Video (HD)\x3c/div\x3e\x3cdiv class\x3d"vl-menuitem vl-accept-dropdown"\x3e\x3cspan class\x3d"btn-icon-large"\x3e\x26#57385;\x3c/span\x3e Accept Voice Only\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
function ww(a){return'\x3cdiv id\x3d"'+a.id+'"\x3e\x3cdiv class\x3d"vl-call-dialog-top"\x3e\x3cdiv class\x3d"vl-call-dialog-avatar"\x3e\x3cimg class\x3d"vl-avatar-huge-img" src\x3d"'+a.xo+'" alt\x3d""/\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-text"\x3e\x3cdiv class\x3d"vl-call-dialog-heading" vl-bind\x3d"callDialogHeading"\x3e\x3c/div\x3e\x3cspan class\x3d"vl-call-dialog-name"\x3e'+a.hg+'\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"vl-call-dialog-controls"\x3e\x3cdiv class\x3d"vl-css3-button vl-css3-button-red vl-call-dialog-control-btn" vl-cmd\x3d"declinecall"\x3e\x3cspan class\x3d"btn-icon-phone-hang-up"\x3e\x26#57382;\x3c/span\x3e End Call\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'}
;function xw(a,b){O.call(this);this.cb=a;this.nu=!!b;this.wf=this.Um();if(!this.wf){var c=A&&!D("7")?"readystatechange":"load";this.yk=$g(this.cb,c,this.aq,!1,this);this.Rm=window.setInterval(w(this.aq,this),yw)}}y(xw,O);var yw=100;n=xw.prototype;n.yk=null;n.se=e("wf");function zw(a){a.Rm&&(window.clearInterval(a.Rm),a.Rm=null)}n.k=function(){delete this.cb;zw(this);hh(this.yk);xw.c.k.call(this)};n.Um=function(){var a=!1;try{a=A?"complete"==this.cb.readyState:!!ld(this.cb).body&&(!this.nu||!!ld(this.cb).body.firstChild)}catch(b){}return a};
n.aq=function(){this.Um()&&(zw(this),hh(this.yk),this.yk=null,this.wf=!0,this.dispatchEvent("ifload"))};function uw(a){$.call(this,a);this.Zb=this.Sj=this.cb=null}y(uw,$);n=uw.prototype;n.w=function(){this.B=this.cb};n.Y=function(){this.Zb=new G;var a=w(function(){H(function(){this.Sj=ld(this.e());this.ug=Uc(this.Sj);this.Zb.$(this)},0,this)},this);this.B=this.cb=this.oj();var b=new Aw(this.cb,!0);b.se()?a():this.C().g(b,"ifload",a);return this.Zb};n.execute=function(a,b){this.Zb.Yf(a,b);return this.Zb};n.v=function(){uw.c.v.call(this);var a=this.pb();this.C().g(this.Sj,"click",a.Vq,!1,a)};n.oj=function(){return Bw(this.o())};
n.va=function(){return this.Sj.body};n.Fd=function(a,b,c){uw.c.Fd.call(this,a,b,c);a.xb=this.ug};function Aw(a,b){xw.call(this,a,b)}y(Aw,xw);Aw.prototype.Um=function(){var a=ld(this.cb).getElementById("vl-iframe-loadtest");return a?2===a.offsetWidth:!1};function Bw(a,b){var c=a.w("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;"+(b||""),src:'javascript:""'});c.onload=function(){window.isVlineFrameLoaded=!0};return c}
function Cw(a,b,c){var d=Uc(a),f=[];f.push("\x3c!DOCTYPE html\x3e");f.push('\x3chtml style\x3d"min-height:100%; overflow:hidden;"\x3e\x3chead\x3e',b,'\x3c/head\x3e\x3cbody style\x3d"min-height:100%; overflow:hidden;"\x3e','\x3cdiv id\x3d"vl-iframe-loadtest"\x3e\x3c/div\x3e',"\x3c/body\x3e\x3c/html\x3e");b=Bw(d,c);a.appendChild(b);a=f.join("");f=ld(b);f.open();f.write(a);f.close();return b};function Dw(a,b){uw.call(this,b)}y(Dw,uw);Dw.prototype.oj=function(){var a=this.M().ia().I,b=document.body,a='\x3clink rel\x3d"stylesheet" href\x3d"'+fj(a)+'"/\x3e';return Cw(b,a,"width:100%;height:100%")};function Ew(a,b){$.call(this,b);this.Tg=a;this.Ta("")}y(Ew,$);Ew.prototype.Y=function(){this.getData().qz=this.Tg;var a=new Dw(0,this.o());a.Kf(this);return a.load().n(function(){this.B=a.e();this.lb();a.e().src="https://www.youtube.com/embed/MfSqpj9byeI?autoplay\x3d1\x26rel\x3d0\x26autohide\x3d1\x26showinfo\x3d0";return $.prototype.Y.call(this)},this)};Ew.prototype.v=function(){Ew.c.v.call(this);var a=this.L.Ki;this.C().g(a,"resize",this.lb);this.lb()};
Ew.prototype.lb=function(){var a=0.6*$c().width,b=0.6*a;Fq(this.e(),a);Gq(this.e(),b)};function Fw(a){Zt.call(this,"vl-embed-dialog",a);this.nh=null;this.Xe()}y(Fw,Zt);n=Fw.prototype;n.Vk=!1;n.Xe=function(){this.C().g(this,"hide",this.ff).g(this,"cmd:showembedvideo",this.Bv)};n.Bv=function(){this.nh=new Ew("",this.o());$t(this,this.nh)};n.v=function(){Fw.c.v.call(this);var a=en(this.getParent().ia());this.C().g(a,"resize",this.lb);this.lb()};n.lb=function(){var a=0.6*$c().width,b=0.6*a;Fq(this.e(),a);Gq(this.e(),b)};n.ff=function(){this.nh&&(this.nh.F(),this.nh=null)};function Gw(a){Yu.call(this,a);this.Nf=!1;this.Fk=this.Ii=null;this.aa=this.Qj="/";this.xp=null;this.aj={};this.m.Us=this.aj;this.fi={};this.Ve={};this.Xo=this.Ho=null;this.bj=new K;this.H.set("app",this.bj);this.bj.ja()}y(Gw,Yu);n=Gw.prototype;
n.Y=function(){var a=this.M();this.aj.Da=a.oa();this.Za=Hw(this);var b=this.C();b.g(a,"login",this.cr,!0).g(a,"logout",this.cr,!0).g(this,Do,this.Xk).g(this,"cmd:appsignin",this.Xk).g(this,"cmd:register",this.Vc).g(this,"cmd:adduser",this.Vc).g(this,"cmd:inviteuser",this.Vc).g(this,"cmd:edituser",this.Vc).g(this,"cmd:signup",this.Vc).g(this,"cmd:resetpassword",this.Vc).g(this,"cmd:updateemail",this.Vc).g(this,"cmd:forgotpassword",this.Vc).g(this,"cmd:embedvideopopup",this.Sx).g(this,"cmd:unsupportedbrowser",
this.Vc);b.g(this,"cmd:nav",this.kw);0<this.Ai.length&&(b.g(this.ec(),"navigate",this.Ov),this.ec().Ga(!0));Iw(this);return Ah(Gw.c.Y.call(this),this.Si(Hw(this))).n(pe).n(jk)};function Hw(a){a=new bo(a.ec().ab());var b=window.location.hash;b&&ho(a,b);return a}n.Si=function(a,b){return Gw.c.Si.call(this,a,b).n(function(){Jw(this,a)},this).Mb(function(b){b&&(b instanceof M&&"LOGIN_REQUIRED"==b.type)&&(this.Ii=a,this.J&&this.Xk())},this)};n.Z=function(a){Gw.c.Z.call(this,a)};
n.v=function(){Gw.c.v.call(this);this.C().g(wd(this.o()),"click",this.Vq).g(this,"action",this.fv).g(this,"cmd:signout",this.Nw);this.Ii?this.Xk():this.Fk&&this.Vc(this.Fk)};n.ga=function(){Gw.c.ga.call(this);this.ec().Ga(!1)};n.navigate=function(a,b){var c=uo(this.ec().ab(),a);this.Za&&c.toString()!==this.Za.toString()&&Kw(this,c,b)};
n.Ov=function(a){var b=oo(this.Za,Hw(this));a.Eu&&(this.Za&&b.toString()!==this.Za.toString())&&(1<window.location.hash.length&&ho(b,window.location.hash.substr(1)),Kw(this,b,!0))};function Kw(a,b,c){a.Ii=null;a.Qg&&a.Pj(a.Qg,!1);a.Ne(b,{}).n(function(){var a=this.ec(),f=this.qg(),g=b.toString();g!==a.ab()&&(c?a.Rn(g,f):a.bs(g,f),wd(this.o()).title=f);H(this.Rr,0,this)},a)}n.Vq=function(a){var b=a.target;do if("A"===b.tagName&&b.hasAttribute("href")){Lw(this,b)&&a.preventDefault();break}while(b=b.parentNode)};
function Lw(a,b){var c=Da(b.getAttribute("href")),d=uo(a.ec().ab(),c);if(xa(c,"#_vline_"))return d=new bo(a.ec().ab()),ho(d,c),Jw(a,d),!0;if(xa(c,"#_link_"))return c=td(b),window.open(c,"_blank"),!0;if(!d.wd){if(a.Za&&a.Za.l()===d.l()&&a.Za.Wb!==d.Wb)return a.Za=d,a.Rr(),!1;if(0<a.Ai.length&&Ao())return a.navigate(c),!0}return!1}
function Jw(a,b){if(b&&b.Wb&&-1!=b.Wb.indexOf("_vline_")){var c=b.Wb;if(xa(c,"#_vline_")||xa(c,"_vline_")){var d=c;xa(c,"#_vline_")&&(d=Sa(d,"#"));d=Sa(d,"_vline_");c=null;if(-1!==d.indexOf("$")){var f=d.substr(d.indexOf("$")+1);f&&(c=new io(f));d=d.substr(0,d.indexOf("$"))}d="cmd:"+d;f=a.M();"cmd:signup"===d&&f.Vh()&&!f.Xj()||a.dispatchEvent(new kt(d,c))}}}
n.fv=function(a){var b;a=a.target;var c=a.e();c&&((b=Bu(c,"vl-event"))&&a.dispatchEvent(b),(b=Bu(c,"vl-cmd"))&&a.dispatchEvent("cmd:"+b),(b=Bu(c,"vl-nav"))&&a.dispatchEvent(new it(b)))};
n.cr=function(){try{if(Iw(this))if(this.Qg&&this.Pj(this.Qg,!1),this.Ii)Kw(this,this.Ii);else if(this.Nf=!0,this.Za&&this.Za.Wb&&(xa(this.Za.Wb,"_vline_")||xa(this.Za.Wb,"#_vline_"))){window.location.hash="";ho(this.Za,"");this.navigate(this.Qj);var a=this.aa;this.aa=this.Qj=a}else 0<this.Ai.length&&this.Si(this.Za,!0)}finally{this.Nf=!1}};
function Iw(a){var b=null,c=null,d=a.M(),f=d.Vh()&&!d.Xj();f&&(b=d.kf().Ba,c=d.kf().Pa().Vl);a.bj.set("user",b);a.bj.set("email",c);return a.aj.Uu!==f?(a.aj.Uu=f,!0):!1}function $u(a){return a.Nf}n.Vc=function(a){var b=new G("pending");if(this.Nf&&!a)return b;if(this.J)return Mw(this,a);a&&(this.Fk=a);return b};
function Mw(a,b){var c=b||Do;a.Fk=null;c=a.showModalDialog(c);return a.Nf?new G("pending"):(c.Ye(function(){this.Nf=!1},a).Mb(function(){var a=this.M(),b=new xn(null);a.dispatchEvent(b)},a),a.Nf=!0,c)}n.showModalDialog=function(a){return this.Wk(Nw(this),a)};function Nw(a){a.Qg||(a.Qg=new pw);return a.Qg}n.Pj=function(a,b){a&&a.Qh();b&&a&&a.F()};n.Nw=function(){this.M().kf().ic()};n.kw=function(a){this.navigate(a.href,a.replaceState)};n.Xk=function(){var a=this.M();a.yf(a.oa())};
n.Wk=function(a,b){!a.getParent()&&this.ra(a,!1);return a.show(b)};function Ow(a){if(!a.Wl){var b=Pw(a);a.Wl=new Fw(b.ug);a.Wl.Kf(a)}return a.Wl}n.Sx=function(){if(A)window.open("https://www.youtube.com/embed/MfSqpj9byeI?autoplay\x3d1\x26rel\x3d0\x26autohide\x3d1\x26showinfo\x3d0","_blank");else{var a=new P("cmd:showembedvideo",null);this.Wk(Ow(this),a)}};function Pw(a){var b;(b=a.xp)||(b=new Qw,a.ra(b,!1),b.load().Yf(b.v,b),b=a.xp=b);return b}
function Rw(a,b,c){var d=Pw(a),f=new G;d.execute(function(){var a;a=Pw(this);!b.getParent()&&a.ra(b,!1);a=b.show(c);pc(a,f.$,f.ma,f);d.show(!0)},a);return f}function Sw(a,b,c){var d=new G;c.execute(function(){var a=Tw(b,c);pc(a,d.$,d.ma,d)},a);return d}function Uw(a,b,c,d){return c.execute(function(){b.show(!1);null!=d?c.show(!d):c.show(!1)},a)}function Tw(a,b){!a.getParent()&&b.ra(a,!1);return a.se()?(b.show(!0),a.show(!0)):a.load().n(function(){a.Qb();a.show(!0);b.show(!0)})}
function Vw(a){return a.se()?a.show(!0):a.load().n(function(){a.Qb();a.show(!0)})}function Ww(a,b,c){var d=Pw(a);d.execute(function(){b&&b.Qh();c&&b&&b.F();d.show(!1)},a)}function Xw(a,b){return a.Xo||(a.Xo=new Yw(b))}n.mo=function(){if(!Mi()){var a=Xw(this,this.o());Vw(a)}};n.Oj=function(){Mi()||Xw(this,this.o()).show(!1);return new G("done")};n.np=function(a){return Zw(this,a,this.o())};function Zw(a,b,c){a.fi[b]=new $w(c);return a.fi[b]}
function xl(a,b,c){F(a.G,"Show media dialog");a.Wk(a.fi[b],c)}function vl(a,b,c){F(a.G,"Hide media dialog "+c);var d=a.fi[b];d&&a.Pj(d,c);c&&d&&delete a.fi[b]}n.fs=function(a){return(a=this.Ve[a])?Vw(a):new G("no panel")};n.rp=function(a){a=ax(this,a,this.o());this.ra(a,!1);return a};function ax(a,b,c,d){F(a.G,"Creating video panel");var f=b.j(),g=b.Xb().r().M();a.Ve[f]=new bx(b,g,c,d);return a.Ve[f]}n.Jm=function(a,b){var c=this.Ve[a];c&&this.fq(c,b);c&&b&&delete this.Ve[a]};
function cx(a,b,c){var d=dx(a);Uw(a,b,d,!0).n(function(){c&&b.F()})}n.fq=function(a,b){F(this.G,"Hiding video panel");a&&a.show(!1);a&&b&&a.F()};function dx(a,b){if(!a.Ho){F(a.G,"Creating video Iframe");var c=null;b&&(c=u(b)?a.o().e(b):b);c=new ex(c);a.ra(c,!1);c.load().Yf(c.v,c);a.Ho=c}return a.Ho}n.r=function(){return this.M().kf()};function fx(a,b){$.call(this,b);this.A=a||null;this.Ma=vw;this.Ta("Incoming call")}y(fx,$);fx.prototype.Y=function(){var a=this.getData();a.hg=this.A.Md();a.xo=this.A.gd()||"https://www.gravatar.com/avatar?d\x3dmm";this.Q().set("callDialogHeading","Incoming call");return fx.c.Y.call(this)};
fx.prototype.v=function(){fx.c.v.call(this);this.C().g(this,"cmd:acceptcall",w(function(){this.A.start()},this));this.C().g(this,"cmd:declinecall",w(function(){this.A.stop()},this));this.C().g(this.A,"enterState:connecting",w(function(){this.Q().set("callDialogHeading","Connecting")},this));var a=$q(this,this.ye("menudrop"));if(a){var b=this.Cj("accept");a&&Ds(a,b);this.C().g(a,"action",w(function(a){a=a.target.ba();ya(a,"Accept Voice Only")?this.A.start({audio:!0}):ya(a,"Accept Video (HD)")?this.A.start({audio:!0,
video:!0,hd:!0}):this.A.start()},this))}};function gx(a,b){$.call(this,b);this.A=a||null;this.Ma=ww;this.Ta("Outgoing call")}y(gx,$);gx.prototype.Y=function(){var a=this.getData();a.hg=this.A.Md();a.xo=this.A.gd()||"https://www.gravatar.com/avatar?d\x3dmm";this.A.Tm()?this.Q().set("callDialogHeading","Connecting"):this.Q().set("callDialogHeading","Calling");return gx.c.Y.call(this)};
gx.prototype.v=function(){gx.c.v.call(this);this.C().g(this,"cmd:declinecall",w(function(){this.A.stop()},this)).g(this.A,"enterState:connecting",w(function(){this.Q().set("callDialogHeading","Connecting")},this))};function Qw(a){uw.call(this,a)}y(Qw,uw);n=Qw.prototype;n.oj=function(){var a=this.M().ia().I,b=document.body,a='\x3clink rel\x3d"stylesheet" href\x3d"'+fj(a)+'"/\x3e';return Cw(b,a,"position: absolute; z-index: 10001; top: 0 ;left : 0; max-width:100%; visibility:hidden")};n.v=function(){Qw.c.v.call(this);var a=this.L.Ki;this.C().g(a,"resize",this.lb).g(this,"beforeshow",this.Cn).g(this,"hide",this.Nv);this.lb()};n.lb=function(){var a=$c();Fq(this.cb,a.width);Gq(this.cb,a.height)};n.Cn=function(){this.show(!0)};
n.Nv=function(a){a&&a.target!==this||this.show(!1)};function ex(a,b){uw.call(this,b);this.In=a||document.body}y(ex,uw);
ex.prototype.oj=function(){var a=this.M().ia().I,b="";this.In===document.body&&(b+="top:0; left:0;");b+="z-index: 10000; position:absolute; width:100%; height:100%; visibility:hidden";a='\x3clink rel\x3d"stylesheet" href\x3d"'+fj(a)+'"/\x3e';b=Cw(this.In,a,b);b.setAttribute("allowfullscreen","allowfullscreen");b.setAttribute("webkitallowfullscreen","webkitallowfullscreen");b.setAttribute("mozallowfullscreen","mozallowfullscreen");return b};
ex.prototype.v=function(){if(this.In===wd(this.o()).body){this.mn=!0;var a=this.L.Ki;this.C().g(a,"resize",this.lb);this.lb()}ex.c.v.call(this)};ex.prototype.lb=function(){var a=this.L.Ki.fc();Fq(this.cb,a.width);Gq(this.cb,a.height)};function hx(a,b,c,d,f){$.call(this,c);this.za=a;this.ur=this.ze=null;this.Bs=f;this.jq=b||"https://www.gravatar.com/avatar?d\x3dmm";this.nb(this.za.j());this.Cx=t(d)?d:!0}y(hx,$);n=hx.prototype;n.Ea=function(){return this.za.Ea()};n.Wp=function(){var a=640;this.ze&&(a=this.ze.videoWidth);return a};function ix(a,b){Ec(a.e(),"vl-video-wrap-inset",b)}n.v=function(){hx.c.v.call(this);this.Cx&&this.C().g(this.za,"speaking:start",this.Vx).g(this.za,"speaking:stop",this.Wx)};
n.Z=function(a){hx.c.Z.call(this,a);var b=this.za.Ea(),c=this.Bs;null!=c||(c=b?1:0);a.className="vl-video-wrap vl-video-wrap-"+(b?"local":"remote");qq(a,{overflow:"hidden",position:"absolute","z-index":c});this.za.Pd()||(a=cd("img",{src:this.jq,width:"100%",height:"100%"}),this.o().appendChild(this.e(),a));a=this.za;b=a.pp();c=a.Ea()?"local":"remote";b.className="vl-video vl-video-"+c;qq(b,{width:"100%",height:"100%",position:"absolute"});a.Ea()&&aj(b);this.o().appendChild(this.e(),b);this.ze=b};
n.k=function(){hx.c.k.call(this);this.ze&&this.ze.setAttribute("src","");this.ur&&this.ur.setAttribute("src","")};n.Vx=function(a){Ec(this.e(),"vl-video-wrap-speaking",!0);this.dispatchEvent(a.type)};n.Wx=function(a){Ec(this.e(),"vl-video-wrap-speaking",!1);this.dispatchEvent(a.type)};function jx(a){return a?a+"px":"auto"}
function kx(a,b,c,d,f,g,h,k){var m="";d={width:jx(c),height:jx(d),top:jx(f),left:jx(g)};c=Math.floor(0.05*c);switch(h){case 1:m=Cu(0.05,c);break;case 2:c=Math.floor(1.8*c);m=Cu(0,c);break;case 3:m=Cu(-0.05,c)}null!=k&&(a.Bs=k,(h=a.e())&&(h.style.zIndex=k));a.setTransform(d,m);if(a=a.e())b?Du(a,"all 0.75s"):Du(a,""),qq(a,d)}n.setTransform=function(a,b){a["-webkit-transform"]=a["-moz-transform"]=b};function lx(){}y(lx,ts);ha(lx);lx.prototype.w=function(a){return a.o().w("div",this.K()+" vl-inline-block","Â ")};lx.prototype.la=function(a,b){b=lx.c.la.call(this,a,b);zc(b,"vl-inline-block");return b};lx.prototype.K=l("vl-toolbar-separator");function mx(){}y(mx,Yr);ha(mx);mx.prototype.rc=l("toolbar");mx.prototype.Ah=function(a){return"HR"==a.tagName?new us(lx.Ja()):mx.c.Ah.call(this,a)};mx.prototype.K=l("vl-toolbar");mx.prototype.Op=function(){return as};function nx(a,b,c){ds.call(this,b,a||mx.Ja(),c)}y(nx,ds);function ox(){}y(ox,xs);ha(ox);ox.prototype.K=l("vl-toolbar-button");function px(a,b,c){Xr.call(this,a,b||ox.Ja(),c)}y(px,Xr);Ir("vl-toolbar-button",function(){return new px(null)});function qx(a,b){us.call(this,a||lx.Ja(),b)}y(qx,us);Ir("vl-toolbar-separator",function(){return new qx});function rx(a,b,c){Xr.call(this,a,b||xs.Ja(),c);Sr(this,16,!0)}y(rx,Xr);Ir("vl-toggle-button",function(){return new rx(null)});function sx(a,b,c){rx.call(this,a,b||ox.Ja(),c)}y(sx,rx);Ir("vl-toolbar-toggle-button",function(){return new sx(null)});function tx(a,b,c,d){nx.call(this,void 0,void 0,d);this.he=a;this.A=c||null;this.I=b||null;this.cd=null;this.gm="vl-controls-fullscreen-btn";this.Ae=null;this.Oq="vl-controls-mute-audio-btn";this.Wd=null;this.Pq="vl-controls-mute-video-btn";this.jg=null;this.Ap="vl-controls-end-call-btn";this.Rf=null;this.ps="vl-controls-transfer-call-btn";this.Tf=null;this.qs="vl-controls-trigger-debug-btn";this.kj=3E3;this.xu=5E3;this.Re=0;this.zl=this.el=this.nn=!1;this.yq=0;this.R=!1;this.yp=!0;this.kp=0}
y(tx,nx);n=tx.prototype;
n.w=function(){tx.c.w.call(this);var a=this.o();this.I.get(T.Ks)||(this.cd=new sx(cd("div",ux(this.gm)),void 0,a),this.cd.zd("Toggle Fullscreen"),vx(this,this.cd));var b=Ci&&(!Li(23)||this.A.zf);b||(this.Ae=new sx(cd("div",ux(this.Oq)),void 0,a),this.Ae.zd("Toggle Audio Mute"),this.A&&Rr(this.Ae,this.A.Yj()),vx(this,this.Ae));b||(this.Wd=new sx(cd("div",ux(this.Pq)),void 0,a),this.Wd.zd("Toggle Video Mute"),vx(this,this.Wd));this.jg=new px(cd("div",ux(this.Ap)),void 0,a);this.jg.zd("End Call");vx(this,
this.jg);this.I.get(T.Ms)&&(this.Rf=new px(cd("div",ux(this.ps)),void 0,a),this.Rf.zd("Transfer Call"),vx(this,this.Rf));this.I.get(T.Ls)&&(this.Tf=new sx(cd("div",ux(this.qs)),void 0,a),this.Tf.zd("Trigger debug (log stats)"),vx(this,this.Tf))};function vx(a,b){Mi()&&Sr(b,2,!1);a.ra(b,!0)}
n.v=function(){tx.c.v.call(this);var a=this.C(),b=this.he.e();a.g(this.jg,"action",this.Cv).g(wd(this.he.getParent().o()),C?"webkitfullscreenchange":B?"mozfullscreenchange":null,this.Iv).g(this,"enter",this.Ev).g(this,"leave",this.vn).g(b,"mousemove",this.Dn).g(b,"touchstart",this.nr).g(b,"touchend",this.ox);a.g(b,"click",this.Dn);this.A&&a.g(this.A,"enterState:active",this.ew);this.cd&&a.g(this.cd,"action",this.Hv);this.Rf&&a.g(this.Rf,"action",this.ax);this.Tf&&a.g(this.Tf,"action",this.cx);this.Ae&&
a.g(this.Ae,"action",this.iw);this.Wd&&a.g(this.Wd,"action",this.jw);this.ha(!1);this.R=!1;wx(this,!0);xx(this,this.xu)};n.ga=function(){yx(this);Ni(wd(this.he.getParent().o()))};
n.kd=function(a){var b=a.width,c=a.height;a=this.e();a=Iq(a).width;b=Math.min(b,c);c=a-(a+50-b);if(c!==this.kp){this.kp=c;var b=br(this),d=cr(this,0).e(),d=uq(d,"width");isFinite(d)&&(d=String(d));a=Math.min(Math.max(c/b*((u(d)?/^\s*-?0x/i.test(d)?parseInt(d,16):parseInt(d,10):NaN)/(a/b)),20),40);a=Math.floor(a);for(c=0;c<b;c++)d=cr(this,c).e(),d.style.width=a+"px",d.style.fontSize=a+"px"}};n.ew=function(){zx(this);wx(this,!0);xx(this,this.kj)};n.Ev=function(){this.nn=!0};
n.vn=function(){this.nn=!1;xx(this)};function ux(a){return a+"-unchecked"}function Ax(a,b,c){a&&(b?Dc(a,ux(c),c+"-checked"):Dc(a,c+"-checked",ux(c)))}n.Iv=function(){var a;a=wd(this.he.getParent().o());a=t(a.fullscreenElement)?a.fullscreenElement:!(!a.mozFullScreen&&!a.webkitIsFullScreen);Rr(this.cd,a);Ax(this.cd.ka,a,this.gm)};
n.Hv=function(){var a=Fr(this.cd,16);Ac(this.cd.e(),"vl-toolbar-button-checked");var b=this.cd.ka;if(a){var c=null!=this.he.Kp?this.he.Kp:this.he.e();ma(c.webkitRequestFullScreen)?c.webkitRequestFullScreen():ma(c.mozRequestFullScreen)?c.mozRequestFullScreen():ma(c.requestFullScreen)&&c.requestFullScreen()}else Ni(wd(this.he.getParent().o()));Ax(b,a,this.gm)};n.iw=function(){var a=Fr(this.Ae,16);this.A&&this.A.Ng(a);Ax(this.Ae.ka,a,this.Oq)};
n.jw=function(){var a=Fr(this.Wd,16);this.A&&this.A.Pg(a);Ax(this.Wd.ka,a,this.Pq)};n.Cv=function(){var a=Fr(this.jg,16);if(this.A){var b=this.A.Xb();b&&b.Qe()}(b=this.jg.ka)&&Ax(b,a,this.Ap)};n.ax=function(){var a=Fr(this.Rf,16);this.A&&this.A.fl();Ax(this.Rf.ka,a,this.ps)};n.cx=function(){var a=Fr(this.Tf,16);Bx(this.he,a);Ax(this.Tf.ka,a,this.qs)};n.su=function(){var a=ua()-this.yq;a<this.kj?xx(this,this.kj-a):this.nn||(wx(this,!1),yx(this))};
function wx(a,b){a.I.get(T.Js)&&(b=!0);a.R!==b&&((a.R=b)?xx(a):yx(a),a.Wd&&a.Wd.ha(a.yp),a.zl=!0,au(a.e(),b,"fade",0.25).n(function(){this.ha(b);this.zl=!1},a))}function yx(a){a.Re&&(sh(a.Re),a.Re=0)}function xx(a,b){a.Re&&yx(a);a.Re=H(a.su,null!=b?b:a.kj,a)}n.Dn=function(){this.el||(this.yq=ua(),this.R||(zx(this),wx(this,!0)))};n.nr=function(a){this.zl||(kd(this.e(),a.target)?this.Dn():(a.stopPropagation(),a.preventDefault(),wx(this,!this.R)));this.el=!0};
n.ox=function(a){this.el||this.nr(a);this.el=!1};function zx(a){if(a.A){var b=a.A.Dh();b&&b[0]&&(a.yp=b[0].Pd())}};function Cx(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,m,p,r,s){if("%"==p)return"%";var v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return Dx[p].apply(null,arguments)})}
var Dx={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Ua(" ",c-a.length):Ua(" ",c-a.length)+a},f:function(a,b,c,d,f){d=a.toString();isNaN(f)||""==f||(d=a.toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;return d=0<=b.indexOf("-",0)?g+d+Ua(" ",a):g+Ua(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,f,g,h,k){return Dx.f(parseInt(a,
10),b,c,d,0,g,h,k)}};Dx.i=Dx.d;Dx.u=Dx.d;function Ex(a,b,c,d){$.call(this,d);this.Cl=b;this.Lo=a;this.t=c;this.us=0;this.Ko="Gathering video stats";this.Bl="Gathering audio stats";this.gp="Gathering connection stats"}y(Ex,$);var Fx={},Gx=!1,Hx={},Ix={};n=Ex.prototype;n.Z=function(a){Ex.c.Z.call(this,a);this.e().className="vl-trackstats-panel";Jx(this)};function Jx(a){a.e().innerHTML="\x3cHR\x3eVideo\x3cHR\x3e"+a.Ko+"\x3cHR\x3eAudio\x3cHR\x3e"+a.Bl+"\x3cHR\x3eConnection\x3cHR\x3e"+a.gp}
n.v=function(){Ex.c.v.call(this);Ix[this.t.j()]||(Ix[this.t.j()]=0);Ix[this.t.j()]++;1==Ix[this.t.j()]&&this.ss();this.ts()};n.ga=function(){Ex.c.ga.call(this);Ix[this.t.j()]--;0==Ix[this.t.j()]&&(sh(Hx[this.t.j()]),Hx[this.t.j()]=null);sh(this.us)};function Kx(a,b){var c=Fx[a.t.j()];if(!c)return null;for(var d in c)if(c[d].googTrackId===b&&"ssrc"===c[d].type)return c[d];return null}
function Lx(a){var b={};z(a.result(),function(a){var d={timestamp:a.timestamp,type:a.type,id:a.id};z(pi,function(b){a.stat(b)&&(d[b]=a.stat(b))});b[d.id]=d});return b}n.ss=function(){this.t.getStats().n(function(a){Fx[this.t.j()]=Lx(a);Hx[this.t.j()]=H(this.ss,2E3,this)},this)};
n.ts=function(){if(Fx[this.t.j()]){if(this.Cl){var a=Kx(this,this.Cl.id);if(a){var b="";a.packetsSent?b=Cx("%s\x3cbr\x3e%s input level\x3cbr\x3eecho cancel delay median:%s stddev:%s\x3cbr\x3e%s packets sent\x3cbr\x3e%s bytes sent\x3cbr\x3e%d ms RTT\x3cbr\x3ejitter %s ms\x3cbr\x3essrc %s\x3cbr\x3e",a.googCodecName,a.audioInputLevel,a.googEchoCancellationEchoDelayMedian,a.googEchoCancellationEchoDelayStdDev,a.packetsSent,a.bytesSent,a.googRtt,a.googJitterReceived,a.ssrc):a.packetsReceived&&(b=Cx("%s audio output level\x3cbr\x3e%s packets received\x3cbr\x3e%s packets lost\x3cbr\x3e%s bytes received\x3cbr\x3ejitter %s ms\x3cbr\x3essrc %s\x3cbr\x3e",
a.audioOutputLevel,a.packetsReceived,a.packetsLost,a.bytesReceived,a.googJitterReceived,a.ssrc));this.Bl=b}else this.Bl="Could not find report for audio track '"+this.Cl.id+"'\x3cbr\x3e"}this.Lo&&((b=Kx(this,this.Lo.id))?(a="",b.packetsSent?a=Cx("%sx%s %s fps\x3cbr\x3e%s packets sent\x3cbr\x3e%s bytes sent\x3cbr\x3e%d ms RTT\x3cbr\x3essrc %s\x3cbr\x3e",b.googFrameWidthSent,b.googFrameHeightSent,b.googFrameRateSent,b.packetsSent,b.bytesSent,b.googRtt,b.ssrc):b.packetsReceived&&(a=Cx("%sx%s %s fps\x3cbr\x3e%s packets received\x3cbr\x3e%s packets lost\x3cbr\x3e%s bytes received\x3cbr\x3essrc %s\x3cbr\x3e",
b.googFrameWidthReceived,b.googFrameHeightReceived,b.googFrameRateReceived,b.packetsReceived,b.packetsLost,b.bytesReceived,b.ssrc)),(b=Fx[this.t.j()])&&(b=b.bweforvideo)&&(a+=Cx("\x3cHR\x3eBandwidth Estimator for Video\x3cHR\x3eBandwidth receive:%s send:%s\x3cbr\x3eEncode bitrate target:%s actual:%s\x3cbr\x3eTransmit bitrate:%s restransmit:%s\x3cbr\x3eBucket delay: %s\x3cbr\x3e",b.googAvailableReceiveBandwidth,b.googAvailableSendBandwidth,b.googTargetEncBitrate,b.googActualEncBitrate,b.googTransmitBitrate,
b.googRetransmitBitrate,b.googBucketDelay)),this.Ko=a):this.Ko="Could not find report for video track '"+this.Lo.id+"'");var a={},b=Fx[this.t.j()],c;for(c in b){var d=b[c];"true"==d.googActiveConnection&&(a.googActiveConnection="true",a.googLocalAddress=d.googLocalAddress,a.googRemoteAddress=d.googRemoteAddress,a.bytesSent=d.bytesSent,a.bytesReceived=d.bytesReceived);d.googInitiator&&(a.googInitiator=d.googInitiator)}this.gp=6!=Jc(a)?"No connection stats":Cx("Local Address %s\x3cbr\x3eRemote Address %s\x3cbr\x3eActive? %s\x3cbr\x3eInitiator? %s\x3cbr\x3eBytes sent:%s recv:%s\x3cbr\x3e",
a.googLocalAddress,a.googRemoteAddress,a.googActiveConnection,a.googInitiator,a.bytesSent,a.bytesReceived);Jx(this)}this.us=H(this.ts,2E3,this)};function Mx(a){var b=window.$vline&&window.$vline.pb();b&&(Ic(b.Ve,function(b){Bx(b,a)}),Gx=a)};function bx(a,b,c,d){$.call(this,c);this.A=a||null;this.I=(this.ob=b||null)&&this.ob.ia().I;this.xc=[];this.Ac=[];this.wo=[];this.Ab=null;this.fk=0;this.wq=new oq(0,0,0,0);this.xe=-1;this.ez="";this.Ml=new tx(this,this.I,a,c);this.Kp=d;this.ll=!1;this.Fq=null}y(bx,$);Ve("videoPanel",bx);function Nx(a,b,c){var d=640,f=480,g;if(a.ze){if(g=a.ze.videoWidth)d=g;if(a=a.ze.videoHeight)f=a}else a.jq&&(f=d=40);return Math.min(Math.ceil(b*(d/f)),c)}n=bx.prototype;n.mn=!0;
function Ox(a){return gb(a.Ac,function(a){return a.za===Fl(this.A)},a)}function Px(a){var b=null,c=-1;if(a.Ac){for(var d=0;d<a.Ac.length;++d){var f=a.Ac[d].za;f.ak&&f.Ll>c&&(b=a.Ac[d],c=f.Ll)}if(!b||!b.za)return null}return b}
n.Z=function(a){bx.c.Z.call(this,a);a.className="vl-video-panel";qq(a,{position:"absolute",top:0,bottom:0,left:0,right:0,overflow:"hidden","-webkit-perspective":"500px"});this.ra(this.Ml,!0);if(this.A&&this.e()){a=this.A.Dh();var b=this.A.Od();z(a,this.Yi,this);z(b,this.Yi,this);this.J&&this.kd(!0)}};n.v=function(){bx.c.v.call(this);this.A&&Qx(this,this.A);H(function(){this.kd(!1)},0,this)};
function Qx(a,b){Ql(b,!0);a.C().g(b,"mediaSession:addLocalStream",a.kr).g(b,"mediaSession:addRemoteStream",a.kr).g(b,"mediaSession:removeRemoteStream",a.Uw).g(a,"speaking:start",a.Rw).g(a,"speaking:stop",a.Sw).g(a,"mediaStreamTrack:videoresolutionchange",a.px)}n.addStream=function(a){this.Yi(a)};n.ga=function(){-1!==this.xe&&sh(this.xe);Ql(this.A,!1);bx.c.ga.call(this)};
function Rx(a,b){var c=b&&a.J,d=Kq(a.e()),f=d.width,d=d.height,g=0.05*d,h=[],k=pb(a.Ac),m,p,r,s,v,N,I,ca,Na,V;1===a.xc.length&&1<=a.Ac.length?(p=a.xc[0],v=Math.max(0.2*d,90),v=Math.min(v,d/2),s=Nx(p,v,f),kx(p,c,s,v,d-g-v,f-g-s,void 0,1),ix(p,!0),s=a.ob.ia().I,v=a.A.hi,s&&p.show(gj(v.I,T.Is))):(z(a.xc,function(a){ix(a,!1)}),k.push.apply(k,a.xc));if(1===k.length&&k[0].za.Pd())kx(k[0],c,f,d,0,0,void 0,0);else for(ca=2*g,Na=Sx(k,d,f,ca),V=Math.ceil(k.length/Na),g=p=0;p<Na;++p){V=Math.min(V,k.length-g);
N=Math.floor((f-ca)/V);v=Math.floor(d/Na);I=0;r=h.length=0;for(m=g;r<V;++r,++m)s=Nx(k[m],v,N),I+=s,h.push(s);I=(f-I)/2;for(r=0;r<V;++r,++g)m=1===k.length?0:0===r&&1<V?1:r===V-1&&1<V?3:2,s=Nx(k[g],v,N),kx(k[g],c,h[r],v,v*p,I,m,0),I+=h[r]}}function Sx(a,b,c,d){for(var f=0,g=0,h=1;h<=a.length;++h){var k=Math.ceil(a.length/h),m;m=a;for(var p=Math.floor(b/h),k=(c-d)/k,r=0,s=0;s<m.length;++s)r+=Nx(m[s],p,k);m=0<m.length?r/m.length:0;m>f&&Math.ceil(a.length/h)*m<=c*h&&(f=m,g=h)}return g}
function Tx(a,b){var c=b&&a.J||!1,d=Kq(a.e()),f=d.width,d=d.height,g=0.05*d,h=pb(a.xc),k,m,p,r,s=[],v=0,N,I,ca,Na;h.push.apply(h,a.Ac);mb(h,Ox(a));if(1===h.length)z(a.xc,function(a){ix(a,!1)}),a.Ab&&(a.removeChild(a.Ab,!0),delete a.Ab),a.xc[0].za.Pd()&&kx(a.xc[0],c,f,d,0,0,void 0,0);else{k=Math.max(0.2*(d-g)-g,90);m=Math.min(g,18);p=Math.floor(2*k);for(r=0;r<h.length;++r)s[r]=Nx(h[r],k,p),v=Math.max(s[r],v);N=Math.floor((d-3*g)/k);I=Math.max(Math.ceil(h.length/N),1);for(r=0;r<I;++r){var V=r*N;ca=
g;Na=g+m*r+r*v;for(p=0;p<N&&V+p<h.length;++p)kx(h[V+p],c,s[V+p],k,ca,Na,void 0,1),ix(h[V+p],!0),ca+=k+m}g=ua();!(h=Px(a))||!h.za||a.Ab&&a.Fq==h.za.Bk?a.fk<g-2500&&(a.fk=g-2500+500):(a.Ab||(k=Fl(a.A),a.Ab=new hx(k,null,a.o(),!1,0),a.Ab.nb("main"),a.ra(a.Ab,!0)),a.A.Do(h.za.Bk),a.Fq=h.za.Bk,a.fk=g);a.Ab&&(kx(a.Ab,c,f,d,0,0),a.Ab.show(!0,"fade"));Ux(a)}}
n.kd=function(a){Ml(this.A)?Tx(this,a):Rx(this,a);a=Kq(this.e());if(!pq(a,this.wq)){this.wq=a;var b=this.Ml.e(),c=Au(b);c&&qq(b,{visibility:"hidden"});this.Ml.kd(a);var d=Iq(b).width;b.style.left=(a.width-d)/2+"px";c&&(b.style.visibility="visible")}};
n.Yi=function(a){if(!Vx(this,a)){lb(this.wo,a);a.Ea()?(F(this.G,"Add local stream to videoPanel"),this.C().g(a,"mediaStream:end",this.$v)):F(this.G,"Add remote stream to videoPanel");var b=a.Ea()?this.ob.kf().Ba.gd():this.A.gd(),b=new hx(a,b,this.o(),void 0,1);this.ra(b,!0);a.Cc?Wx(this,b):this.C().g(a,"mediaStream:start",this.Vw)}};function Vx(a,b){return!!gb(a.wo,function(a){return b===a})}n.Jr=function(){this.kd(!1)};n.kr=function(a){this.Yi(a.stream);a.stream.Cc&&this.kd(!0)};
n.$v=function(a){Xx(this,a.target)};n.Uw=function(a){Xx(this,a.stream)};function Xx(a,b){mb(a.wo,b);var c=$q(a,b.j());if(!a.Ic){if(c&&(Yx(a,c),a.Ab&&c.za===a.Ab.za)){-1!==a.xe&&(sh(a.xe),a.xe=-1);a.kd(!0);return}a.kd(!0)}}n.Vw=function(a){a=$q(this,a.target.j());Wx(this,a);this.kd(!0)};function Wx(a,b){F(a.G,"Showing video in videoPanel");b.show(!0,"fade");(b.Ea()?a.xc:a.Ac).push(b)}
function Yx(a,b){F(a.G,"Hiding video in videoPanel");b.show(!1,"fade").Ye(function(){!this.Ic&&this.removeChild(b);b.F()},a);var c=b.Ea()?a.xc:a.Ac;mb(c,b)}n.Rw=function(a){a=a.target;this.Ab&&this.Ab.za!==a.za&&Ux(this)};n.Sw=function(a){this.Ab&&this.Ab.za===a.target.za&&Ux(this)};n.px=function(){Ux(this)};function Ux(a){if(-1===a.xe){var b=a.fk+2500-ua(),b=Math.max(b,0);a.xe=H(function(){this.xe=-1;this.kd(!0)},b,a)}}
function Bx(a,b){b&&!a.ll?(a.ll=!0,z(a.A.sa,function(a){var b=a.t;z(this.xc,function(a){var c=a.za;if((ib(b.Kb,c)||ib(b.T,c))&&(0<Vi(c).length&&0<Ui(c).length)&&0==br(a)){var h=new Ex(Vi(c)[0],Ui(c)[0],b);h.load().n(function(){a.ra(h,!0)})}});z(this.Ac,function(a){var c=a.za;if((ib(b.Kb,c)||ib(b.T,c))&&(0<Vi(c).length&&0<Ui(c).length)&&0==br(a)){var h=new Ex(Vi(c)[0],Ui(c)[0],b);h.load().n(function(){a.ra(h,!0)})}})},a)):!b&&a.ll&&(a.ll=!1,z(a.xc,function(a){a.Qn(!0)},a),z(a.Ac,function(a){a.Qn(!0)},
a))};function $w(a){Zt.call(this,"vl-not-dialog",a);this.Rh=this.qi=null;this.Xe()}y($w,Zt);n=$w.prototype;n.Vk=!1;n.Xe=function(){this.C().g(this,"hide",this.ff).g(this,Al,this.mw).g(this,wl,this.Rv)};n.mw=function(a){this.qi=new gx(a.mediaSession,this.o());$t(this,this.qi)};n.Rv=function(a){this.Rh=new fx(a.mediaSession,this.o());$t(this,this.Rh)};n.k=function(){this.ff();$w.c.k.call(this)};n.ff=function(a){a&&a.target!==this||(this.qi&&(this.qi.F(),this.qi=null),this.Rh&&(this.Rh.F(),this.Rh=null))};
n.mp=function(){var a=this.e();return new mt(a,a)};function Yw(a){wt.call(this,!1,a);this.wf=!1}y(Yw,wt);Yw.prototype.w=function(){Yw.c.w.call(this);var a=this.e();a.className="vl-call-arrow-wrapper";this.jf().className="vl-dialog-bg";var b=cd("div",{});a.appendChild(b);a="vl-call-arrow animated bounce";Ci&&(a+=" vl-call-arrow-firefox");b.className=a;b=this.jf();a=this.e();Bt(this,fu(a,0.25),gu(a,0.25),fu(b,0.25),gu(b,0.25))};Yw.prototype.show=function(a){this.wf&&this.ha(a);return new G("showing")};Yw.prototype.se=e("wf");
Yw.prototype.load=function(){this.wf=!0;return new G("loaded")};function Zx(a,b){Gw.call(this,b);this.ob=a}y(Zx,Gw);n=Zx.prototype;n.navigate=function(a,b){Zx.c.navigate.call(this,a,b);window._gaq.push(["_trackPageview",a])};n.mo=function(){var a=Pw(this),b=Xw(this,a.ug);Sw(this,b,a)};n.Oj=function(a){var b=Pw(this),c=Xw(this,b.ug);return Uw(this,c,b,a)};n.np=function(a){var b=Pw(this);return Zw(this,a,b.ug)};n.Pj=function(a,b){Ww(this,a,b)};n.Wk=function(a,b){return Rw(this,a,b)};n.ga=function(){Zx.c.ga.call(this);console.log("Application exited while on page?")};
n.fs=function(a){var b=dx(this);return(a=this.Ve[a])?Sw(this,a,b):new G("no panel")};n.rp=function(a,b){var c=dx(this,b),d=c.e();return ax(this,a,c.ug,d)};n.fq=function(a,b){F(this.G,"Hiding video panel");cx(this,a,b)};function $x(a){this.I=new dj(a,T);this.Bo=this.eb=this.Sf=this.Pr=this.ob=this.jb=this.vk=null}n=$x.prototype;n.oa=function(){var a=this.I;return R(a,"serviceId")||R(a,"appId")};n.M=function(){return this.ob||(this.ob=new Y(this))};function Mk(a){return a.jb||(a.jb=new Ym(a))}n.Ij=function(){return this.Pr||(this.Pr=Jn(this,null))};n.mf=function(){var a;if(!(a=this.Bo)){a=new Zx(this.M());var b=new ht(this,a);a.load(document.body);a=this.Bo=b}return a};n.pb=function(){return this.mf().pb()};
function Jn(a,b){if(b){var c=a.M().rm(),d,f=b.Pa();f&&(d=f.Ug);for(f=0;f<c.length;f++)if(null!=c[f]&&d===c[f].Pa().Ug)return c[f]}return new pn(a,b,new Ho,a.Sf||(a.Sf=Kn(a)))}n.Ol=function(a,b,c,d,f){var g=a.r(),h=d&&d.Fj()||Qi(),h=g.V.put(gi("/local/peerSession",h),"peerSession").La().Ia;h.re(g,a,b,c,d,f);return h};function Kn(a){var b=new Ho;new Dp(a.vk||(a.vk=new Hm),b,a.I);return b};function ay(a){u(a)&&(a={appId:a});a=(new $x(a)).M();if(!a.nq){a.nq=!0;var b=(new zn(a.L,null,!0)).Pa();b?(tn(b.Nn.r(),b),a.Ca()):Rn(a)}a.rm();a.ia().I.get("ui")?a.pb():pe().n(jk);return a};x("vline.LogLevels.ERROR",ce);x("vline.LogLevels.WARNING",de);x("vline.LogLevels.INFO",ee);x("vline.LogLevels.FINE",ge);x("vline.LogLevels.FINER",he);x("vline.LogLevels.FINEST",ie);x("vline.LogLevels.OFF",ae);x("vline.MediaStates.INACTIVE","inactive");x("vline.MediaStates.PENDING","pending");x("vline.MediaStates.INCOMING","incoming");x("vline.MediaStates.OUTGOING","outgoing");x("vline.MediaStates.ACTIVE","active");x("vline.PresenceStates.OFFLINE","offline");x("vline.PresenceStates.ONLINE","online");
x("vline.PresenceStates.AWAY","away");x("vline.PresenceStates.DO_NOT_DISTURB","do_not_disturb");x("vline.PresenceStates.INVISIBLE","invisible");x("vline.PresenceStates.NONE","none");x("vline.client.create",ay);x("vline.config",T);x("vline.ui.create",function(a,b){return new ht(a.ia(),b)});x("vline.log.setLevel",He);x("vline.ui.showStatsPanels",Mx);x("vline.ui.toggleStatsPanels",function(){Gx=!Gx;Mx(Gx)});x("vline.defer",th);x("vline.when",Ah);x("vline.Promise.prototype",G.prototype);
x("vline.Promise.prototype.always",G.prototype.Ye);x("vline.Promise.prototype.done",G.prototype.n);x("vline.Promise.prototype.then",G.prototype.$k);x("vline.Promise.prototype.fail",G.prototype.Mb);x("vline.EventTarget.prototype",Q.prototype);x("vline.EventTarget.prototype.on",Q.prototype.on);x("vline.EventTarget.prototype.off",Q.prototype.rn);x("vline.EventTarget.prototype.one",Q.prototype.En);x("vline.EventTarget.prototype.getId",Q.prototype.j);x("vline.Events.SESSION_INTRODUCE","pub:sig:sessionIntroduce");
x("vline.Events.SESSION_INITIATE","pub:sig:sessionInitiate");x("vline.Events.SESSION_TERMINATE","pub:sig:sessionTerminate");x("vline.Events.SESSION_CANDIDATE","pub:sig:transportCandidate");x("vline.Events.SESSION_ACCEPT","pub:sig:sessionAccept");x("vline.Events.UPDATE_SESSION_SOURCE","pub:updateSessionSource");x("vline.Events.SESSION_WELCOME","pub:sig:sessionWelcome");x("vline.Client.create",ay);x("vline.Client.prototype",Y.prototype);x("vline.Client.prototype.connect",Y.prototype.dg);
x("vline.Client.prototype.disconnect",Y.prototype.disconnect);x("vline.Client.prototype.login",Y.prototype.yf);x("vline.Client.prototype.logout",Y.prototype.ic);x("vline.Client.prototype.isConnected",Y.prototype.vf);x("vline.Client.prototype.isLoggedIn",Y.prototype.Vh);x("vline.Client.prototype.isAnonymous",Y.prototype.Xj);x("vline.Client.prototype.getConnectionState",Y.prototype.Ld);x("vline.Client.prototype.getDefaultSession",Y.prototype.kf);x("vline.Client.prototype.getSessions",Y.prototype.rm);
x("vline.Client.prototype.getMediaSessions",Y.prototype.ng);x("vline.Client.prototype.getIncomingMediaSessions",Y.prototype.Dj);x("vline.Client.prototype.getOutgoingMediaSessions",Y.prototype.Hj);x("vline.Client.prototype.getActiveMediaSession",Y.prototype.Aj);x("vline.Client.prototype.getUnreadCount",Y.prototype.nf);x("vline.Client.prototype.hasMediaSessions",Y.prototype.pu);x("vline.Client.prototype.hasActiveMediaSession",Y.prototype.mu);x("vline.Client.prototype.hasIncomingMediaSessions",Y.prototype.ou);
x("vline.Client.prototype.hasOutgoingMediaSessions",Y.prototype.ru);x("vline.Client.prototype.hasPendingMediaSessions",Y.prototype.Gm);x("vline.Client.prototype.hasPendingMediaStreams",Y.prototype.Hm);x("vline.Client.prototype.stopMediaSessions",Y.prototype.ro);x("vline.Client.prototype.setAnswerTimeout",Y.prototype.Mx);x("vline.Client.prototype.setRingtone",Y.prototype.io);x("vline.Client.prototype.setIncomingMessageSound",Y.prototype.Ox);x("vline.Client.prototype.getUiModule",Y.prototype.mf);
x("vline.Client.prototype.getLocalStream",Y.prototype.Ej);x("vline.Session.prototype",pn.prototype);x("vline.Session.prototype.logout",pn.prototype.ic);x("vline.Session.prototype.getAuthToken",pn.prototype.yh);x("vline.Session.prototype.getContacts",pn.prototype.It);x("vline.Session.prototype.getProviderUrl",pn.prototype.Ih);x("vline.Session.prototype.getLocalPerson",pn.prototype.Lt);x("vline.Session.prototype.getLocalPersonId",pn.prototype.Qa);x("vline.Session.prototype.getPerson",pn.prototype.qb);
x("vline.Session.prototype.getUnreadCount",pn.prototype.nf);x("vline.Session.prototype.setPresence",pn.prototype.Uk);x("vline.Session.prototype.setStatus",pn.prototype.Og);x("vline.Session.prototype.postMessage",pn.prototype.postMessage);x("vline.Session.prototype.publishMessage",pn.prototype.Ek);x("vline.Session.prototype.startMedia",pn.prototype.Pe);x("vline.Session.prototype.stopMedia",pn.prototype.Qe);x("vline.Session.prototype.joinGroup",pn.prototype.Nu);
x("vline.Session.prototype.createRoom",pn.prototype.kt);x("vline.Session.prototype.getRoom",pn.prototype.Qp);x("vline.Session.prototype.publishToRemoteSession",pn.prototype.Ax);x("vline.Channel.prototype",X.prototype);x("vline.Channel.prototype.postMessage",X.prototype.postMessage);x("vline.Channel.prototype.publishMessage",X.prototype.Ek);x("vline.Channel.prototype.startMedia",X.prototype.Pe);x("vline.Channel.prototype.stopMedia",X.prototype.Qe);x("vline.Channel.prototype.informLocalTyping",X.prototype.kq);
x("vline.Channel.prototype.getId",X.prototype.j);x("vline.Channel.prototype.getShortId",X.prototype.Vt);x("vline.Channel.prototype.getDisplayName",X.prototype.Md);x("vline.Channel.prototype.getMessages",X.prototype.Ot);x("vline.Channel.prototype.getMediaSession",X.prototype.Nt);x("vline.Channel.prototype.getProfileUrl",X.prototype.pm);x("vline.Channel.prototype.getThumbnailUrl",X.prototype.gd);x("vline.Channel.prototype.getStatus",X.prototype.oe);x("vline.Channel.prototype.getUnreadCount",X.prototype.nf);
x("vline.Channel.prototype.isMediaSupported",X.prototype.Du);x("vline.Channel.prototype.isActive",X.prototype.Pc);x("vline.Channel.prototype.isTyping",X.prototype.Ju);x("vline.Channel.prototype.setMessageSoundEnabled",X.prototype.Px);x("vline.Channel.prototype.setActive",X.prototype.setActive);x("vline.Channel.prototype.setStatus",X.prototype.Og);x("vline.Channel.prototype.getPath",X.prototype.l);x("vline.Channel.prototype.getType",X.prototype.X);x("vline.Channel.prototype.retain",X.prototype.La);
x("vline.Channel.prototype.release",X.prototype.ja);x("vline.Channel.prototype.autorelease",X.prototype.vb);x("vline.Person.prototype",cm.prototype);x("vline.Person.prototype.getUsername",cm.prototype.tm);x("vline.Person.prototype.getPresenceState",cm.prototype.pg);x("vline.Person.prototype.getPresenceDesc",cm.prototype.om);x("vline.Group.prototype",Pm.prototype);x("vline.Group.prototype.getMembers",Pm.prototype.Fh);x("vline.Group.prototype.startGroupMedia",Pm.prototype.Xx);
x("vline.Room.prototype",Sm.prototype);x("vline.Room.prototype.join",Sm.prototype.join);x("vline.Room.prototype.leave",Sm.prototype.Ag);x("vline.Room.prototype.startMedia",Sm.prototype.Pe);x("vline.Room.prototype.stopMedia",Sm.prototype.Qe);x("vline.Message.prototype",U.prototype);x("vline.Message.prototype.getSender",U.prototype.Ut);x("vline.Message.prototype.getSenderId",U.prototype.Kh);x("vline.Message.prototype.getChannel",U.prototype.Xb);x("vline.Message.prototype.getChannelId",U.prototype.Ht);
x("vline.Message.prototype.getSessionId",U.prototype.Nc);x("vline.Message.prototype.getBody",U.prototype.Mp);x("vline.Message.prototype.getError",U.prototype.getError);x("vline.Message.prototype.getPath",U.prototype.l);x("vline.Message.prototype.getType",U.prototype.X);x("vline.Message.prototype.getId",U.prototype.j);x("vline.Message.prototype.retain",U.prototype.La);x("vline.Message.prototype.release",U.prototype.ja);x("vline.Message.prototype.autorelease",U.prototype.vb);
x("vline.msg.CandidateSignal",uk);x("vline.msg.CandidateSignal.prototype",uk.prototype);x("vline.msg.VADStateTransition",xk);x("vline.msg.VADStateTransition.prototype",xk.prototype);x("vline.msg.VADStateConfidence",ml);x("vline.msg.VADStateConfidence.prototype",ml.prototype);x("vline.msg.UpdateSessionSource",Ck);x("vline.msg.UpdateSessionSource.prototype",Ck.prototype);x("vline.msg.UpdateSessionSource.prototype.getNewSourceMediaSessionId",Ck.prototype.Rt);x("vline.msg.Signal.prototype",qk.prototype);
x("vline.msg.Signal.prototype.getMediaSessionId",qk.prototype.Fj);x("vline.msg.SdpSignal.prototype",tk.prototype);x("vline.msg.SdpSignal.prototype.getSdp",tk.prototype.Jj);x("vline.msg.CandidateSignal.prototype",uk.prototype);x("vline.msg.CandidateSignal.prototype.getSdpMid",uk.prototype.Sp);x("vline.msg.CandidateSignal.prototype.getSdpMLineIndex",uk.prototype.Rp);x("vline.MediaSession.prototype",W.prototype);x("vline.MediaSession.prototype.start",W.prototype.start);
x("vline.MediaSession.prototype.stop",W.prototype.stop);x("vline.MediaSession.prototype.getChannel",W.prototype.Xb);x("vline.MediaSession.prototype.getDisplayName",W.prototype.Md);x("vline.MediaSession.prototype.getThumbnailUrl",W.prototype.gd);x("vline.MediaSession.prototype.getMediaState",W.prototype.Mc);x("vline.MediaSession.prototype.getLocalStreams",W.prototype.Dh);x("vline.MediaSession.prototype.getRemoteStreams",W.prototype.Od);x("vline.MediaSession.prototype.hasVideo",W.prototype.Pd);
x("vline.MediaSession.prototype.hasAudio",W.prototype.Nj);x("vline.MediaSession.prototype.isPending",W.prototype.Gu);x("vline.MediaSession.prototype.isIncoming",W.prototype.Bu);x("vline.MediaSession.prototype.isOutgoing",W.prototype.Fu);x("vline.MediaSession.prototype.isConnecting",W.prototype.Tm);x("vline.MediaSession.prototype.isActive",W.prototype.Pc);x("vline.MediaSession.prototype.isClosed",W.prototype.zu);x("vline.MediaSession.prototype.isAudioMuted",W.prototype.Yj);
x("vline.MediaSession.prototype.isVideoMuted",W.prototype.Wm);x("vline.MediaSession.prototype.setAudioMuted",W.prototype.Ng);x("vline.MediaSession.prototype.setVideoMuted",W.prototype.Pg);x("vline.MediaSession.prototype.isVideoPanelVisible",W.prototype.Ku);x("vline.MediaSession.prototype.getConnectionType",W.prototype.jm);x("vline.MediaSession.prototype.isInitiator",W.prototype.Cu);x("vline.MediaSession.prototype.transfer",W.prototype.fl);x("vline.MediaSession.prototype.getParticipants",W.prototype.St);
x("vline.MediaStream.prototype",Ti.prototype);x("vline.MediaStream.prototype.stop",Ti.prototype.stop);x("vline.MediaStream.prototype.setAudioMuted",Ti.prototype.Ng);x("vline.MediaStream.prototype.setVideoMuted",Ti.prototype.Pg);x("vline.MediaStream.prototype.createMediaElement",Ti.prototype.pp);x("vline.MediaStream.prototype.createVideoElement",Ti.prototype.qp);x("vline.MediaStream.prototype.createAudioElement",Ti.prototype.lp);x("vline.MediaStream.prototype.getNativeStream",Ti.prototype.Qt);
x("vline.MediaStream.prototype.hasAudio",Ti.prototype.Nj);x("vline.MediaStream.prototype.hasVideo",Ti.prototype.Pd);x("vline.MediaStream.prototype.isAudioMuted",Ti.prototype.Yj);x("vline.MediaStream.prototype.isVideoMuted",Ti.prototype.Wm);x("vline.MediaStream.prototype.isStarted",Ti.prototype.tq);x("vline.MediaStream.prototype.isLocal",Ti.prototype.Ea);x("vline.MediaStream.prototype.isRemote",Ti.prototype.Iu);x("vline.MediaStream.prototype.getPerson",Ti.prototype.qb);x("vline.Entity.prototype",K.prototype);
x("vline.Entity.prototype.getCreationTime",K.prototype.km);x("vline.Entity.prototype.getPath",K.prototype.l);x("vline.Entity.prototype.getType",K.prototype.X);x("vline.Entity.prototype.getId",K.prototype.j);x("vline.Entity.prototype.retain",K.prototype.La);x("vline.Entity.prototype.release",K.prototype.ja);x("vline.Entity.prototype.autorelease",K.prototype.vb);x("vline.Delegate.prototype",li.prototype);x("vline.Delegate.prototype.getId",li.prototype.j);x("vline.Delegate.prototype.retain",li.prototype.La);
x("vline.Delegate.prototype.release",li.prototype.ja);x("vline.Delegate.prototype.autorelease",li.prototype.vb);x("vline.Collection.prototype",Cm.prototype);x("vline.Collection.prototype.getRoot",Cm.prototype.Tt);x("vline.Collection.prototype.getPath",Cm.prototype.l);x("vline.Collection.prototype.getSize",Cm.prototype.fc);x("vline.Collection.prototype.getImpl",Cm.prototype.Jt);x("vline.Collection.prototype.get",Cm.prototype.get);x("vline.Collection.prototype.getAt",Cm.prototype.im);
x("vline.Collection.prototype.retain",Cm.prototype.La);x("vline.Collection.prototype.release",Cm.prototype.ja);x("vline.Collection.prototype.autorelease",Cm.prototype.vb);x("vline.Collection.prototype.hasNextPage",Cm.prototype.qu);x("vline.Collection.prototype.loadNextPage",Cm.prototype.Tu);x("vline.UiModule.prototype",ht.prototype);x("vline.UiModule.prototype.createMessageInput",ht.prototype.jt);x("vline.UiModule.prototype.createTextLogo",ht.prototype.lt);
x("vline.Browser.supportsChat",function(){return Oi()||Hi||Ci||Ii||Fi||Ei||Gi});x("vline.Browser.supportsWebRtc",Oi);x("vline.Browser.supportsHd",ri);x("vline.Browser.getUserAgentString",function(){return Bb()});x("vline.Browser.isVersion",function(a){return Li(a)});x("vline.Browser.getVersionString",function(){return Kb});x("vline.Browser.isFirefox",function(){return Ci});x("vline.Browser.isIE",function(){return A});x("vline.Browser.isOpera",function(){return Fb});x("vline.Browser.isSafari",function(){return Ii});
x("vline.Browser.isChrome",function(){return Hi});x("vline.Browser.isMobile",Mi);x("vline.MessageInput",gt);x("vline.MessageInput.prototype",gt.prototype);x("vline.MessageInput.prototype.setPersonId",gt.prototype.Qx);x("vline.MessageInput.prototype.render",gt.prototype.Qb);x("vline.Disposable.prototype",zg.prototype);x("vline.Disposable.prototype.dispose",zg.prototype.F);

})();